var fE=Object.defineProperty,pE=Object.defineProperties;var hE=Object.getOwnPropertyDescriptors;var ia=Object.getOwnPropertySymbols;var $g=Object.prototype.hasOwnProperty,Ug=Object.prototype.propertyIsEnumerable;var Bg=(e,n,t)=>n in e?fE(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,E=(e,n)=>{for(var t in n||={})$g.call(n,t)&&Bg(e,t,n[t]);if(ia)for(var t of ia(n))Ug.call(n,t)&&Bg(e,t,n[t]);return e},B=(e,n)=>pE(e,hE(n));var Vu=(e,n)=>{var t={};for(var r in e)$g.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&ia)for(var r of ia(e))n.indexOf(r)<0&&Ug.call(e,r)&&(t[r]=e[r]);return t};var nt=null,sa=!1,Uu=1,gE=null,ct=Symbol("SIGNAL");function V(e){let n=nt;return nt=e,n}function la(){return nt}var bi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _i(e){if(sa)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(e);let n=nt.producersTail;if(n!==void 0&&n.producer===e)return;let t,r=nt.recomputing;if(r&&(t=n!==void 0?n.nextProducer:nt.producers,t!==void 0&&t.producer===e)){nt.producersTail=t,t.lastReadVersion=e.version;return}let o=e.consumersTail;if(o!==void 0&&o.consumer===nt&&(!r||vE(o,nt)))return;let i=Eo(nt),s={producer:e,consumer:nt,nextProducer:t,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};nt.producersTail=s,n!==void 0?n.nextProducer=s:nt.producers=s,i&&qg(e,s)}function Hg(){Uu++}function Hu(e){if(!(Eo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Uu)){if(!e.producerMustRecompute(e)&&!ua(e)){$u(e);return}e.producerRecomputeValue(e),$u(e)}}function zu(e){if(e.consumers===void 0)return;let n=sa;sa=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||mE(r)}}finally{sa=n}}function Gu(){return nt?.consumerAllowSignalWrites!==!1}function mE(e){e.dirty=!0,zu(e),e.consumerMarkedDirty?.(e)}function $u(e){e.dirty=!1,e.lastCleanEpoch=Uu}function wi(e){return e&&zg(e),V(e)}function zg(e){e.producersTail=void 0,e.recomputing=!0}function ca(e,n){V(n),e&&Gg(e)}function Gg(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Eo(e))do t=qu(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function ua(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,r=n.lastReadVersion;if(r!==t.version||(Hu(t),r!==t.version))return!0}return!1}function Ei(e){if(Eo(e)){let n=e.producers;for(;n!==void 0;)n=qu(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function qg(e,n){let t=e.consumersTail,r=Eo(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!r)for(let o=e.producers;o!==void 0;o=o.nextProducer)qg(o.producer,o)}function qu(e){let n=e.producer,t=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:n.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(n.consumers=r,!Eo(n)){let i=n.producers;for(;i!==void 0;)i=qu(i)}return t}function Eo(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function Wu(e){gE?.(e)}function vE(e,n){let t=n.producersTail;if(t!==void 0){let r=n.producers;do{if(r===e)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Qu(e,n){return Object.is(e,n)}function da(e,n){let t=Object.create(yE);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Hu(t),_i(t),t.value===aa)throw t.error;return t.value};return r[ct]=t,Wu(t),r}var ju=Symbol("UNSET"),Bu=Symbol("COMPUTING"),aa=Symbol("ERRORED"),yE=B(E({},bi),{value:ju,dirty:!0,error:null,equal:Qu,kind:"computed",producerMustRecompute(e){return e.value===ju||e.value===Bu},producerRecomputeValue(e){if(e.value===Bu)throw new Error("");let n=e.value;e.value=Bu;let t=wi(e),r,o=!1;try{r=e.computation(),V(null),o=n!==ju&&n!==aa&&r!==aa&&e.equal(n,r)}catch(i){r=aa,e.error=i}finally{ca(e,t)}if(o){e.value=n;return}e.value=r,e.version++}});function bE(){throw new Error}var Wg=bE;function Qg(e){Wg(e)}function Zu(e){Wg=e}var _E=null;function Yu(e,n){let t=Object.create(fa);t.value=e,n!==void 0&&(t.equal=n);let r=()=>Zg(t);return r[ct]=t,Wu(t),[r,s=>Di(t,s),s=>Yg(t,s)]}function Zg(e){return _i(e),e.value}function Di(e,n){Gu()||Qg(e),e.equal(e.value,n)||(e.value=n,wE(e))}function Yg(e,n){Gu()||Qg(e),Di(e,n(e.value))}var fa=B(E({},bi),{equal:Qu,value:void 0,kind:"signal"});function wE(e){e.version++,Hg(),zu(e),_E?.(e)}function Ku(e){let n=V(null);try{return e()}finally{V(n)}}function z(e){return typeof e=="function"}function Do(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pa=Do(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ci(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Ze=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(i){n=i instanceof pa?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Kg(i)}catch(s){n=n??[],s instanceof pa?n=[...n,...s.errors]:n.push(s)}}if(n)throw new pa(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Kg(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ci(t,n)}remove(n){let{_finalizers:t}=this;t&&Ci(t,n),n instanceof e&&n._removeParent(this)}};Ze.EMPTY=(()=>{let e=new Ze;return e.closed=!0,e})();var Ju=Ze.EMPTY;function ha(e){return e instanceof Ze||e&&"closed"in e&&z(e.remove)&&z(e.add)&&z(e.unsubscribe)}function Kg(e){z(e)?e():e.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Co={setTimeout(e,n,...t){let{delegate:r}=Co;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Co;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ga(e){Co.setTimeout(()=>{let{onUnhandledError:n}=Jt;if(n)n(e);else throw e})}function xi(){}var Jg=Xu("C",void 0,void 0);function Xg(e){return Xu("E",void 0,e)}function em(e){return Xu("N",e,void 0)}function Xu(e,n,t){return{kind:e,value:n,error:t}}var Tr=null;function xo(e){if(Jt.useDeprecatedSynchronousErrorHandling){let n=!Tr;if(n&&(Tr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Tr;if(Tr=null,t)throw r}}else e()}function tm(e){Jt.useDeprecatedSynchronousErrorHandling&&Tr&&(Tr.errorThrown=!0,Tr.error=e)}var Nr=class extends Ze{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ha(n)&&n.add(this)):this.destination=CE}static create(n,t,r){return new Io(n,t,r)}next(n){this.isStopped?td(em(n),this):this._next(n)}error(n){this.isStopped?td(Xg(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?td(Jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EE=Function.prototype.bind;function ed(e,n){return EE.call(e,n)}var nd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){ma(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){ma(r)}else ma(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ma(t)}}},Io=class extends Nr{constructor(n,t,r){super();let o;if(z(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Jt.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ed(n.next,i),error:n.error&&ed(n.error,i),complete:n.complete&&ed(n.complete,i)}):o=n}this.destination=new nd(o)}};function ma(e){Jt.useDeprecatedSynchronousErrorHandling?tm(e):ga(e)}function DE(e){throw e}function td(e,n){let{onStoppedNotification:t}=Jt;t&&Co.setTimeout(()=>t(e,n))}var CE={closed:!0,next:xi,error:DE,complete:xi};var So=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(e){return e}function rd(...e){return od(e)}function od(e){return e.length===0?Xt:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var J=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=IE(t)?t:new Io(t,r,o);return xo(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=nm(r),new r((o,i)=>{let s=new Io({next:a=>{try{t(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[So](){return this}pipe(...t){return od(t)(this)}toPromise(t){return t=nm(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function nm(e){var n;return(n=e??Jt.Promise)!==null&&n!==void 0?n:Promise}function xE(e){return e&&z(e.next)&&z(e.error)&&z(e.complete)}function IE(e){return e&&e instanceof Nr||xE(e)&&ha(e)}function SE(e){return z(e?.lift)}function ie(e){return n=>{if(SE(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(e,n,t,r,o){return new id(e,n,t,r,o)}var id=class extends Nr{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var rm=Do(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class e extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new va(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new rm}next(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Ju:(this.currentObservers=null,i.push(t),new Ze(()=>{this.currentObservers=null,Ci(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return e.create=(n,t)=>new va(n,t),e})(),va=class extends Re{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Ju}};var Ye=class extends Re{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var vt=new J(e=>e.complete());function om(e){return e&&z(e.schedule)}function im(e){return e[e.length-1]}function ya(e){return z(im(e))?e.pop():void 0}function nr(e){return om(im(e))?e.pop():void 0}function am(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(h){s(h)}}function l(u){try{c(r.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,n||[])).next())})}function sm(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(e){return this instanceof Ar?(this.v=e,this):new Ar(e)}function lm(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(m){return function(_){return Promise.resolve(_).then(m,h)}}function a(m,_){r[m]&&(o[m]=function(I){return new Promise(function(x,S){i.push([m,I,x,S])>1||l(m,I)})},_&&(o[m]=_(o[m])))}function l(m,_){try{c(r[m](_))}catch(I){v(i[0][3],I)}}function c(m){m.value instanceof Ar?Promise.resolve(m.value.v).then(u,h):v(i[0][2],m)}function u(m){l("next",m)}function h(m){l("throw",m)}function v(m,_){m(_),i.shift(),i.length&&l(i[0][0],i[0][1])}}function cm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof sm=="function"?sm(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,l){s=e[i](s),o(a,l,s.done,s.value)})}}function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}}var ba=e=>e&&typeof e.length=="number"&&typeof e!="function";function _a(e){return z(e?.then)}function wa(e){return z(e[So])}function Ea(e){return Symbol.asyncIterator&&z(e?.[Symbol.asyncIterator])}function Da(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ME(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ca=ME();function xa(e){return z(e?.[Ca])}function Ia(e){return lm(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield Ar(t.read());if(o)return yield Ar(void 0);yield yield Ar(r)}}finally{t.releaseLock()}})}function Sa(e){return z(e?.getReader)}function Oe(e){if(e instanceof J)return e;if(e!=null){if(wa(e))return kE(e);if(ba(e))return TE(e);if(_a(e))return NE(e);if(Ea(e))return um(e);if(xa(e))return AE(e);if(Sa(e))return RE(e)}throw Da(e)}function kE(e){return new J(n=>{let t=e[So]();if(z(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TE(e){return new J(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function NE(e){return new J(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ga)})}function AE(e){return new J(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function um(e){return new J(n=>{OE(e,n).catch(t=>n.error(t))})}function RE(e){return um(Ia(e))}function OE(e,n){var t,r,o,i;return am(this,void 0,void 0,function*(){try{for(t=cm(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function yt(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ma(e,n=0){return ie((t,r)=>{t.subscribe(se(r,o=>yt(r,e,()=>r.next(o),n),()=>yt(r,e,()=>r.complete(),n),o=>yt(r,e,()=>r.error(o),n)))})}function ka(e,n=0){return ie((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function dm(e,n){return Oe(e).pipe(ka(n),Ma(n))}function fm(e,n){return Oe(e).pipe(ka(n),Ma(n))}function pm(e,n){return new J(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function hm(e,n){return new J(t=>{let r;return yt(t,n,()=>{r=e[Ca](),yt(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>z(r?.return)&&r.return()})}function Ta(e,n){if(!e)throw new Error("Iterable cannot be null");return new J(t=>{yt(t,n,()=>{let r=e[Symbol.asyncIterator]();yt(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function gm(e,n){return Ta(Ia(e),n)}function mm(e,n){if(e!=null){if(wa(e))return dm(e,n);if(ba(e))return pm(e,n);if(_a(e))return fm(e,n);if(Ea(e))return Ta(e,n);if(xa(e))return hm(e,n);if(Sa(e))return gm(e,n)}throw Da(e)}function be(e,n){return n?mm(e,n):Oe(e)}function L(...e){let n=nr(e);return be(e,n)}function Mo(e,n){let t=z(e)?e:()=>e,r=o=>o.error(t());return new J(n?o=>n.schedule(r,0,o):r)}function Na(e){return!!e&&(e instanceof J||z(e.lift)&&z(e.subscribe))}var Rn=Do(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(e,n){let t=typeof n=="object";return new Promise((r,o)=>{let i=!1,s;e.subscribe({next:a=>{s=a,i=!0},error:o,complete:()=>{i?r(s):t?r(n.defaultValue):o(new Rn)}})})}function X(e,n){return ie((t,r)=>{let o=0;t.subscribe(se(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:PE}=Array;function FE(e,n){return PE(n)?e(...n):e(n)}function Aa(e){return X(n=>FE(e,n))}var{isArray:LE}=Array,{getPrototypeOf:VE,prototype:jE,keys:BE}=Object;function Ra(e){if(e.length===1){let n=e[0];if(LE(n))return{args:n,keys:null};if($E(n)){let t=BE(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function $E(e){return e&&typeof e=="object"&&VE(e)===jE}function Oa(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Pa(...e){let n=nr(e),t=ya(e),{args:r,keys:o}=Ra(e);if(r.length===0)return be([],n);let i=new J(UE(r,n,o?s=>Oa(o,s):Xt));return t?i.pipe(Aa(t)):i}function UE(e,n,t=Xt){return r=>{vm(n,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let l=0;l<o;l++)vm(n,()=>{let c=be(e[l],n),u=!1;c.subscribe(se(r,h=>{i[l]=h,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vm(e,n,t){e?yt(t,e,n):n()}function ym(e,n,t,r,o,i,s,a){let l=[],c=0,u=0,h=!1,v=()=>{h&&!l.length&&!c&&n.complete()},m=I=>c<r?_(I):l.push(I),_=I=>{i&&n.next(I),c++;let x=!1;Oe(t(I,u++)).subscribe(se(n,S=>{o?.(S),i?m(S):n.next(S)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;l.length&&c<r;){let S=l.shift();s?yt(n,s,()=>_(S)):_(S)}v()}catch(S){n.error(S)}}))};return e.subscribe(se(n,m,()=>{h=!0,v()})),()=>{a?.()}}function Ke(e,n,t=1/0){return z(n)?Ke((r,o)=>X((i,s)=>n(r,i,o,s))(Oe(e(r,o))),t):(typeof n=="number"&&(t=n),ie((r,o)=>ym(r,o,e,t)))}function ko(e=1/0){return Ke(Xt,e)}function bm(){return ko(1)}function To(...e){return bm()(be(e,nr(e)))}function Si(e){return new J(n=>{Oe(e()).subscribe(n)})}function Mi(...e){let n=ya(e),{args:t,keys:r}=Ra(e),o=new J(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let h=!1;Oe(t[u]).subscribe(se(i,v=>{h||(h=!0,c--),a[u]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?Oa(r,a):a),i.complete())}))}});return n?o.pipe(Aa(n)):o}function bt(e,n){return ie((t,r)=>{let o=0;t.subscribe(se(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Se(e){return ie((n,t)=>{let r=null,o=!1,i;r=n.subscribe(se(t,void 0,void 0,s=>{i=Oe(e(s,Se(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function rr(e,n){return z(n)?Ke(e,n,1):Ke(e,1)}function sd(e){return ie((n,t)=>{let r=!1;n.subscribe(se(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function On(e){return e<=0?()=>vt:ie((n,t)=>{let r=0;n.subscribe(se(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function _m(e=HE){return ie((n,t)=>{let r=!1;n.subscribe(se(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function HE(){return new Rn}function ki(e){return ie((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Pn(e,n){let t=arguments.length>=2;return r=>r.pipe(e?bt((o,i)=>e(o,i,r)):Xt,On(1),t?sd(n):_m(()=>new Rn))}function Fa(e){return e<=0?()=>vt:ie((n,t)=>{let r=[];n.subscribe(se(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function ad(...e){let n=nr(e);return ie((t,r)=>{(n?To(e,t,n):To(e,t)).subscribe(r)})}function ut(e,n){return ie((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(se(r,l=>{o?.unsubscribe();let c=0,u=i++;Oe(e(l,u)).subscribe(o=se(r,h=>r.next(n?n(l,h,u,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ti(e){return ie((n,t)=>{Oe(e).subscribe(se(t,()=>t.complete(),xi)),!t.closed&&n.subscribe(t)})}function _e(e,n,t){let r=z(e)||n||t?{next:e,error:n,complete:t}:e;return r?ie((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(se(i,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),i.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),i.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Xt}var ld;function La(){return ld}function vn(e){let n=ld;return ld=e,n}var wm=Symbol("NotFound");function No(e){return e===wm||e?.name==="\u0275NotFound"}var Ua="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(n,t){super(bn(n,t)),this.code=n}};function qE(e){return`NG0${Math.abs(e)}`}function bn(e,n){return`${qE(e)}${n?": "+n:""}`}var Pe=globalThis;function ae(e){for(let n in e)if(e[n]===ae)return n;throw Error("")}function Im(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ln(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ln).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Dd(e,n){return e?n?`${e} ${n}`:e:n||""}var WE=ae({__forward_ref__:ae});function rt(e){return e.__forward_ref__=rt,e.toString=function(){return Ln(this())},e}function Je(e){return Cd(e)?e():e}function Cd(e){return typeof e=="function"&&e.hasOwnProperty(WE)&&e.__forward_ref__===rt}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function et(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fi(e){return QE(e,Ha)}function xd(e){return Fi(e)!==null}function QE(e,n){return e.hasOwnProperty(n)&&e[n]||null}function ZE(e){let n=e?.[Ha]??null;return n||null}function ud(e){return e&&e.hasOwnProperty(ja)?e[ja]:null}var Ha=ae({\u0275prov:ae}),ja=ae({\u0275inj:ae}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=C({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Id(e){return e&&!!e.\u0275providers}var Sd=ae({\u0275cmp:ae}),Md=ae({\u0275dir:ae}),kd=ae({\u0275pipe:ae}),Td=ae({\u0275mod:ae}),Ai=ae({\u0275fac:ae}),Lr=ae({__NG_ELEMENT_ID__:ae}),Em=ae({__NG_ENV_ID__:ae});function ar(e){return typeof e=="string"?e:e==null?"":String(e)}function Sm(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ar(e)}var Mm=ae({ngErrorCode:ae}),YE=ae({ngErrorMessage:ae}),KE=ae({ngTokenPath:ae});function Nd(e,n){return km("",-200,n)}function za(e,n){throw new D(-201,!1)}function km(e,n,t){let r=new D(n,e);return r[Mm]=n,r[YE]=e,t&&(r[KE]=t),r}function JE(e){return e[Mm]}var dd;function Tm(){return dd}function dt(e){let n=dd;return dd=e,n}function Ad(e,n,t){let r=Fi(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;za(e,"Injector")}var XE={},Rr=XE,eD="__NG_DI_FLAG__",fd=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Or(t)||0;try{return this.injector.get(n,r&8?null:Rr,r)}catch(o){if(No(o))return o;throw o}}};function tD(e,n=0){let t=La();if(t===void 0)throw new D(-203,!1);if(t===null)return Ad(e,void 0,n);{let r=nD(n),o=t.retrieve(e,r);if(No(o)){if(r.optional)return null;throw o}return o}}function O(e,n=0){return(Tm()||tD)(Je(e),n)}function y(e,n){return O(e,Or(n))}function Or(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nD(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function pd(e){let n=[];for(let t=0;t<e.length;t++){let r=Je(e[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],l=rD(a);typeof l=="number"?l===-1?o=a.token:i|=l:o=a}n.push(O(o,i))}else n.push(O(r))}return n}function rD(e){return e[eD]}function or(e,n){let t=e.hasOwnProperty(Ai);return t?e[Ai]:null}function Nm(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function Am(e){return e.flat(Number.POSITIVE_INFINITY)}function Ga(e,n){e.forEach(t=>Array.isArray(t)?Ga(t,n):n(t))}function Rd(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Li(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Rm(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function Om(e,n,t){let r=Ro(e,n);return r>=0?e[r|1]=t:(r=~r,Rm(e,r,n,t)),r}function qa(e,n){let t=Ro(e,n);if(t>=0)return e[t|1]}function Ro(e,n){return oD(e,n,1)}function oD(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var lr={},Mt=[],Vr=new M(""),Od=new M("",-1),Pd=new M(""),Ri=class{get(n,t=Rr){if(t===Rr){let o=km("",-201);throw o.name="\u0275NotFound",o}return t}};function Fd(e){return e[Td]||null}function Vn(e){return e[Sd]||null}function Ld(e){return e[Md]||null}function Pm(e){return e[kd]||null}function jr(e){return{\u0275providers:e}}function Fm(...e){return{\u0275providers:Vd(!0,e),\u0275fromNgModule:!0}}function Vd(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return Ga(n,s=>{let a=s;Ba(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Lm(o,i),t}function Lm(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];jd(o,i=>{n(i,r)})}}function Ba(e,n,t,r){if(e=Je(e),!e)return!1;let o=null,i=ud(e),s=!i&&Vn(e);if(!i&&!s){let l=e.ngModule;if(i=ud(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ba(c,n,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let c;try{Ga(i.imports,u=>{Ba(u,n,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Lm(c,n)}if(!a){let c=or(o)||(()=>new o);n({provide:o,useFactory:c,deps:Mt},o),n({provide:Pd,useValue:o,multi:!0},o),n({provide:Vr,useValue:()=>O(o),multi:!0},o)}let l=i.providers;if(l!=null&&!a){let c=e;jd(l,u=>{n(u,c)})}}else return!1;return o!==e&&e.providers!==void 0}function jd(e,n){for(let t of e)Id(t)&&(t=t.\u0275providers),Array.isArray(t)?jd(t,n):n(t)}var iD=ae({provide:String,useValue:ae});function Vm(e){return e!==null&&typeof e=="object"&&iD in e}function sD(e){return!!(e&&e.useExisting)}function aD(e){return!!(e&&e.useFactory)}function Pr(e){return typeof e=="function"}function jm(e){return!!e.useClass}var Vi=new M(""),Va={},Dm={},cd;function ji(){return cd===void 0&&(cd=new Ri),cd}var Me=class{},Fr=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,gd(n,s=>this.processProvider(s)),this.records.set(Od,Ao(void 0,this)),o.has("environment")&&this.records.set(Me,Ao(void 0,this));let i=this.records.get(Vi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Pd,Mt,{self:!0}))}retrieve(n,t){let r=Or(t)||0;try{return this.get(n,Rr,r)}catch(o){if(No(o))return o;throw o}}destroy(){Ni(this),this._destroyed=!0;let n=V(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),V(n)}}onDestroy(n){return Ni(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ni(this);let t=vn(this),r=dt(void 0),o;try{return n()}finally{vn(t),dt(r)}}get(n,t=Rr,r){if(Ni(this),n.hasOwnProperty(Em))return n[Em](this);let o=Or(r),i,s=vn(this),a=dt(void 0);try{if(!(o&4)){let c=this.records.get(n);if(c===void 0){let u=fD(n)&&Fi(n);u&&this.injectableDefInScope(u)?c=Ao(hd(n),Va):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c,o)}let l=o&2?ji():this.parent;return t=o&8&&t===Rr?null:t,l.get(n,t)}catch(l){let c=JE(l);throw c===-200||c===-201?new D(c,null):l}finally{dt(a),vn(s)}}resolveInjectorInitializers(){let n=V(null),t=vn(this),r=dt(void 0),o;try{let i=this.get(Vr,Mt,{self:!0});for(let s of i)s()}finally{vn(t),dt(r),V(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Ln(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Je(n);let t=Pr(n)?n:Je(n&&n.provide),r=cD(n);if(!Pr(n)&&n.multi===!0){let o=this.records.get(t);o||(o=Ao(void 0,Va,!0),o.factory=()=>pd(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=V(null);try{if(t.value===Dm)throw Nd(Ln(n));return t.value===Va&&(t.value=Dm,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&dD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{V(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Je(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hd(e){let n=Fi(e),t=n!==null?n.factory:or(e);if(t!==null)return t;if(e instanceof M)throw new D(204,!1);if(e instanceof Function)return lD(e);throw new D(204,!1)}function lD(e){if(e.length>0)throw new D(204,!1);let t=ZE(e);return t!==null?()=>t.factory(e):()=>new e}function cD(e){if(Vm(e))return Ao(void 0,e.useValue);{let n=Bd(e);return Ao(n,Va)}}function Bd(e,n,t){let r;if(Pr(e)){let o=Je(e);return or(o)||hd(o)}else if(Vm(e))r=()=>Je(e.useValue);else if(aD(e))r=()=>e.useFactory(...pd(e.deps||[]));else if(sD(e))r=(o,i)=>O(Je(e.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Je(e&&(e.useClass||e.provide));if(uD(e))r=()=>new o(...pd(e.deps));else return or(o)||hd(o)}return r}function Ni(e){if(e.destroyed)throw new D(205,!1)}function Ao(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function uD(e){return!!e.deps}function dD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function fD(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function gd(e,n){for(let t of e)Array.isArray(t)?gd(t,n):t&&Id(t)?gd(t.\u0275providers,n):n(t)}function He(e,n){let t;e instanceof Fr?(Ni(e),t=e):t=new fd(e);let r,o=vn(t),i=dt(void 0);try{return n()}finally{vn(o),dt(i)}}function $d(){return Tm()!==void 0||La()!=null}var en=0,F=1,$=2,Be=3,Vt=4,jt=5,Oo=6,Po=7,ke=8,jn=9,_n=10,me=11,Fo=12,Ud=13,Br=14,kt=15,cr=16,$r=17,wn=18,Bi=19,Hd=20,Fn=21,Wa=22,$i=23,Tt=24,Ur=25,Hr=26,Fe=27,Bm=1,zd=6,ur=7,Ui=8,zr=9,Ce=10;function En(e){return Array.isArray(e)&&typeof e[Bm]=="object"}function tn(e){return Array.isArray(e)&&e[Bm]===!0}function Gd(e){return(e.flags&4)!==0}function dr(e){return e.componentOffset>-1}function Hi(e){return(e.flags&1)===1}function Dn(e){return!!e.template}function Lo(e){return(e[$]&512)!==0}function Gr(e){return(e[$]&256)===256}var qd="svg",$m="math";function Bt(e){for(;Array.isArray(e);)e=e[en];return e}function Wd(e,n){return Bt(n[e])}function nn(e,n){return Bt(n[e.index])}function zi(e,n){return e.data[n]}function Um(e,n){return e[n]}function Qd(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function $t(e,n){let t=n[e];return En(t)?t:t[en]}function Hm(e){return(e[$]&4)===4}function Qa(e){return(e[$]&128)===128}function zm(e){return tn(e[Be])}function Ut(e,n){return n==null?null:e[n]}function Zd(e){e[$r]=0}function Yd(e){e[$]&1024||(e[$]|=1024,Qa(e)&&Vo(e))}function Gm(e,n){for(;e>0;)n=n[Br],e--;return n}function Gi(e){return!!(e[$]&9216||e[Tt]?.dirty)}function Za(e){e[_n].changeDetectionScheduler?.notify(8),e[$]&64&&(e[$]|=1024),Gi(e)&&Vo(e)}function Vo(e){e[_n].changeDetectionScheduler?.notify(0);let n=ir(e);for(;n!==null&&!(n[$]&8192||(n[$]|=8192,!Qa(n)));)n=ir(n)}function Kd(e,n){if(Gr(e))throw new D(911,!1);e[Fn]===null&&(e[Fn]=[]),e[Fn].push(n)}function qm(e,n){if(e[Fn]===null)return;let t=e[Fn].indexOf(n);t!==-1&&e[Fn].splice(t,1)}function ir(e){let n=e[Be];return tn(n)?n[Be]:n}function Jd(e){return e[Po]??=[]}function Xd(e){return e.cleanup??=[]}function Wm(e,n,t,r){let o=Jd(n);o.push(t),e.firstCreatePass&&Xd(e).push(r,o.length-1)}var G={lFrame:sv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var md=!1;function Qm(){return G.lFrame.elementDepthCount}function Zm(){G.lFrame.elementDepthCount++}function ef(){G.lFrame.elementDepthCount--}function tf(){return G.bindingsEnabled}function Ym(){return G.skipHydrationRootTNode!==null}function nf(e){return G.skipHydrationRootTNode===e}function rf(){G.skipHydrationRootTNode=null}function U(){return G.lFrame.lView}function Te(){return G.lFrame.tView}function k(e){return G.lFrame.contextLView=e,e[ke]}function T(e){return G.lFrame.contextLView=null,e}function tt(){let e=of();for(;e!==null&&e.type===64;)e=e.parent;return e}function of(){return G.lFrame.currentTNode}function Km(){let e=G.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function jo(e,n){let t=G.lFrame;t.currentTNode=e,t.isParent=n}function sf(){return G.lFrame.isParent}function Jm(){G.lFrame.isParent=!1}function af(){return md}function lf(e){let n=md;return md=e,n}function qi(){let e=G.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Xm(){return G.lFrame.bindingIndex}function ev(e){return G.lFrame.bindingIndex=e}function fr(){return G.lFrame.bindingIndex++}function cf(e){let n=G.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function tv(){return G.lFrame.inI18n}function nv(e,n){let t=G.lFrame;t.bindingIndex=t.bindingRootIndex=e,Ya(n)}function rv(){return G.lFrame.currentDirectiveIndex}function Ya(e){G.lFrame.currentDirectiveIndex=e}function ov(e){let n=G.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function uf(){return G.lFrame.currentQueryIndex}function Ka(e){G.lFrame.currentQueryIndex=e}function pD(e){let n=e[F];return n.type===2?n.declTNode:n.type===1?e[jt]:null}function df(e,n,t){if(t&4){let o=n,i=e;for(;o=o.parent,o===null&&!(t&1);)if(o=pD(i),o===null||(i=i[Br],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=G.lFrame=iv();return r.currentTNode=n,r.lView=e,!0}function Ja(e){let n=iv(),t=e[F];G.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function iv(){let e=G.lFrame,n=e===null?null:e.child;return n===null?sv(e):n}function sv(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function av(){let e=G.lFrame;return G.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ff=av;function Xa(){let e=av();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lv(e){return(G.lFrame.contextLView=Gm(e,G.lFrame.contextLView))[ke]}function Bn(){return G.lFrame.selectedIndex}function pr(e){G.lFrame.selectedIndex=e}function Wi(){let e=G.lFrame;return zi(e.tView,e.selectedIndex)}function qr(){G.lFrame.currentNamespace=qd}function Bo(){hD()}function hD(){G.lFrame.currentNamespace=null}function cv(){return G.lFrame.currentNamespace}var uv=!0;function el(){return uv}function tl(e){uv=e}function vd(e,n=null,t=null,r){let o=pf(e,n,t,r);return o.resolveInjectorInitializers(),o}function pf(e,n=null,t=null,r,o=new Set){let i=[t||Mt,Fm(e)];return r=r||(typeof e=="object"?void 0:Ln(e)),new Fr(i,n||ji(),r||null,o)}var Xe=class e{static THROW_IF_NOT_FOUND=Rr;static NULL=new Ri;static create(n,t){if(Array.isArray(n))return vd({name:""},t,n,"");{let r=n.name??"";return vd({name:r},n.parent,n.providers,r)}}static \u0275prov=C({token:e,providedIn:"any",factory:()=>O(Od)});static __NG_ELEMENT_ID__=-1},Le=new M(""),Ht=(()=>{class e{static __NG_ELEMENT_ID__=gD;static __NG_ENV_ID__=t=>t}return e})(),yd=class extends Ht{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Gr(this._lView)}onDestroy(n){let t=this._lView;return Kd(t,n),()=>qm(t,n)}};function gD(){return new yd(U())}var dv=!1,$n=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ye(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),bd=class extends Re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,$d()&&(this.destroyRef=y(Ht,{optional:!0})??void 0,this.pendingTasks=y($n,{optional:!0})??void 0)}emit(n){let t=V(null);try{super.next(n)}finally{V(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let l=n;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return n instanceof Ze&&n.add(a),a}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},De=bd;function $a(...e){}function hf(e){let n,t;function r(){e=$a;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function gf(e){return queueMicrotask(()=>e()),()=>{e=$a}}var mf="isAngularZone",Oi=mf+"_ID",mD=0,Ue=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new De(!1);onMicrotaskEmpty=new De(!1);onStable=new De(!1);onError=new De(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=dv}=n;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,bD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,vD,$a,$a);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},vD={};function vf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yD(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){hf(()=>{e.callbackScheduled=!1,_d(e),e.isCheckStableRunning=!0,vf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),_d(e)}function bD(e){let n=()=>{yD(e)},t=mD++;e._inner=e._inner.fork({name:"angular",properties:{[mf]:!0,[Oi]:t,[Oi+t]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(_D(l))return r.invokeTask(i,s,a,l);try{return Cm(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),xm(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return Cm(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!wD(l)&&n(),xm(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,_d(e),vf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function _d(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Cm(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xm(e){e._nesting--,vf(e)}var Pi=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new De;onMicrotaskEmpty=new De;onStable=new De;onError=new De;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function _D(e){return fv(e,"__ignore_ng_zone__")}function wD(e){return fv(e,"__scheduler_tick__")}function fv(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var yn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},zt=new M("",{factory:()=>{let e=y(Ue),n=y(Me),t;return r=>{e.runOutsideAngular(()=>{n.destroyed&&!t?setTimeout(()=>{throw r}):(t??=n.get(yn),t.handleError(r))})}}}),pv={provide:Vr,useValue:()=>{let e=y(yn,{optional:!0})},multi:!0};function Ne(e,n){let[t,r,o]=Yu(e,n?.equal),i=t,s=i[ct];return i.set=r,i.update=o,i.asReadonly=hv.bind(i),i}function hv(){let e=this[ct];if(e.readonlyFn===void 0){let n=()=>this();n[ct]=e,e.readonlyFn=n}return e.readonlyFn}var nl=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ED}return e})();function ED(){return new nl(U(),tt())}var sr=class{},Qi=new M("",{factory:()=>!0});var yf=new M(""),rl=(()=>{class e{internalPendingTasks=y($n);scheduler=y(sr);errorHandler=y(zt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),bf=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new wd})}return e})(),wd=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Ed=class{[ct];constructor(n){this[ct]=n}destroy(){this[ct].destroy()}};function Ve(e){return Ku(e)}function is(e){return{toString:e}.toString()}function Qv(e){let n=Pe.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function MD(e){return typeof e=="function"}function Zv(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var hl=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Nt=(()=>{let e=()=>Yv;return e.ngInherit=!0,e})();function Yv(e){return e.type.prototype.ngOnChanges&&(e.setInput=TD),kD}function kD(){let e=Jv(this),n=e?.current;if(n){let t=e.previous;if(t===lr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function TD(e,n,t,r,o){let i=this.declaredInputs[r],s=Jv(e)||ND(e,{previous:lr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new hl(c&&c.currentValue,t,l===lr),Zv(e,n,o,t)}var Kv="__ngSimpleChanges__";function Jv(e){return e[Kv]||null}function ND(e,n){return e[Kv]=n}var gv=[];var fe=function(e,n=null,t){for(let r=0;r<gv.length;r++){let o=gv[r];o(e,n,t)}};function AD(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=Yv(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function Xv(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),u!=null&&(e.destroyHooks??=[]).push(t,u)}}function cl(e,n,t){ey(e,n,3,t)}function ul(e,n,t,r){(e[$]&3)===t&&ey(e,n,t,r)}function _f(e,n){let t=e[$];(t&3)===n&&(t&=16383,t+=1,e[$]=t)}function ey(e,n,t,r){let o=r!==void 0?e[$r]&65535:0,i=r??-1,s=n.length-1,a=0;for(let l=o;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],r!=null&&a>=r)break}else n[l]<0&&(e[$r]+=65536),(a<i||i==-1)&&(RD(e,t,n,l),e[$r]=(e[$r]&4294901760)+l+2),l++}function mv(e,n){fe(4,e,n);let t=V(null);try{n.call(e)}finally{V(t),fe(5,e,n)}}function RD(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=e[s];o?e[$]>>14<e[$r]>>16&&(e[$]&3)===n&&(e[$]+=16384,mv(a,i)):mv(a,i)}var Uo=-1,Qr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r,o){this.factory=n,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function OD(e){return(e.flags&8)!==0}function PD(e){return(e.flags&16)!==0}function FD(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{let i=o,s=t[++r];LD(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function ty(e){return e===3||e===4||e===6}function LD(e){return e.charCodeAt(0)===64}function Ho(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?vv(e,t,o,null,n[++r]):vv(e,t,o,null,null))}}return e}function vv(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function ny(e){return e!==Uo}function gl(e){return e&32767}function VD(e){return e>>16}function ml(e,n){let t=VD(e),r=n;for(;t>0;)r=r[Br],t--;return r}var Nf=!0;function vl(e){let n=Nf;return Nf=e,n}var jD=256,ry=jD-1,oy=5,BD=0,Cn={};function $D(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Lr)&&(r=t[Lr]),r==null&&(r=t[Lr]=BD++);let o=r&ry,i=1<<o;n.data[e+(o>>oy)]|=i}function yl(e,n){let t=iy(e,n);if(t!==-1)return t;let r=n[F];r.firstCreatePass&&(e.injectorIndex=n.length,wf(r.data,e),wf(n,null),wf(r.blueprint,null));let o=gp(e,n),i=e.injectorIndex;if(ny(o)){let s=gl(o),a=ml(o,n),l=a[F].data;for(let c=0;c<8;c++)n[i+c]=a[s+c]|l[s+c]}return n[i+8]=o,i}function wf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function iy(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function gp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=uy(o),r===null)return Uo;if(t++,o=o[Br],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Uo}function Af(e,n,t){$D(e,n,t)}function UD(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(ty(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===n)return t[o+1];o=o+2}}}return null}function sy(e,n,t){if(t&8||e!==void 0)return e;za(n,"NodeInjector")}function ay(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=e[jn],i=dt(void 0);try{return o?o.get(n,r,t&8):Ad(n,r,t&8)}finally{dt(i)}}return sy(r,n,t)}function ly(e,n,t,r=0,o){if(e!==null){if(n[$]&2048&&!(r&2)){let s=qD(e,n,t,r,Cn);if(s!==Cn)return s}let i=cy(e,n,t,r,Cn);if(i!==Cn)return i}return ay(n,t,r,o)}function cy(e,n,t,r,o){let i=zD(t);if(typeof i=="function"){if(!df(n,e,r))return r&1?sy(o,t,r):ay(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&8))za(t);else return s}finally{ff()}}else if(typeof i=="number"){let s=null,a=iy(e,n),l=Uo,c=r&1?n[kt][jt]:null;for((a===-1||r&4)&&(l=a===-1?gp(e,n):n[a+8],l===Uo||!bv(r,!1)?a=-1:(s=n[F],a=gl(l),n=ml(l,n)));a!==-1;){let u=n[F];if(yv(i,a,u.data)){let h=HD(a,n,t,s,r,c);if(h!==Cn)return h}l=n[a+8],l!==Uo&&bv(r,n[F].data[a+8]===c)&&yv(i,a,n)?(s=u,a=gl(l),n=ml(l,n)):a=-1}}return o}function HD(e,n,t,r,o,i){let s=n[F],a=s.data[e+8],l=r==null?dr(a)&&Nf:r!=s&&(a.type&3)!==0,c=o&1&&i===a,u=dl(a,s,t,l,c);return u!==null?Ji(n,s,u,a,o):Cn}function dl(e,n,t,r,o){let i=e.providerIndexes,s=n.data,a=i&1048575,l=e.directiveStart,c=e.directiveEnd,u=i>>20,h=r?a:a+u,v=o?a+u:c;for(let m=h;m<v;m++){let _=s[m];if(m<l&&t===_||m>=l&&_.type===t)return m}if(o){let m=s[l];if(m&&Dn(m)&&m.type===t)return l}return null}function Ji(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof Qr){let a=i;if(a.resolving){let m=Sm(s[t]);throw Nd(m)}let l=vl(a.canSeeViewProviders);a.resolving=!0;let c=s[t].type||s[t],u,h=a.injectImpl?dt(a.injectImpl):null,v=df(e,r,0);try{i=e[t]=a.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&AD(t,s[t],n)}finally{h!==null&&dt(h),vl(l),a.resolving=!1,ff()}}return i}function zD(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Lr)?e[Lr]:void 0;return typeof n=="number"?n>=0?n&ry:GD:n}function yv(e,n,t){let r=1<<e;return!!(t[n+(e>>oy)]&r)}function bv(e,n){return!(e&2)&&!(e&1&&n)}var Wr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return ly(this._tNode,this._lView,n,Or(r),t)}};function GD(){return new Wr(tt(),U())}function _t(e){return is(()=>{let n=e.prototype.constructor,t=n[Ai]||Rf(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Ai]||Rf(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Rf(e){return Cd(e)?()=>{let n=Rf(Je(e));return n&&n()}:or(e)}function qD(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[$]&2048&&!Lo(s);){let a=cy(i,s,t,r|2,Cn);if(a!==Cn)return a;let l=i.parent;if(!l){let c=s[Hd];if(c){let u=c.get(t,Cn,r);if(u!==Cn)return u}l=uy(s),s=s[Br]}i=l}return o}function uy(e){let n=e[F],t=n.type;return t===2?n.declTNode:t===1?e[jt]:null}function ss(e){return UD(tt(),e)}function WD(){return qo(tt(),U())}function qo(e,n){return new ft(nn(e,n))}var ft=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=WD}return e})();function QD(e){return e instanceof ft?e.nativeElement:e}function ZD(){return this._results[Symbol.iterator]()}var bl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Re}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;let r=Am(n);(this._changesDetected=!Nm(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ZD};function dy(e){return(e.flags&128)===128}var mp=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(mp||{}),fy=new Map,YD=0;function KD(){return YD++}function JD(e){fy.set(e[Bi],e)}function Of(e){fy.delete(e[Bi])}var _v="__ngContext__";function zo(e,n){En(n)?(e[_v]=n[Bi],JD(n)):e[_v]=n}function py(e){return gy(e[Fo])}function hy(e){return gy(e[Vt])}function gy(e){for(;e!==null&&!tn(e);)e=e[Vt];return e}var Pf;function vp(e){Pf=e}function yp(){if(Pf!==void 0)return Pf;if(typeof document<"u")return document;throw new D(210,!1)}var Nl=new M("",{factory:()=>XD}),XD="ng";var Al=new M(""),as=new M("",{providedIn:"platform",factory:()=>"unknown"});var Rl=new M("",{factory:()=>yp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var my="r";var vy="di";var yy=!1,by=new M("",{factory:()=>yy});var Ol=new M("");var eC=(e,n,t,r)=>{};function tC(e,n,t,r){eC(e,n,t,r)}function bp(e){return(e.flags&32)===32}var nC=()=>null;function _y(e,n,t=!1){return nC(e,n,t)}function wy(e,n){let t=e.contentQueries;if(t!==null){let r=V(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=e.data[s];Ka(i),a.contentQueries(2,n[s],s)}}}finally{V(r)}}}function Ff(e,n,t){Ka(0);let r=V(null);try{n(e,t)}finally{V(r)}}function Ey(e,n,t){if(Gd(n)){let r=V(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{V(r)}}}var on=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(on||{}),ol;function rC(){if(ol===void 0&&(ol=null,Pe.trustedTypes))try{ol=Pe.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ol}function Pl(e){return rC()?.createHTML(e)||e}var il;function Dy(){if(il===void 0&&(il=null,Pe.trustedTypes))try{il=Pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return il}function wv(e){return Dy()?.createHTML(e)||e}function Ev(e){return Dy()?.createScriptURL(e)||e}var Un=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ua})`}},Lf=class extends Un{getTypeName(){return"HTML"}},Vf=class extends Un{getTypeName(){return"Style"}},jf=class extends Un{getTypeName(){return"Script"}},Bf=class extends Un{getTypeName(){return"URL"}},$f=class extends Un{getTypeName(){return"ResourceURL"}};function Gt(e){return e instanceof Un?e.changingThisBreaksApplicationSecurity:e}function In(e,n){let t=Cy(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Ua})`)}return t===n}function Cy(e){return e instanceof Un&&e.getTypeName()||null}function _p(e){return new Lf(e)}function wp(e){return new Vf(e)}function Ep(e){return new jf(e)}function Dp(e){return new Bf(e)}function Cp(e){return new $f(e)}function oC(e){let n=new Hf(e);return iC()?new Uf(n):n}var Uf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Pl(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},Hf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Pl(n),t}};function iC(){try{return!!new window.DOMParser().parseFromString(Pl(""),"text/html")}catch{return!1}}var sC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ls(e){return e=String(e),e.match(sC)?e:"unsafe:"+e}function Hn(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function cs(...e){let n={};for(let t of e)for(let r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}var xy=Hn("area,br,col,hr,img,wbr"),Iy=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sy=Hn("rp,rt"),aC=cs(Sy,Iy),lC=cs(Iy,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cC=cs(Sy,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dv=cs(xy,lC,cC,aC),My=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uC=Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dC=Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fC=cs(My,uC,dC),pC=Hn("script,style,template"),zf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,r=!0,o=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){o.push(t),t=mC(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=gC(t);if(i){t=i;break}t=o.pop()}}return this.buf.join("")}startElement(n){let t=Cv(n).toLowerCase();if(!Dv.hasOwnProperty(t))return this.sanitizedSomething=!0,!pC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=n.attributes;for(let o=0;o<r.length;o++){let i=r.item(o),s=i.name,a=s.toLowerCase();if(!fC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;My[a]&&(l=ls(l)),this.buf.push(" ",s,'="',xv(l),'"')}return this.buf.push(">"),!0}endElement(n){let t=Cv(n).toLowerCase();Dv.hasOwnProperty(t)&&!xy.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(xv(n))}};function hC(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function gC(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw ky(n);return n}function mC(e){let n=e.firstChild;if(n&&hC(e,n))throw ky(n);return n}function Cv(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function ky(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var vC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yC=/([^\#-~ |!])/g;function xv(e){return e.replace(/&/g,"&amp;").replace(vC,function(n){let t=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(yC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sl;function Fl(e,n){let t=null;try{sl=sl||oC(e);let r=n?String(n):"";t=sl.getInertBodyElement(r);let o=5,i=r;do{if(o===0)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=sl.getInertBodyElement(r)}while(r!==i);let a=new zf().sanitizeChildren(Iv(t)||t);return Pl(a)}finally{if(t){let r=Iv(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Iv(e){return"content"in e&&bC(e)?e.content:null}function bC(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var qt=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(qt||{});function xp(e){let n=Sp();return n?wv(n.sanitize(qt.HTML,e)||""):In(e,"HTML")?wv(Gt(e)):Fl(yp(),ar(e))}function Ty(e){let n=Sp();return n?n.sanitize(qt.URL,e)||"":In(e,"URL")?Gt(e):ls(ar(e))}function Ny(e){let n=Sp();if(n)return Ev(n.sanitize(qt.RESOURCE_URL,e)||"");if(In(e,"ResourceURL"))return Ev(Gt(e));throw new D(904,!1)}function _C(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Ny:Ty}function Ip(e,n,t){return _C(n,t)(e)}function Sp(){let e=U();return e&&e[_n].sanitizer}function Ay(e){return e instanceof Function?e():e}function wC(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var Ry="ng-template";function EC(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&wC(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(Mp(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function Mp(e){return e.type===4&&e.value!==Ry}function DC(e,n,t){let r=e.type===4&&!t?Ry:e.value;return n===r}function CC(e,n,t){let r=4,o=e.attrs,i=o!==null?SC(o):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!rn(r)&&!rn(l))return!1;if(s&&rn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!DC(e,l,t)||l===""&&n.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(o===null||!EC(e,o,l,t)){if(rn(r))return!1;s=!0}}else{let c=n[++a],u=xC(l,o,Mp(e),t);if(u===-1){if(rn(r))return!1;s=!0;continue}if(c!==""){let h;if(u>i?h="":h=o[u+1].toLowerCase(),r&2&&c!==h){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(e){return(e&1)===0}function xC(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=n[++o];for(;typeof a=="string";)a=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return MC(n,e)}function IC(e,n,t=!1){for(let r=0;r<n.length;r++)if(CC(e,n[r],t))return!0;return!1}function SC(e){for(let n=0;n<e.length;n++){let t=e[n];if(ty(t))return n}return e.length}function MC(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function Sv(e,n){return e?":not("+n.trim()+")":n}function kC(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!rn(s)&&(n+=Sv(i,o),o=""),r=s,i=i||!rn(r);t++}return o!==""&&(n+=Sv(i,o)),n}function TC(e){return e.map(kC).join(",")}function NC(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!rn(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var At={};function AC(e,n){return e.createText(n)}function RC(e,n,t){e.setValue(n,t)}function Oy(e,n,t){return e.createElement(n,t)}function _l(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Py(e,n,t){e.appendChild(n,t)}function Mv(e,n,t,r,o){r!==null?_l(e,n,t,r,o):Py(e,n,t)}function Fy(e,n,t,r){e.removeChild(null,n,t,r)}function OC(e,n,t){e.setAttribute(n,"style",t)}function PC(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Ly(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&FD(e,n,r),o!==null&&PC(e,n,o),i!==null&&OC(e,n,i)}function kp(e,n,t,r,o,i,s,a,l,c,u){let h=Fe+r,v=h+o,m=FC(h,v),_=typeof c=="function"?c():c;return m[F]={type:e,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}function FC(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:At);return t}function LC(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=kp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Tp(e,n,t,r,o,i,s,a,l,c,u){let h=n.blueprint.slice();return h[en]=o,h[$]=r|4|128|8|64|1024,(c!==null||e&&e[$]&2048)&&(h[$]|=2048),Zd(h),h[Be]=h[Br]=e,h[ke]=t,h[_n]=s||e&&e[_n],h[me]=a||e&&e[me],h[jn]=l||e&&e[jn]||null,h[jt]=i,h[Bi]=KD(),h[Oo]=u,h[Hd]=c,h[kt]=n.type==2?e[kt]:h,h}function VC(e,n,t){let r=nn(n,e),o=LC(t),i=e[_n].rendererFactory,s=Np(e,Tp(e,o,null,Vy(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function Vy(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function jy(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function Np(e,n){return e[Fo]?e[Ud][Vt]=n:e[Fo]=n,e[Ud]=n,n}function g(e=1){By(Te(),U(),Bn()+e,!1)}function By(e,n,t,r){if(!r)if((n[$]&3)===3){let i=e.preOrderCheckHooks;i!==null&&cl(n,i,t)}else{let i=e.preOrderHooks;i!==null&&ul(n,i,0,t)}pr(t)}var Ll=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Ll||{});function Gf(e,n,t,r){let o=V(null);try{let[i,s,a]=e.inputs[t],l=null;(s&Ll.SignalBased)!==0&&(l=n[i][ct]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(n,r)),e.setInput!==null?e.setInput(n,l,r,t,i):Zv(n,l,i,r)}finally{V(o)}}var xn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(xn||{}),jC;function Ap(e,n){return jC(e,n)}var Zr=new Set,Vl=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Vl||{}),zn=new M(""),kv=new Set;function Sn(e){kv.has(e)||(kv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Rp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),$y=[0,1,2,3],Uy=(()=>{class e{ngZone=y(Ue);scheduler=y(sr);errorHandler=y(yn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){y(zn,{optional:!0})}execute(){let t=this.sequences.size>0;t&&fe(16),this.executing=!0;for(let r of $y)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&fe(17)}register(t){let{view:r}=t;r!==void 0?((r[Ur]??=[]).push(t),Vo(r),r[$]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Vl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})(),wl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Ur];n&&(this.view[Ur]=n.filter(t=>t!==this))}};function us(e,n){let t=n?.injector??y(Xe);return Sn("NgAfterNextRender"),$C(e,t,n,!0)}function BC(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function $C(e,n,t,r){let o=n.get(Rp);o.impl??=n.get(Uy);let i=n.get(zn,null,{optional:!0}),s=t?.manualCleanup!==!0?n.get(Ht):null,a=n.get(nl,null,{optional:!0}),l=new wl(o.impl,BC(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}var Hy=new M("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function zy(e,n,t){let r=e.get(Hy);if(Array.isArray(n))for(let o of n)r.queue.add(o),t?.detachedLeaveAnimationFns?.push(o);else r.queue.add(n),t?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(e)}function UC(e,n){let t=e.get(Hy);if(n.detachedLeaveAnimationFns){for(let r of n.detachedLeaveAnimationFns)t.queue.delete(r);n.detachedLeaveAnimationFns=void 0}}function HC(e,n){for(let[t,r]of n)zy(e,r.animateFns)}function Tv(e,n,t,r){let o=e?.[Hr]?.enter;n!==null&&o&&o.has(t.index)&&HC(r,o)}function $o(e,n,t,r,o,i,s,a){if(o!=null){let l,c=!1;tn(o)?l=o:En(o)&&(c=!0,o=o[en]);let u=Bt(o);e===0&&r!==null?(Tv(a,r,i,t),s==null?Py(n,r,u):_l(n,r,u,s||null,!0)):e===1&&r!==null?(Tv(a,r,i,t),_l(n,r,u,s||null,!0)):e===2?Nv(a,i,t,h=>{Fy(n,u,c,h)}):e===3&&Nv(a,i,t,()=>{n.destroyNode(u)}),l!=null&&nx(n,e,t,l,i,r,s)}}function zC(e,n){Gy(e,n),n[en]=null,n[jt]=null}function GC(e,n,t,r,o,i){r[en]=o,r[jt]=n,Bl(e,r,t,1,o,i)}function Gy(e,n){n[_n].changeDetectionScheduler?.notify(9),Bl(e,n,n[me],2,null,null)}function qC(e){let n=e[Fo];if(!n)return Ef(e[F],e);for(;n;){let t=null;if(En(n))t=n[Fo];else{let r=n[Ce];r&&(t=r)}if(!t){for(;n&&!n[Vt]&&n!==e;)En(n)&&Ef(n[F],n),n=n[Be];n===null&&(n=e),En(n)&&Ef(n[F],n),t=n&&n[Vt]}n=t}}function Op(e,n){let t=e[zr],r=t.indexOf(n);t.splice(r,1)}function jl(e,n){if(Gr(n))return;let t=n[me];t.destroyNode&&Bl(e,n,t,3,null,null),qC(n)}function Ef(e,n){if(Gr(n))return;let t=V(null);try{n[$]&=-129,n[$]|=256,n[Tt]&&Ei(n[Tt]),ZC(e,n),QC(e,n),n[F].type===1&&n[me].destroy();let r=n[cr];if(r!==null&&tn(n[Be])){r!==n[Be]&&Op(r,n);let o=n[wn];o!==null&&o.detachView(e)}Of(n)}finally{V(t)}}function Nv(e,n,t,r){let o=e?.[Hr];if(o==null||o.leave==null||!o.leave.has(n.index))return r(!1);e&&Zr.add(e),zy(t,()=>{if(o.leave&&o.leave.has(n.index)){let s=o.leave.get(n.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let c=s.animateFns[l],{promise:u}=c();a.push(u)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),WC(e,r)}else e&&Zr.delete(e),r(!1)},o)}function WC(e,n){let t=e[Hr]?.running;if(t){t.then(()=>{e[Hr].running=void 0,Zr.delete(e),n(!0)});return}n(!1)}function QC(e,n){let t=e.cleanup,r=n[Po];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(n[Po]=null);let o=n[Fn];if(o!==null){n[Fn]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=n[$i];if(i!==null){n[$i]=null;for(let s of i)s.destroy()}}function ZC(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof Qr)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],l=i[s+1];fe(4,a,l);try{l.call(a)}finally{fe(5,a,l)}}else{fe(4,o,i);try{i.call(o)}finally{fe(5,o,i)}}}}}function YC(e,n,t){return KC(e,n.parent,t)}function KC(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[en];if(dr(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===on.None||o===on.Emulated)return null}return nn(r,t)}function JC(e,n,t){return ex(e,n,t)}function XC(e,n,t){return e.type&40?nn(e,t):null}var ex=XC,Av;function Pp(e,n,t,r){let o=YC(e,r,n),i=n[me],s=r.parent||n[jt],a=JC(s,r,n);if(o!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)Mv(i,o,t[l],a,!1);else Mv(i,o,t,a,!1);Av!==void 0&&Av(i,r,n,t,o)}function Yi(e,n){if(n!==null){let t=n.type;if(t&3)return nn(n,e);if(t&4)return qf(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Yi(e,r);{let o=e[n.index];return tn(o)?qf(-1,o):Bt(o)}}else{if(t&128)return Yi(e,n.next);if(t&32)return Ap(n,e)()||Bt(e[n.index]);{let r=qy(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=ir(e[kt]);return Yi(o,r)}else return Yi(e,n.next)}}}return null}function qy(e,n){if(n!==null){let r=e[kt][jt],o=n.projection;return r.projection[o]}return null}function qf(e,n){let t=Ce+e+1;if(t<n.length){let r=n[t],o=r[F].firstChild;if(o!==null)return Yi(r,o)}return n[ur]}function Fp(e,n,t,r,o,i,s){for(;t!=null;){let a=r[jn];if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&n===0&&(l&&zo(Bt(l),r),t.flags|=2),!bp(t))if(c&8)Fp(e,n,t.child,r,o,i,!1),$o(n,e,a,o,l,t,i,r);else if(c&32){let u=Ap(t,r),h;for(;h=u();)$o(n,e,a,o,h,t,i,r);$o(n,e,a,o,l,t,i,r)}else c&16?tx(e,n,r,t,o,i):$o(n,e,a,o,l,t,i,r);t=s?t.projectionNext:t.next}}function Bl(e,n,t,r,o,i){Fp(t,r,e.firstChild,n,o,i,!1)}function tx(e,n,t,r,o,i){let s=t[kt],l=s[jt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];$o(n,e,t[jn],o,u,r,i,t)}else{let c=l,u=s[Be];dy(r)&&(c.flags|=128),Fp(e,n,c,u,o,i,!0)}}function nx(e,n,t,r,o,i,s){let a=r[ur],l=Bt(r);a!==l&&$o(n,e,t,i,a,o,s);for(let c=Ce;c<r.length;c++){let u=r[c];Bl(u[F],u,e,n,i,a)}}function rx(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:xn.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=xn.Important),e.setStyle(t,r,o,i))}}function Wy(e,n,t,r,o){let i=Bn(),s=r&2;try{pr(-1),s&&n.length>Fe&&By(e,n,Fe,!1),fe(s?2:0,o,t),t(r,o)}finally{pr(i),fe(s?3:1,o,t)}}function Lp(e,n,t){cx(e,n,t),(t.flags&64)===64&&ux(e,n,t)}function $l(e,n,t=nn){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(n,e):e[s];e[o++]=a}}}function ox(e,n,t,r){let i=r.get(by,yy)||t===on.ShadowDom||t===on.ExperimentalIsolatedShadowDom,s=e.selectRootElement(n,i);return ix(s),s}function ix(e){sx(e)}var sx=()=>null;function ax(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Qy(e,n,t,r,o,i){let s=n[F];if(Vp(e,s,n,t,r)){dr(e)&&lx(n,e.index);return}e.type&3&&(t=ax(t)),Zy(e,n,t,r,o,i)}function Zy(e,n,t,r,o,i){if(e.type&3){let s=nn(e,n);r=i!=null?i(r,e.value||"",t):r,o.setProperty(s,t,r)}else e.type&12}function lx(e,n){let t=$t(n,e);t[$]&16||(t[$]|=64)}function cx(e,n,t){let r=t.directiveStart,o=t.directiveEnd;dr(t)&&VC(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||yl(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],l=Ji(n,e,s,t);if(zo(l,n),i!==null&&hx(n,s-r,l,a,t,i),Dn(a)){let c=$t(t.index,n);c[ke]=Ji(n,e,s,t)}}}function ux(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=rv();try{pr(i);for(let a=r;a<o;a++){let l=e.data[a],c=n[a];Ya(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dx(l,c)}}finally{pr(-1),Ya(s)}}function dx(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function Yy(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];IC(n,i.selectors,!1)&&(r??=[],Dn(i)?r.unshift(i):r.push(i))}return r}function fx(e,n,t,r,o,i){let s=nn(e,n);px(n[me],s,i,e.value,t,r,o)}function px(e,n,t,r,o,i,s){if(i==null)e.removeAttribute(n,o,t);else{let a=s==null?ar(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}function hx(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];Gf(r,t,l,c)}}function Ky(e,n,t,r,o){let i=Fe+t,s=n[F],a=o(s,n,e,r,t);n[i]=a,jo(e,!0);let l=e.type===2;return l?(Ly(n[me],a,e),(Qm()===0||Hi(e))&&zo(a,n),Zm()):zo(a,n),el()&&(!l||!bp(e))&&Pp(s,n,a,e),e}function Jy(e){let n=e;return sf()?Jm():(n=n.parent,jo(n,!1)),n}function gx(e,n){let t=e[jn];if(!t)return;let r;try{r=t.get(zt,null)}catch{r=null}r?.(n)}function Vp(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],u=s[l+1],h=n.data[c];Gf(h,t[c],u,o),a=!0}if(i)for(let l of i){let c=t[l],u=n.data[l];Gf(u,c,r,o),a=!0}return a}function mx(e,n){let t=$t(n,e),r=t[F];vx(r,t);let o=t[en];o!==null&&t[Oo]===null&&(t[Oo]=_y(o,t[jn])),fe(18),jp(r,t,t[ke]),fe(19,t[ke])}function vx(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function jp(e,n,t){Ja(n);try{let r=e.viewQuery;r!==null&&Ff(1,r,t);let o=e.template;o!==null&&Wy(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[wn]?.finishViewCreation(e),e.staticContentQueries&&wy(e,n),e.staticViewQueries&&Ff(2,e.viewQuery,t);let i=e.components;i!==null&&yx(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[$]&=-5,Xa()}}function yx(e,n){for(let t=0;t<n.length;t++)mx(e,n[t])}function Ul(e,n,t,r){let o=V(null);try{let i=n.tView,a=e[$]&4096?4096:16,l=Tp(e,i,t,a,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[n.index];l[cr]=c;let u=e[wn];return u!==null&&(l[wn]=u.createEmbeddedView(i)),jp(i,l,t),l}finally{V(o)}}function Xi(e,n){return!n||n.firstChild===null||dy(e)}function es(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(Bt(i)),tn(i)&&Xy(i,r);let s=t.type;if(s&8)es(e,n,t.child,r);else if(s&32){let a=Ap(t,n),l;for(;l=a();)r.push(l)}else if(s&16){let a=qy(n,t);if(Array.isArray(a))r.push(...a);else{let l=ir(n[kt]);es(l[F],l,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function Xy(e,n){for(let t=Ce;t<e.length;t++){let r=e[t],o=r[F].firstChild;o!==null&&es(r[F],r,o,n)}e[ur]!==e[en]&&n.push(e[ur])}function e0(e){if(e[Ur]!==null){for(let n of e[Ur])n.impl.addSequence(n);e[Ur].length=0}}var t0=[];function bx(e){return e[Tt]??_x(e)}function _x(e){let n=t0.pop()??Object.create(Ex);return n.lView=e,n}function wx(e){e.lView[Tt]!==e&&(e.lView=null,t0.push(e))}var Ex=B(E({},bi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Vo(e.lView)},consumerOnSignalRead(){this.lView[Tt]=this}});function Dx(e){let n=e[Tt]??Object.create(Cx);return n.lView=e,n}var Cx=B(E({},bi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=ir(e.lView);for(;n&&!n0(n[F]);)n=ir(n);n&&Yd(n)},consumerOnSignalRead(){this.lView[Tt]=this}});function n0(e){return e.type!==2}function r0(e){if(e[$i]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[$i])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[$]&8192)}}var xx=100;function o0(e,n=0){let r=e[_n].rendererFactory,o=!1;o||r.begin?.();try{Ix(e,n)}finally{o||r.end?.()}}function Ix(e,n){let t=af();try{lf(!0),Wf(e,n);let r=0;for(;Gi(e);){if(r===xx)throw new D(103,!1);r++,Wf(e,1)}}finally{lf(t)}}function Sx(e,n,t,r){if(Gr(n))return;let o=n[$],i=!1,s=!1;Ja(n);let a=!0,l=null,c=null;i||(n0(e)?(c=bx(n),l=wi(c)):la()===null?(a=!1,c=Dx(n),l=wi(c)):n[Tt]&&(Ei(n[Tt]),n[Tt]=null));try{Zd(n),ev(e.bindingStartIndex),t!==null&&Wy(e,n,t,2,r);let u=(o&3)===3;if(!i)if(u){let m=e.preOrderCheckHooks;m!==null&&cl(n,m,null)}else{let m=e.preOrderHooks;m!==null&&ul(n,m,0,null),_f(n,0)}if(s||Mx(n),r0(n),i0(n,0),e.contentQueries!==null&&wy(e,n),!i)if(u){let m=e.contentCheckHooks;m!==null&&cl(n,m)}else{let m=e.contentHooks;m!==null&&ul(n,m,1),_f(n,1)}Tx(e,n);let h=e.components;h!==null&&a0(n,h,0);let v=e.viewQuery;if(v!==null&&Ff(2,v,r),!i)if(u){let m=e.viewCheckHooks;m!==null&&cl(n,m)}else{let m=e.viewHooks;m!==null&&ul(n,m,2),_f(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Wa]){for(let m of n[Wa])m();n[Wa]=null}i||(e0(n),n[$]&=-73)}catch(u){throw i||Vo(n),u}finally{c!==null&&(ca(c,l),a&&wx(c)),Xa()}}function i0(e,n){for(let t=py(e);t!==null;t=hy(t))for(let r=Ce;r<t.length;r++){let o=t[r];s0(o,n)}}function Mx(e){for(let n=py(e);n!==null;n=hy(n)){if(!(n[$]&2))continue;let t=n[zr];for(let r=0;r<t.length;r++){let o=t[r];Yd(o)}}}function kx(e,n,t){fe(18);let r=$t(n,e);s0(r,t),fe(19,r[ke])}function s0(e,n){Qa(e)&&Wf(e,n)}function Wf(e,n){let r=e[F],o=e[$],i=e[Tt],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&ua(i)),s||=!1,i&&(i.dirty=!1),e[$]&=-9217,s)Sx(r,e,r.template,e[ke]);else if(o&8192){let a=V(null);try{r0(e),i0(e,1);let l=r.components;l!==null&&a0(e,l,1),e0(e)}finally{V(a)}}}function a0(e,n,t){for(let r=0;r<n.length;r++)kx(e,n[r],t)}function Tx(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)pr(~o);else{let i=o,s=t[++r],a=t[++r];nv(s,i);let l=n[i];fe(24,l),a(2,l),fe(25,l)}}}finally{pr(-1)}}function Bp(e,n){let t=af()?64:1088;for(e[_n].changeDetectionScheduler?.notify(n);e;){e[$]|=t;let r=ir(e);if(Lo(e)&&!r)return e;e=r}return null}function l0(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function c0(e,n){let t=Ce+n;if(t<e.length)return e[t]}function Hl(e,n,t,r=!0){let o=n[F];if(Nx(o,n,e,t),r){let s=qf(t,e),a=n[me],l=a.parentNode(e[ur]);l!==null&&GC(o,e[jt],a,n,l,s)}let i=n[Oo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function u0(e,n){let t=ts(e,n);return t!==void 0&&jl(t[F],t),t}function ts(e,n){if(e.length<=Ce)return;let t=Ce+n,r=e[t];if(r){let o=r[cr];o!==null&&o!==e&&Op(o,r),n>0&&(e[t-1][Vt]=r[Vt]);let i=Li(e,Ce+n);zC(r[F],r);let s=i[wn];s!==null&&s.detachView(i[F]),r[Be]=null,r[Vt]=null,r[$]&=-129}return r}function Nx(e,n,t,r){let o=Ce+r,i=t.length;r>0&&(t[o-1][Vt]=n),r<i-Ce?(n[Vt]=t[o],Rd(t,Ce+r,n)):(t.push(n),n[Vt]=null),n[Be]=t;let s=n[cr];s!==null&&t!==s&&d0(s,n);let a=n[wn];a!==null&&a.insertView(e),Za(n),n[$]|=128}function d0(e,n){let t=e[zr],r=n[Be];if(En(r))e[$]|=2;else{let o=r[Be][kt];n[kt]!==o&&(e[$]|=2)}t===null?e[zr]=[n]:t.push(n)}var hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[F];return es(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[ke]}set context(n){this._lView[ke]=n}get destroyed(){return Gr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Be];if(tn(n)){let t=n[Ui],r=t?t.indexOf(this):-1;r>-1&&(ts(n,r),Li(t,r))}this._attachedToViewContainer=!1}jl(this._lView[F],this._lView)}onDestroy(n){Kd(this._lView,n)}markForCheck(){Bp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$]&=-129}reattach(){Za(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,o0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Lo(this._lView),t=this._lView[cr];t!==null&&!n&&Op(t,this._lView),Gy(this._lView[F],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=n;let t=Lo(this._lView),r=this._lView[cr];r!==null&&!t&&d0(r,this._lView),Za(this._lView)}};var gr=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ax;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=Ul(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new hr(i)}}return e})();function Ax(){return $p(tt(),U())}function $p(e,n){return e.type&4?new gr(n,e,qo(e,n)):null}function ds(e,n,t,r,o){let i=e.data[n];if(i===null)i=Rx(e,n,t,r,o),tv()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=Km();i.injectorIndex=s===null?-1:s.injectorIndex}return jo(i,!0),i}function Rx(e,n,t,r,o){let i=of(),s=sf(),a=s?i:i&&i.parent,l=e.data[n]=Px(e,a,t,n,r,o);return Ox(e,l,i,s),l}function Ox(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function Px(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return Ym()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Fx(e){let n=e[zd]??[],r=e[Be][me],o=[];for(let i of n)i.data[vy]!==void 0?o.push(i):Lx(i,r);e[zd]=o}function Lx(e,n){let t=0,r=e.firstChild;if(r){let o=e.data[my];for(;t<o;){let i=r.nextSibling;Fy(n,r,!1),r=i,t++}}}var Vx=()=>null,jx=()=>null;function Qf(e,n){return Vx(e,n)}function f0(e,n,t){return jx(e,n,t)}var p0=class{},zl=class{},Zf=class{resolveComponentFactory(n){throw new D(917,!1)}},fs=class{static NULL=new Zf},Yr=class{},an=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Bx()}return e})();function Bx(){let e=U(),n=tt(),t=$t(n.index,e);return(En(t)?t:e)[me]}var h0=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>null})}return e})();var fl={},Yf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let o=this.injector.get(n,fl,r);return o!==fl||t===fl?o:this.parentInjector.get(n,t,r)}};function El(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")i=a;else if(i==1)o=Dd(o,a);else if(i==2){let l=a,c=n[++s];r=Dd(r,l+": "+c+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function R(e,n=0){let t=U();if(t===null)return O(e,n);let r=tt();return ly(r,t,Je(e),n)}function Up(){let e="invalid";throw new Error(e)}function g0(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let a=s,l=null,c=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,l,c]=u.resolveHostDirectives(s);break}Hx(e,n,t,a,i,l,c)}i!==null&&r!==null&&$x(t,r,i)}function $x(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new D(-301,!1);r.push(n[o],i)}}function Ux(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function Hx(e,n,t,r,o,i,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let m=r[v];!l&&Dn(m)&&(l=!0,Ux(e,t,v)),Af(yl(t,n),e,m.type)}Zx(t,e.data.length,a);for(let v=0;v<a;v++){let m=r[v];m.providersResolver&&m.providersResolver(m)}let c=!1,u=!1,h=jy(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let m=r[v];if(t.mergedAttrs=Ho(t.mergedAttrs,m.hostAttrs),Gx(e,t,n,h,m),Qx(h,m,o),s!==null&&s.has(m)){let[I,x]=s.get(m);t.directiveToIndex.set(m.type,[h,I+t.directiveStart,x+t.directiveStart])}else(i===null||!i.has(m))&&t.directiveToIndex.set(m.type,h);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let _=m.type.prototype;!c&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),c=!0),!u&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}zx(e,t,i)}function zx(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))Rv(0,n,o,r),Rv(1,n,o,r),Pv(n,r,!1);else{let i=t.get(o);Ov(0,n,i,r),Ov(1,n,i,r),Pv(n,r,!0)}}}function Rv(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),m0(n,i)}}function Ov(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=n.hostDirectiveInputs??={}:a=n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),m0(n,s)}}function m0(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Pv(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||Mp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&o.hasOwnProperty(l)){let c=o[l];for(let u of c)if(u===n){s??=[],s.push(l,r[a+1]);break}}else if(t&&i.hasOwnProperty(l)){let c=i[l];for(let u=0;u<c.length;u+=2)if(c[u]===n){s??=[],s.push(c[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Gx(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=or(o.type,!0)),s=new Qr(i,Dn(o),R,null);e.blueprint[r]=s,t[r]=s,qx(e,n,r,jy(e,t,o.hostVars,At),o)}function qx(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~n.index;Wx(s)!=a&&s.push(a),s.push(t,r,i)}}function Wx(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function Qx(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Dn(n)&&(t[""]=e)}}function Zx(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function v0(e,n,t,r,o,i,s,a){let l=n[F],c=l.consts,u=Ut(c,s),h=ds(l,e,t,r,u);return i&&g0(l,n,h,Ut(c,a),o),h.mergedAttrs=Ho(h.mergedAttrs,h.attrs),h.attrs!==null&&El(h,h.attrs,!1),h.mergedAttrs!==null&&El(h,h.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,h),h}function y0(e,n){Xv(e,n),Gd(n)&&e.queries.elementEnd(n)}function Yx(e,n,t,r,o,i){let s=n.consts,a=Ut(s,o),l=ds(n,e,t,r,a);if(l.mergedAttrs=Ho(l.mergedAttrs,l.attrs),i!=null){let c=Ut(s,i);l.localNames=[];for(let u=0;u<c.length;u+=2)l.localNames.push(c[u],-1)}return l.attrs!==null&&El(l,l.attrs,!1),l.mergedAttrs!==null&&El(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Hp(e){return _0(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function b0(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function _0(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function zp(e,n,t){return e[n]=t}function Kx(e,n){return e[n]}function sn(e,n,t){if(t===At)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function w0(e,n,t,r){let o=sn(e,n,t);return sn(e,n+1,r)||o}function pl(e,n,t){return function r(o){let i=dr(e)?$t(e.index,n):n;Bp(i,5);let s=n[ke],a=Fv(n,s,t,o),l=r.__ngNextListenerFn__;for(;l;)a=Fv(n,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Fv(e,n,t,r){let o=V(null);try{return fe(6,n,t),t(r)!==!1}catch(i){return gx(e,i),!1}finally{fe(7,n,t),V(o)}}function E0(e,n,t,r,o,i,s,a){let l=Hi(e),c=!1,u=null;if(!r&&l&&(u=Xx(n,t,i,e.index)),u!==null){let h=u.__ngLastListenerFn__||u;h.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,c=!0}else{let h=nn(e,t),v=r?r(h):h;tC(t,v,i,a);let m=o.listen(v,i,a);if(!Jx(i)){let _=r?I=>r(Bt(I[e.index])):e.index;D0(_,n,t,i,a,m,!1)}}return c}function Jx(e){return e.startsWith("animation")||e.startsWith("transition")}function Xx(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=n[Po],l=o[i+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(i+=2)}return null}function D0(e,n,t,r,o,i,s){let a=n.firstCreatePass?Xd(n):null,l=Jd(t),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function Lv(e,n,t,r,o,i){let s=n[t],a=n[F],c=a.data[t].outputs[r],h=s[c].subscribe(i);D0(e.index,a,n,o,i,h,!0)}var Kf=Symbol("BINDING");var Dl=class extends fs{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Vn(n);return new Kr(t,this.ngModule)}};function eI(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&Ll.SignalBased)!==0};return o&&(i.transform=o),i})}function tI(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function nI(e,n,t){let r=n instanceof Me?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Yf(t,r):t}function rI(e){let n=e.get(Yr,null);if(n===null)throw new D(407,!1);let t=e.get(h0,null),r=e.get(sr,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function oI(e,n){let t=C0(e);return Oy(n,t,t==="svg"?qd:t==="math"?$m:null)}function C0(e){return(e.selectors[0][0]||"div").toLowerCase()}var Kr=class extends zl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tI(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=TC(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o,i,s){fe(22);let a=V(null);try{let l=this.componentDef,c=iI(r,l,s,i),u=nI(l,o||this.ngModule,n),h=rI(u),v=h.rendererFactory.createRenderer(null,l),m=r?ox(v,r,l.encapsulation,u):oI(l,v),_=s?.some(Vv)||i?.some(S=>typeof S!="function"&&S.bindings.some(Vv)),I=Tp(null,c,null,512|Vy(l),null,null,h,v,u,null,_y(m,u,!0));I[Fe]=m,Ja(I);let x=null;try{let S=v0(Fe,I,2,"#host",()=>c.directiveRegistry,!0,0);Ly(v,m,S),zo(m,I),Lp(c,I,S),Ey(c,S,I),y0(c,S),t!==void 0&&aI(S,this.ngContentSelectors,t),x=$t(S.index,I),I[ke]=x[ke],jp(c,I,null)}catch(S){throw x!==null&&Of(x),Of(I),S}finally{fe(23),Xa()}return new Cl(this.componentType,I,!!_)}finally{V(a)}}};function iI(e,n,t,r){let o=e?["ng-version","21.0.0"]:NC(n.selectors[0]),i=null,s=null,a=0;if(t)for(let u of t)a+=u[Kf].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let h=r[u];if(typeof h!="function")for(let v of h.bindings){a+=v[Kf].requiredVars;let m=u+1;v.create&&(v.targetIdx=m,(i??=[]).push(v)),v.update&&(v.targetIdx=m,(s??=[]).push(v))}}let l=[n];if(r)for(let u of r){let h=typeof u=="function"?u:u.type,v=Ld(h);l.push(v)}return kp(0,null,sI(i,s),1,a,l,null,null,null,[o],null)}function sI(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function Vv(e){let n=e[Kf].kind;return n==="input"||n==="twoWay"}var Cl=class extends p0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=zi(t[F],Fe),this.location=qo(this._tNode,t),this.instance=$t(this._tNode.index,t)[ke],this.hostView=this.changeDetectorRef=new hr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=Vp(r,o[F],o,n,t);this.previousInputValues.set(n,t);let s=$t(r.index,o);Bp(s,1)}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function aI(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Gn=(()=>{class e{static __NG_ELEMENT_ID__=lI}return e})();function lI(){let e=tt();return I0(e,U())}var cI=Gn,x0=class extends cI{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){let n=gp(this._hostTNode,this._hostLView);if(ny(n)){let t=ml(n,this._hostLView),r=gl(n),o=t[F].data[r+8];return new Wr(o,t)}else return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=jv(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ce}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Qf(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Xi(this._hostTNode,s)),a}createComponent(n,t,r,o,i,s,a){let l=n&&!MD(n),c;if(l)c=t;else{let x=t||{};c=x.index,r=x.injector,o=x.projectableNodes,i=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let u=l?n:new Kr(Vn(n)),h=r||this.parentInjector;if(!i&&u.ngModule==null){let S=(l?h:this.parentInjector).get(Me,null);S&&(i=S)}let v=Vn(u.componentType??{}),m=Qf(this._lContainer,v?.id??null),_=m?.firstChild??null,I=u.create(h,o,_,i,s,a);return this.insertImpl(I.hostView,c,Xi(this._hostTNode,m)),I}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(zm(o)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=o[Be],c=new x0(l,l[jt],l[Be]);c.detach(c.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return Hl(s,o,i,r),n.attachToViewContainerRef(),Rd(Df(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=jv(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=ts(this._lContainer,t);r&&(Li(Df(this._lContainer),t),jl(r[F],r))}detach(n){let t=this._adjustIndex(n,-1),r=ts(this._lContainer,t);return r&&Li(Df(this._lContainer),t)!=null?new hr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function jv(e){return e[Ui]}function Df(e){return e[Ui]||(e[Ui]=[])}function I0(e,n){let t,r=n[e.index];return tn(r)?t=r:(t=l0(r,n,null,e),n[e.index]=t,Np(n,t)),dI(t,n,e,r),new x0(t,e,n)}function uI(e,n){let t=e[me],r=t.createComment(""),o=nn(n,e),i=t.parentNode(o);return _l(t,i,r,t.nextSibling(o),!1),r}var dI=hI,fI=()=>!1;function pI(e,n,t){return fI(e,n,t)}function hI(e,n,t,r){if(e[ur])return;let o;t.type&8?o=Bt(r):o=uI(n,t),e[ur]=o}var Jf=class e{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Xf=class e{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){let t=n.queries;if(t!==null){let r=n.contentQueries!==null?n.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let s=t.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)Gp(n,t).matches!==null&&this.queries[t].setDirty()}},ep=class{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,typeof n=="string"?this.predicate=EI(n):this.predicate=n}},tp=class e{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new e(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},np=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new e(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(n,t,gI(t,i)),this.matchTNodeWithReadOption(n,t,dl(t,n,i,!1,!1))}else r===gr?t.type&4&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,dl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===ft||o===Gn||o===gr&&t.type&4)this.addMatch(t.index,-2);else{let i=dl(t,n,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(n,t){this.matches===null?this.matches=[n,t]:this.matches.push(n,t)}};function gI(e,n){let t=e.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1]}return null}function mI(e,n){return e.type&11?qo(e,n):e.type&4?$p(e,n):null}function vI(e,n,t,r){return t===-1?mI(n,e):t===-2?yI(e,n,r):Ji(e,e[F],t,n)}function yI(e,n,t){if(t===ft)return qo(n,e);if(t===gr)return $p(n,e);if(t===Gn)return I0(n,e)}function S0(e,n,t,r){let o=n[wn].queries[r];if(o.matches===null){let i=e.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=i[c];a.push(vI(n,u,s[l+1],t.metadata.read))}}o.matches=a}return o.matches}function rp(e,n,t,r){let o=e.queries.getByIndex(t),i=o.matches;if(i!==null){let s=S0(e,n,o,t);for(let a=0;a<i.length;a+=2){let l=i[a];if(l>0)r.push(s[a/2]);else{let c=i[a+1],u=n[-l];for(let h=Ce;h<u.length;h++){let v=u[h];v[cr]===v[Be]&&rp(v[F],v,c,r)}if(u[zr]!==null){let h=u[zr];for(let v=0;v<h.length;v++){let m=h[v];rp(m[F],m,c,r)}}}}}return r}function bI(e,n){return e[wn].queries[n].queryList}function _I(e,n,t){let r=new bl((t&4)===4);return Wm(e,n,r,r.destroy),(n[wn]??=new Xf).queries.push(new Jf(r))-1}function wI(e,n,t){let r=Te();return r.firstCreatePass&&(DI(r,new ep(e,n,t),-1),(n&2)===2&&(r.staticViewQueries=!0)),_I(r,U(),n)}function EI(e){return e.split(",").map(n=>n.trim())}function DI(e,n,t){e.queries===null&&(e.queries=new tp),e.queries.track(new np(n,t))}function Gp(e,n){return e.queries.getByIndex(n)}function CI(e,n){let t=e[F],r=Gp(t,n);return r.crossesNgTemplate?rp(t,e,n,[]):S0(t,e,r,n)}var op=new Map,xI=new Set;async function M0(e){let n=op;op=new Map;let t=new Map;function r(i){let s=t.get(i);if(s)return s;let a=e(i).then(l=>II(i,l));return t.set(i,a),a}let o=Array.from(n).map(async([i,s])=>{if(s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");let a=[];s.templateUrl&&a.push(r(s.templateUrl).then(h=>{s.template=h}));let l=typeof s.styles=="string"?[s.styles]:s.styles??[];s.styles=l;let{styleUrl:c,styleUrls:u}=s;if(c&&(u=[c],s.styleUrl=void 0),u?.length){let h=Promise.all(u.map(v=>r(v))).then(v=>{l.push(...v),s.styleUrls=void 0});a.push(h)}await Promise.all(a),xI.delete(i)});await Promise.all(o)}function k0(){return op.size===0}async function II(e,n){if(typeof n=="string")return n;if(n.status!==void 0&&n.status!==200)throw new D(918,!1);return n.text()}var Jr=class{},Gl=class{};var ns=class extends Jr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dl(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=Fd(n);this._bootstrapComponents=Ay(i.bootstrap),this._r3Injector=pf(n,t,[{provide:Jr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver},...r],Ln(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},rs=class extends Gl{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ns(this.moduleType,n,[])}};function T0(e,n,t){return new ns(e,n,t,!1)}var xl=class extends Jr{injector;componentFactoryResolver=new Dl(this);instance=null;constructor(n){super();let t=new Fr([...n.providers,{provide:Jr,useValue:this},{provide:fs,useValue:this.componentFactoryResolver}],n.parent||ji(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Wo(e,n,t=null){return new xl({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var SI=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Vd(!1,t.type),o=r.length>0?Wo([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(O(Me))})}return e})();function W(e){return is(()=>{let n=N0(e),t=B(E({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(SI).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||on.Emulated,styles:e.styles||Mt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Sn("NgStandalone"),A0(t);let r=e.dependencies;return t.directiveDefs=Bv(r,MI),t.pipeDefs=Bv(r,Pm),t.id=NI(t),t})}function MI(e){return Vn(e)||Ld(e)}function ot(e){return is(()=>({type:e.type,bootstrap:e.bootstrap||Mt,declarations:e.declarations||Mt,imports:e.imports||Mt,exports:e.exports||Mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kI(e,n){if(e==null)return lr;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Ll.None,l=null),t[i]=[r,a,l],n[i]=s}return t}function TI(e){if(e==null)return lr;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function le(e){return is(()=>{let n=N0(e);return A0(n),n})}function ql(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function N0(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||lr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kI(e.inputs,n),outputs:TI(e.outputs),debugInfo:null}}function A0(e){e.features?.forEach(n=>n(e))}function Bv(e,n){return e?()=>{let t=typeof e=="function"?e():e,r=[];for(let o of t){let i=n(o);i!==null&&r.push(i)}return r}:null}function NI(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function AI(e){return Object.getPrototypeOf(e.prototype).constructor}function ze(e){let n=AI(e.type),t=!0,r=[e];for(;n;){let o;if(Dn(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new D(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);let s=e;s.inputs=Cf(e.inputs),s.declaredInputs=Cf(e.declaredInputs),s.outputs=Cf(e.outputs);let a=o.hostBindings;a&&LI(e,a);let l=o.viewQuery,c=o.contentQueries;if(l&&PI(e,l),c&&FI(e,c),RI(e,o),Im(e.outputs,o.outputs),Dn(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===ze&&(t=!1)}}n=Object.getPrototypeOf(n)}OI(r)}function RI(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function OI(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Ho(o.hostAttrs,t=Ho(t,o.hostAttrs))}}function Cf(e){return e===lr?{}:e===Mt?[]:e}function PI(e,n){let t=e.viewQuery;t?e.viewQuery=(r,o)=>{n(r,o),t(r,o)}:e.viewQuery=n}function FI(e,n){let t=e.contentQueries;t?e.contentQueries=(r,o,i)=>{n(r,o,i),t(r,o,i)}:e.contentQueries=n}function LI(e,n){let t=e.hostBindings;t?e.hostBindings=(r,o)=>{n(r,o),t(r,o)}:e.hostBindings=n}function R0(e,n,t,r,o,i,s,a){if(t.firstCreatePass){e.mergedAttrs=Ho(e.mergedAttrs,e.attrs);let u=e.tView=kp(2,e,o,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),u.queries=t.queries.embeddedTView(e))}a&&(e.flags|=a),jo(e,!1);let l=jI(t,n,e,r);el()&&Pp(t,n,l,e),zo(l,n);let c=l0(l,n,l,e);n[r+Fe]=c,Np(n,c),pI(c,e,n)}function VI(e,n,t,r,o,i,s,a,l,c,u){let h=t+Fe,v;return n.firstCreatePass?(v=ds(n,h,4,s||null,a||null),tf()&&g0(n,e,v,Ut(n.consts,c),Yy),Xv(n,v)):v=n.data[h],R0(v,e,n,t,r,o,i,l),Hi(v)&&Lp(n,e,v),c!=null&&$l(e,v,u),v}function Il(e,n,t,r,o,i,s,a,l,c,u){let h=t+Fe,v;if(n.firstCreatePass){if(v=ds(n,h,4,s||null,a||null),c!=null){let m=Ut(n.consts,c);v.localNames=[];for(let _=0;_<m.length;_+=2)v.localNames.push(m[_],-1)}}else v=n.data[h];return R0(v,e,n,t,r,o,i,l),c!=null&&$l(e,v,u),v}function P(e,n,t,r,o,i,s,a){let l=U(),c=Te(),u=Ut(c.consts,i);return VI(l,c,e,n,t,r,o,u,void 0,s,a),P}var jI=BI;function BI(e,n,t,r){return tl(!0),n[me].createComment("")}var Wl=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function O0(e){return typeof e=="function"&&e[ct]!==void 0}function qp(e){return O0(e)&&typeof e.set=="function"}var Ql=new M(""),Zl=new M(""),ps=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,o){this._ngZone=t,this.registry=r,$d()&&(this._destroyRef=y(Ht,{optional:!0})??void 0),Wp||(F0(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t()},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}static \u0275fac=function(r){return new(r||e)(O(Ue),O(P0),O(Zl))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),P0=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Wp?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function F0(e){Wp=e}var Wp;function mr(e){return!!e&&typeof e.then=="function"}function Qp(e){return!!e&&typeof e.subscribe=="function"}var Zp=new M("");function Yl(e){return jr([{provide:Zp,multi:!0,useValue:e}])}var Yp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=y(Zp,{optional:!0})??[];injector=y(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=He(this.injector,o);if(mr(i))t.push(i);else if(Qp(i)){let s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kl=new M("");function L0(){Zu(()=>{let e="";throw new D(600,e)})}function V0(e){return e.isBoundToModule}var $I=10;function Kp(e,n){return Array.isArray(n)?n.reduce(Kp,e):E(E({},e),n)}var ln=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=y(zt);afterRenderManager=y(Rp);zonelessEnabled=y(Qi);rootEffectScheduler=y(bf);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Re;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=y($n);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){y(zn,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=y(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=Xe.NULL){return this._injector.get(Ue).run(()=>{fe(10);let s=t instanceof zl;if(!this._injector.get(Yp).done){let _="";throw new D(405,_)}let l;s?l=t:l=this._injector.get(fs).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let c=V0(l)?void 0:this._injector.get(Jr),u=r||l.selector,h=l.create(o,[],u,c),v=h.location.nativeElement,m=h.injector.get(Ql,null);return m?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),Ki(this.components,h),m?.unregisterApplication(v)}),this._loadComponent(h),fe(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Vl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let t=V(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,V(t),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<$I;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Gi(o))continue;let i=r&&!this.zonelessEnabled?0:1;o0(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Gi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ki(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(Kl,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ki(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ki(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function vr(e,n,t,r){let o=U(),i=fr();if(sn(o,i,n)){let s=Te(),a=Wi();fx(a,o,e,n,t,r)}return vr}var QV=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ip=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),o=Math.max(n,t),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(n,t){this.attach(t,this.detach(n))}};function xf(e,n,t,r,o){return e===t&&Object.is(n,r)?1:Object.is(o(e,n),o(t,r))?-1:0}function UI(e,n,t,r){let o,i,s=0,a=e.length-1,l=void 0;if(Array.isArray(n)){V(r);let c=n.length-1;for(V(null);s<=a&&s<=c;){let u=e.at(s),h=n[s],v=xf(s,u,s,h,t);if(v!==0){v<0&&e.updateValue(s,h),s++;continue}let m=e.at(a),_=n[c],I=xf(a,m,c,_,t);if(I!==0){I<0&&e.updateValue(a,_),a--,c--;continue}let x=t(s,u),S=t(a,m),ue=t(s,h);if(Object.is(ue,S)){let Qe=t(c,_);Object.is(Qe,x)?(e.swap(s,a),e.updateValue(a,_),c--,a--):e.move(a,s),e.updateValue(s,h),s++;continue}if(o??=new Sl,i??=Uv(e,s,a,t),sp(e,o,s,ue))e.updateValue(s,h),s++,a++;else if(i.has(ue))o.set(x,e.detach(s)),a--;else{let Qe=e.create(s,n[s]);e.attach(s,Qe),s++,a++}}for(;s<=c;)$v(e,o,t,s,n[s]),s++}else if(n!=null){V(r);let c=n[Symbol.iterator]();V(null);let u=c.next();for(;!u.done&&s<=a;){let h=e.at(s),v=u.value,m=xf(s,h,s,v,t);if(m!==0)m<0&&e.updateValue(s,v),s++,u=c.next();else{o??=new Sl,i??=Uv(e,s,a,t);let _=t(s,v);if(sp(e,o,s,_))e.updateValue(s,v),s++,a++,u=c.next();else if(!i.has(_))e.attach(s,e.create(s,v)),s++,a++,u=c.next();else{let I=t(s,h);o.set(I,e.detach(s)),a--}}}for(;!u.done;)$v(e,o,t,e.length,u.value),u=c.next()}for(;s<=a;)e.destroy(e.detach(a--));o?.forEach(c=>{e.destroy(c)})}function sp(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function $v(e,n,t,r,o){if(sp(e,n,r,t(r,o)))e.updateValue(r,o);else{let i=e.create(r,o);e.attach(r,i)}}function Uv(e,n,t,r){let o=new Set;for(let i=n;i<=t;i++)o.add(r(i,e.at(i)));return o}var Sl=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),n(r,t)}}};function qn(e,n,t,r,o,i,s,a){Sn("NgControlFlow");let l=U(),c=Te(),u=Ut(c.consts,i);return Il(l,c,e,n,t,r,o,u,256,s,a),Jp}function Jp(e,n,t,r,o,i,s,a){Sn("NgControlFlow");let l=U(),c=Te(),u=Ut(c.consts,i);return Il(l,c,e,n,t,r,o,u,512,s,a),Jp}function Wn(e,n){Sn("NgControlFlow");let t=U(),r=fr(),o=t[r]!==At?t[r]:-1,i=o!==-1?Ml(t,Fe+o):void 0,s=0;if(sn(t,r,e)){let a=V(null);try{if(i!==void 0&&u0(i,s),e!==-1){let l=Fe+e,c=Ml(t,l),u=up(t[F],l),h=f0(c,u,t),v=Ul(t,u,n,{dehydratedView:h});Hl(c,v,s,Xi(u,h))}}finally{V(a)}}else if(i!==void 0){let a=c0(i,s);a!==void 0&&(a[ke]=n)}}var ap=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ce}};var lp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function eo(e,n,t,r,o,i,s,a,l,c,u,h,v){Sn("NgControlFlow");let m=U(),_=Te(),I=l!==void 0,x=U(),S=a?s.bind(x[kt][ke]):s,ue=new lp(I,S);x[Fe+e]=ue,Il(m,_,e+1,n,t,r,o,Ut(_.consts,i),256),I&&Il(m,_,e+2,l,c,u,h,Ut(_.consts,v),512)}var cp=class extends ip{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ce}at(n){return this.getLView(n)[ke].$implicit}attach(n,t){let r=t[Oo];this.needsIndexUpdate||=n!==this.length,Hl(this.lContainer,t,n,Xi(this.templateTNode,r)),HI(this.lContainer,n)}detach(n){return this.needsIndexUpdate||=n!==this.length-1,zI(this.lContainer,n),GI(this.lContainer,n)}create(n,t){let r=Qf(this.lContainer,this.templateTNode.tView.ssrId),o=Ul(this.hostLView,this.templateTNode,new ap(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),o}destroy(n){jl(n[F],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ke].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ke].$index=n}getLView(n){return qI(this.lContainer,n)}};function to(e){let n=V(null),t=Bn();try{let r=U(),o=r[F],i=r[t],s=t+1,a=Ml(r,s);if(i.liveCollection===void 0){let c=up(o,s);i.liveCollection=new cp(a,r,c)}else i.liveCollection.reset();let l=i.liveCollection;if(UI(l,e,i.trackByFn,n),l.updateIndexes(),i.hasEmptyBlock){let c=fr(),u=l.length===0;if(sn(r,c,u)){let h=t+2,v=Ml(r,h);if(u){let m=up(o,h),_=f0(v,m,r),I=Ul(r,m,void 0,{dehydratedView:_});Hl(v,I,0,Xi(m,_))}else o.firstUpdatePass&&Fx(v),u0(v,0)}}}finally{V(n)}}function Ml(e,n){return e[n]}function HI(e,n){if(e.length<=Ce)return;let t=Ce+n,r=e[t],o=r?r[Hr]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[jn];UC(i,o),Zr.delete(r),o.detachedLeaveAnimationFns=void 0}}function zI(e,n){if(e.length<=Ce)return;let t=Ce+n,r=e[t],o=r?r[Hr]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function GI(e,n){return ts(e,n)}function qI(e,n){return c0(e,n)}function up(e,n){return zi(e,n)}function b(e,n,t){let r=U(),o=fr();if(sn(r,o,n)){let i=Te(),s=Wi();Qy(s,r,e,n,r[me],t)}return b}function Hv(e,n,t,r,o){Vp(n,e,t,o?"class":"style",r)}function d(e,n,t,r){let o=U(),i=o[F],s=e+Fe,a=i.firstCreatePass?v0(s,o,2,n,Yy,tf(),t,r):i.data[s];if(Ky(a,o,e,n,j0),Hi(a)){let l=o[F];Lp(l,o,a),Ey(l,a,o)}return r!=null&&$l(o,a),d}function f(){let e=Te(),n=tt(),t=Jy(n);return e.firstCreatePass&&y0(e,t),nf(t)&&rf(),ef(),t.classesWithoutHost!=null&&OD(t)&&Hv(e,t,U(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&PD(t)&&Hv(e,t,U(),t.stylesWithoutHost,!1),f}function Z(e,n,t,r){return d(e,n,t,r),f(),Z}function Q(e,n,t,r){let o=U(),i=o[F],s=e+Fe,a=i.firstCreatePass?Yx(s,i,2,n,t,r):i.data[s];return Ky(a,o,e,n,j0),r!=null&&$l(o,a),Q}function j(){let e=tt(),n=Jy(e);return nf(n)&&rf(),ef(),j}function Qo(e,n,t,r){return Q(e,n,t,r),j(),Qo}var j0=(e,n,t,r,o)=>(tl(!0),Oy(n[me],r,cv()));function K(){return U()}function Jl(e,n,t){let r=U(),o=fr();if(sn(r,o,n)){let i=Te(),s=Wi();Zy(s,r,e,n,r[me],t)}return Jl}var Zi=void 0;function WI(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var QI=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Zi,Zi,Zi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WI],If={};function wt(e){let n=ZI(e),t=zv(n);if(t)return t;let r=n.split("-")[0];if(t=zv(r),t)return t;if(r==="en")return QI;throw new D(701,!1)}function zv(e){return e in If||(If[e]=Pe.ng&&Pe.ng.common&&Pe.ng.common.locales&&Pe.ng.common.locales[e]),If[e]}var xe=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(xe||{});function ZI(e){return e.toLowerCase().replace(/_/g,"-")}var hs="en-US";var YI=hs;function B0(e){typeof e=="string"&&(YI=e.toLowerCase().replace(/_/g,"-"))}function N(e,n,t){let r=U(),o=Te(),i=tt();return $0(o,r,r[me],i,e,n,t),N}function yr(e,n,t){let r=U(),o=Te(),i=tt();return(i.type&3||t)&&E0(i,o,r,t,r[me],e,n,pl(i,r,n)),yr}function $0(e,n,t,r,o,i,s){let a=!0,l=null;if((r.type&3||s)&&(l??=pl(r,n,i),E0(r,e,n,s,t,o,i,l)&&(a=!1)),a){let c=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let h=0;h<u.length;h+=2){let v=u[h],m=u[h+1];l??=pl(r,n,i),Lv(r,n,v,m,o,l)}if(c&&c.length)for(let h of c)l??=pl(r,n,i),Lv(r,n,h,o,o,l)}}function w(e=1){return lv(e)}function no(e,n,t){wI(e,n,t)}function br(e){let n=U(),t=Te(),r=uf();Ka(r+1);let o=Gp(t,r);if(e.dirty&&Hm(n)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=CI(n,r);e.reset(i,QD),e.notifyOnChanges()}return!0}return!1}function _r(){return bI(U(),uf())}function al(e,n){return e<<17|n<<2}function Xr(e){return e>>17&32767}function KI(e){return(e&2)==2}function JI(e,n){return e&131071|n<<17}function dp(e){return e|2}function Go(e){return(e&131068)>>2}function Sf(e,n){return e&-131069|n<<2}function XI(e){return(e&1)===1}function fp(e){return e|1}function eS(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Xr(s),l=Go(s);e[r]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Ro(h,u)>0)&&(c=!0)}else u=t;if(o)if(l!==0){let v=Xr(e[a+1]);e[r+1]=al(v,a),v!==0&&(e[v+1]=Sf(e[v+1],r)),e[a+1]=JI(e[a+1],r)}else e[r+1]=al(a,0),a!==0&&(e[a+1]=Sf(e[a+1],r)),a=r;else e[r+1]=al(l,0),a===0?a=r:e[l+1]=Sf(e[l+1],r),l=r;c&&(e[r+1]=dp(e[r+1])),Gv(e,u,r,!0),Gv(e,u,r,!1),tS(n,u,e,r,i),s=al(a,l),i?n.classBindings=s:n.styleBindings=s}function tS(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&Ro(i,n)>=0&&(t[r+1]=fp(t[r+1]))}function Gv(e,n,t,r){let o=e[t+1],i=n===null,s=r?Xr(o):Go(o),a=!1;for(;s!==0&&(a===!1||i);){let l=e[s],c=e[s+1];nS(l,n)&&(a=!0,e[s+1]=r?fp(c):dp(c)),s=r?Xr(c):Go(c)}a&&(e[t+1]=r?dp(o):fp(o))}function nS(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Ro(e,n)>=0:!1}function Rt(e,n){return rS(e,n,null,!0),Rt}function rS(e,n,t,r){let o=U(),i=Te(),s=cf(2);if(i.firstUpdatePass&&iS(i,e,s,r),n!==At&&sn(o,s,n)){let a=i.data[Bn()];uS(i,a,o,o[me],e,o[s+1]=dS(n,t),r,s)}}function oS(e,n){return n>=e.expandoStartIndex}function iS(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Bn()],s=oS(e,t);fS(i,r)&&n===null&&!s&&(n=!1),n=sS(o,i,n,r),eS(o,i,n,t,s,r)}}function sS(e,n,t,r){let o=ov(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=Mf(null,e,n,t,r),t=os(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=Mf(o,e,n,t,r),i===null){let l=aS(e,n,r);l!==void 0&&Array.isArray(l)&&(l=Mf(null,e,n,l[1],r),l=os(l,n.attrs,r),lS(e,n,r,l))}else i=cS(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function aS(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Go(r)!==0)return e[Xr(r)]}function lS(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[Xr(o)]=r}function cS(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=os(r,s,t)}return os(r,n.attrs,t)}function Mf(e,n,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=n[a],r=os(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(t.directiveStylingLast=a),r}function os(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Om(e,s,t?!0:n[++i]))}return e===void 0?null:e}function uS(e,n,t,r,o,i,s,a){if(!(n.type&3))return;let l=e.data,c=l[a+1],u=XI(c)?qv(l,n,t,o,Go(c),s):void 0;if(!kl(u)){kl(i)||KI(c)&&(i=qv(l,null,t,o,a,s));let h=Wd(Bn(),t);rx(r,s,h,o,i)}}function qv(e,n,t,r,o,i){let s=n===null,a;for(;o>0;){let l=e[o],c=Array.isArray(l),u=c?l[1]:l,h=u===null,v=t[o+1];v===At&&(v=h?Mt:void 0);let m=h?qa(v,r):u===r?v:void 0;if(c&&!kl(m)&&(m=qa(l,r)),kl(m)&&(a=m,s))return a;let _=e[o+1];o=s?Xr(_):Go(_)}if(n!==null){let l=i?n.residualClasses:n.residualStyles;l!=null&&(a=qa(l,r))}return a}function kl(e){return e!==void 0}function dS(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Ln(Gt(e)))),e}function fS(e,n){return(e.flags&(n?8:16))!==0}function p(e,n=""){let t=U(),r=Te(),o=e+Fe,i=r.firstCreatePass?ds(r,o,1,n,null):r.data[o],s=pS(r,t,i,n,e);t[o]=s,el()&&Pp(r,t,s,i),jo(i,!1)}var pS=(e,n,t,r,o)=>(tl(!0),AC(n[me],r));function hS(e,n,t,r=""){return sn(e,fr(),t)?n+ar(t)+r:At}function gS(e,n,t,r,o,i=""){let s=Xm(),a=w0(e,s,t,o);return cf(2),a?n+ar(t)+r+ar(o)+i:At}function q(e){return A("",e),q}function A(e,n,t){let r=U(),o=hS(r,e,n,t);return o!==At&&U0(r,Bn(),o),A}function Xl(e,n,t,r,o){let i=U(),s=gS(i,e,n,t,r,o);return s!==At&&U0(i,Bn(),s),Xl}function U0(e,n,t){let r=Wd(n,e);RC(e[me],r,t)}function we(e,n,t){qp(n)&&(n=n());let r=U(),o=fr();if(sn(r,o,n)){let i=Te(),s=Wi();Qy(s,r,e,n,r[me],t)}return we}function Ie(e,n){let t=qp(e);return t&&e.set(n),t}function Ee(e,n){let t=U(),r=Te(),o=tt();return $0(r,t,t[me],o,e,n),Ee}function mS(e,n,t){let r=Te();if(r.firstCreatePass){let o=Dn(e);pp(t,r.data,r.blueprint,o,!0),pp(n,r.data,r.blueprint,o,!1)}}function pp(e,n,t,r,o){if(e=Je(e),Array.isArray(e))for(let i=0;i<e.length;i++)pp(e[i],n,t,r,o);else{let i=Te(),s=U(),a=tt(),l=Pr(e)?e:Je(e.provide),c=Bd(e),u=a.providerIndexes&1048575,h=a.directiveStart,v=a.providerIndexes>>20;if(Pr(e)||!e.multi){let m=new Qr(c,o,R,null),_=Tf(l,n,o?u:u+v,h);_===-1?(Af(yl(a,s),i,l),kf(i,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[_]=m,s[_]=m)}else{let m=Tf(l,n,u+v,h),_=Tf(l,n,u,u+v),I=m>=0&&t[m],x=_>=0&&t[_];if(o&&!x||!o&&!I){Af(yl(a,s),i,l);let S=bS(o?yS:vS,t.length,o,r,c,e);!o&&x&&(t[_].providerFactory=S),kf(i,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=H0(t[o?_:m],c,!o&&r);kf(i,e,m>-1?m:_,S)}!o&&r&&x&&t[_].componentProviders++}}}function kf(e,n,t,r){let o=Pr(n),i=jm(n);if(o||i){let l=(i?Je(n.useClass):n).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function H0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Tf(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function vS(e,n,t,r,o){return hp(this.multi,[])}function yS(e,n,t,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ji(r,r[F],this.providerFactory.index,o);s=l.slice(0,a),hp(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],hp(i,s);return s}function hp(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function bS(e,n,t,r,o,i){let s=new Qr(e,t,R,null);return s.multi=[],s.index=n,s.componentProviders=0,H0(s,o,r&&!t),s}function Ot(e,n=[]){return t=>{t.providersResolver=(r,o)=>mS(r,o?o(e):e,n)}}function Xp(e,n,t){let r=qi()+e,o=U();return o[r]===At?zp(o,r,t?n.call(t):n()):Kx(o,r)}function ve(e,n,t,r){return _S(U(),qi(),e,n,t,r)}function eh(e,n,t,r,o){return G0(U(),qi(),e,n,t,r,o)}function z0(e,n){let t=e[n];return t===At?void 0:t}function _S(e,n,t,r,o,i){let s=n+t;return sn(e,s,o)?zp(e,s+1,i?r.call(i,o):r(o)):z0(e,s+1)}function G0(e,n,t,r,o,i,s){let a=n+t;return w0(e,a,o,i)?zp(e,a+2,s?r.call(s,o,i):r(o,i)):z0(e,a+2)}function ro(e,n){let t=Te(),r,o=e+Fe;t.firstCreatePass?(r=wS(n,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks??=[]).push(o,r.onDestroy)):r=t.data[o];let i=r.factory||(r.factory=or(r.type,!0)),s,a=dt(R);try{let l=vl(!1),c=i();return vl(l),Qd(t,U(),o,c),c}finally{dt(a)}}function wS(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function oo(e,n,t,r){let o=e+Fe,i=U(),s=Um(i,o);return ES(i,o)?G0(i,qi(),n,s.transform,t,r,s):s.transform(t,r)}function ES(e,n){return e[F].data[n].pure}var ll=null;function q0(e){ll!==null&&(e.defaultEncapsulation!==ll.defaultEncapsulation||e.preserveWhitespaces!==ll.preserveWhitespaces)||(ll=e)}var Tl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},th=(()=>{class e{compileModuleSync(t){return new rs(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Fd(t),i=Ay(o.declarations).reduce((s,a)=>{let l=Vn(a);return l&&s.push(new Kr(l)),s},[]);return new Tl(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),W0=new M("");var Q0=(()=>{class e{applicationErrorHandler=y(zt);appRef=y(ln);taskService=y($n);ngZone=y(Ue);zonelessEnabled=y(Qi);tracing=y(zn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Oi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(y(yf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?gf:hf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Oi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Z0(){return[{provide:sr,useExisting:Q0},{provide:Ue,useClass:Pi},{provide:Qi,useValue:!0}]}function DS(){return typeof $localize<"u"&&$localize.locale||hs}var Zo=new M("",{factory:()=>y(Zo,{optional:!0,skipSelf:!0})||DS()});function io(e,n){return da(e,n?.equal)}var nb=Symbol("InputSignalNode#UNSET"),OS=B(E({},fa),{transformFn:void 0,applyValueToInputSignal(e,n){Di(e,n)}});function rb(e,n){let t=Object.create(OS);t.value=e,t.transformFn=n?.transform;function r(){if(_i(t),t.value===nb){let o=null;throw new D(-950,o)}return t.value}return r[ct]=t,r}var ec=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>ss(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function Y0(e,n){return rb(e,n)}function PS(e){return rb(nb,e)}var ob=(Y0.required=PS,Y0);function FS(e,n,t){let r=new rs(t);return Promise.resolve(r)}function K0(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var tc=new M(""),LS=new M("");function gs(e){return!e.moduleRef}function VS(e){let n=gs(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Ue);return t.run(()=>{gs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(zt),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),gs(e)){let i=()=>n.destroy(),s=e.platformInjector.get(tc);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(tc);s.add(i),e.moduleRef.onDestroy(()=>{Ki(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return BS(r,t,()=>{let i=n.get($n),s=i.add(),a=n.get(Yp);return a.runInitializers(),a.donePromise.then(()=>{let l=n.get(Zo,hs);if(B0(l||hs),!n.get(LS,!0))return gs(e)?n.get(ln):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(gs(e)){let u=n.get(ln);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return ib?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void i.remove(s))})})}var ib;function J0(){ib=jS}function jS(e,n){let t=e.injector.get(ln);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new D(-403,!1);n.push(e)}function BS(e,n,t){try{let r=t();return mr(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var sb=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let o=[],i=[Z0(),...o,...r?.applicationProviders??[],pv],s=T0(t.moduleType,this.injector,i);return J0(),VS({moduleRef:s,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let o=Kp({},r);return J0(),FS(this.injector,o,t).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(tc,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(O(Xe))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ah=null;function $S(e){if(ch())throw new D(400,!1);L0(),ah=e;let n=e.get(sb);return zS(e),n}function lh(e,n,t=[]){let r=`Platform: ${n}`,o=new M(r);return(i=[])=>{let s=ch();if(!s){let a=[...t,...i,{provide:o,useValue:!0}];s=e?.(a)??$S(US(a,r))}return HS(o)}}function US(e=[],n){return Xe.create({name:n,providers:[{provide:Vi,useValue:"platform"},{provide:tc,useValue:new Set([()=>ah=null])},...e]})}function HS(e){let n=ch();if(!n)throw new D(-401,!1);return n}function ch(){return ah?.get(sb)??null}function zS(e){let n=e.get(Al,null);He(e,()=>{n?.forEach(t=>t())})}var he=(()=>{class e{static __NG_ELEMENT_ID__=GS}return e})();function GS(e){return qS(tt(),U(),(e&16)===16)}function qS(e,n,t){if(dr(e)&&!t){let r=$t(e.index,n);return new hr(r,r)}else if(e.type&175){let r=n[kt];return new hr(r,n)}return null}var nh=class{constructor(){}supports(n){return Hp(n)}create(n){return new rh(n)}},WS=(e,n)=>n,rh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||WS}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<X0(r,o,i)?t:r,a=X0(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let c=a-o,u=l-o;if(c!=u){for(let v=0;v<c;v++){let m=v<i.length?i[v]:i[v]=0,_=m+v;u<=_&&_<c&&(i[v]=m+1)}let h=s.previousIndex;i[h]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!Hp(n))throw new D(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,b0(n,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new oh(t,r),i,o)),n}_verifyReinsertion(n,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let o=t===null?this._itHead:t._next;return n._next=o,n._prev=t,o===null?this._itTail=n:o._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new nc),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nc),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},oh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},ih=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nc=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new ih,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,o=this.map.get(r);return o?o.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function X0(e,n,t){let r=e.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function eb(){return new uh([new nh])}var uh=(()=>{class e{factories;static \u0275prov=C({token:e,providedIn:"root",factory:eb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:()=>{let r=y(e,{optional:!0,skipSelf:!0});return e.create(t,r||eb())}}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new D(901,!1)}}return e})();var ab=lh(null,"core",[]),lb=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(O(ln))};static \u0275mod=ot({type:e});static \u0275inj=et({})}return e})();function wr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function cb(e){let n=Vn(e);if(!n)return null;let t=new Kr(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var fb=null;function Pt(){return fb}function dh(e){fb??=e}var ms=class{},vs=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y(pb),providedIn:"platform"})}return e})(),fh=new M(""),pb=(()=>{class e extends vs{_location;_history;_doc=y(Le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pt().getBaseHref(this._doc)}onPopState(t){let r=Pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Pt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function rc(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function ub(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function cn(e){return e&&e[0]!=="?"?`?${e}`:e}var un=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y(ic),providedIn:"root"})}return e})(),oc=new M(""),ic=(()=>{class e extends un{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??y(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rc(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+cn(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+cn(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(O(vs),O(oc,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Er=(()=>{class e{_subject=new Re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=YS(ub(db(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cn(r))}normalize(t){return e.stripTrailingSlash(ZS(this._basePath,db(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=cn;static joinWithSlash=rc;static stripTrailingSlash=ub;static \u0275fac=function(r){return new(r||e)(O(un))};static \u0275prov=C({token:e,factory:()=>QS(),providedIn:"root"})}return e})();function QS(){return new Er(O(un))}function ZS(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function db(e){return e.replace(/\/index.html$/,"")}function YS(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var bh=(()=>{class e extends un{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=rc(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+cn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+cn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(O(vs),O(oc,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();var _h=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(_h||{});var it=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(it||{}),de=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(de||{}),Et=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(Et||{}),Dt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bb(e){return wt(e)[xe.LocaleId]}function _b(e,n,t){let r=wt(e),o=[r[xe.DayPeriodsFormat],r[xe.DayPeriodsStandalone]],i=Wt(o,n);return Wt(i,t)}function wb(e,n,t){let r=wt(e),o=[r[xe.DaysFormat],r[xe.DaysStandalone]],i=Wt(o,n);return Wt(i,t)}function Eb(e,n,t){let r=wt(e),o=[r[xe.MonthsFormat],r[xe.MonthsStandalone]],i=Wt(o,n);return Wt(i,t)}function Db(e,n){let r=wt(e)[xe.Eras];return Wt(r,n)}function ys(e,n){let t=wt(e);return Wt(t[xe.DateFormat],n)}function bs(e,n){let t=wt(e);return Wt(t[xe.TimeFormat],n)}function _s(e,n){let r=wt(e)[xe.DateTimeFormat];return Wt(r,n)}function Mn(e,n){let t=wt(e),r=t[xe.NumberSymbols][n];if(typeof r>"u"){if(n===Dt.CurrencyDecimal)return t[xe.NumberSymbols][Dt.Decimal];if(n===Dt.CurrencyGroup)return t[xe.NumberSymbols][Dt.Group]}return r}function Cb(e,n){return wt(e)[xe.NumberFormats][n]}function xb(e){if(!e[xe.ExtraData])throw new D(2303,!1)}function Ib(e){let n=wt(e);return xb(n),(n[xe.ExtraData][2]||[]).map(r=>typeof r=="string"?ph(r):[ph(r[0]),ph(r[1])])}function Sb(e,n,t){let r=wt(e);xb(r);let o=[r[xe.ExtraData][0],r[xe.ExtraData][1]],i=Wt(o,n)||[];return Wt(i,t)||[]}function Wt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new D(2304,!1)}function ph(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var KS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sc={},JS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Mb(e,n,t,r){let o=aM(e);n=Qn(t,n)||n;let s=[],a;for(;n;)if(a=JS.exec(n),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;n=u}else{s.push(n);break}let l=o.getTimezoneOffset();r&&(l=Tb(r,l),o=sM(o,r));let c="";return s.forEach(u=>{let h=oM(u);c+=h?h(o,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function dc(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Qn(e,n){let t=bb(e);if(sc[t]??={},sc[t][n])return sc[t][n];let r="";switch(n){case"shortDate":r=ys(e,Et.Short);break;case"mediumDate":r=ys(e,Et.Medium);break;case"longDate":r=ys(e,Et.Long);break;case"fullDate":r=ys(e,Et.Full);break;case"shortTime":r=bs(e,Et.Short);break;case"mediumTime":r=bs(e,Et.Medium);break;case"longTime":r=bs(e,Et.Long);break;case"fullTime":r=bs(e,Et.Full);break;case"short":let o=Qn(e,"shortTime"),i=Qn(e,"shortDate");r=ac(_s(e,Et.Short),[o,i]);break;case"medium":let s=Qn(e,"mediumTime"),a=Qn(e,"mediumDate");r=ac(_s(e,Et.Medium),[s,a]);break;case"long":let l=Qn(e,"longTime"),c=Qn(e,"longDate");r=ac(_s(e,Et.Long),[l,c]);break;case"full":let u=Qn(e,"fullTime"),h=Qn(e,"fullDate");r=ac(_s(e,Et.Full),[u,h]);break}return r&&(sc[t][n]=r),r}function ac(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function dn(e,n,t="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=-e+1:(e=-e,i=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),i+s}function XS(e,n){return dn(e,3).substring(0,n)}function je(e,n,t=0,r=!1,o=!1){return function(i,s){let a=eM(e,i);if((t>0||a>-t)&&(a+=t),e===3)a===0&&t===-12&&(a=12);else if(e===6)return XS(a,n);let l=Mn(s,Dt.MinusSign);return dn(a,n,l,r,o)}}function eM(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new D(2301,!1)}}function ge(e,n,t=it.Format,r=!1){return function(o,i){return tM(o,i,e,n,t,r)}}function tM(e,n,t,r,o,i){switch(t){case 2:return Eb(n,o,r)[e.getMonth()];case 1:return wb(n,o,r)[e.getDay()];case 0:let s=e.getHours(),a=e.getMinutes();if(i){let c=Ib(n),u=Sb(n,o,r),h=c.findIndex(v=>{if(Array.isArray(v)){let[m,_]=v,I=s>=m.hours&&a>=m.minutes,x=s<_.hours||s===_.hours&&a<_.minutes;if(m.hours<_.hours){if(I&&x)return!0}else if(I||x)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return _b(n,o,r)[s<12?0:1];case 3:return Db(n,r)[e.getFullYear()<=0?0:1];default:let l=t;throw new D(2302,!1)}}function lc(e){return function(n,t,r){let o=-1*r,i=Mn(t,Dt.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+dn(s,2,i)+dn(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+dn(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+dn(s,2,i)+":"+dn(Math.abs(o%60),2,i);case 3:return r===0?"Z":(o>=0?"+":"")+dn(s,2,i)+":"+dn(Math.abs(o%60),2,i);default:throw new D(2310,!1)}}}var nM=0,uc=4;function rM(e){let n=dc(e,nM,1).getDay();return dc(e,0,1+(n<=uc?uc:uc+7)-n)}function kb(e){let n=e.getDay(),t=n===0?-3:uc-n;return dc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function hh(e,n=!1){return function(t,r){let o;if(n){let i=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();o=1+Math.floor((s+i)/7)}else{let i=kb(t),s=rM(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return dn(o,e,Mn(r,Dt.MinusSign))}}function cc(e,n=!1){return function(t,r){let i=kb(t).getFullYear();return dn(i,e,Mn(r,Dt.MinusSign),n)}}var gh={};function oM(e){if(gh[e])return gh[e];let n;switch(e){case"G":case"GG":case"GGG":n=ge(3,de.Abbreviated);break;case"GGGG":n=ge(3,de.Wide);break;case"GGGGG":n=ge(3,de.Narrow);break;case"y":n=je(0,1,0,!1,!0);break;case"yy":n=je(0,2,0,!0,!0);break;case"yyy":n=je(0,3,0,!1,!0);break;case"yyyy":n=je(0,4,0,!1,!0);break;case"Y":n=cc(1);break;case"YY":n=cc(2,!0);break;case"YYY":n=cc(3);break;case"YYYY":n=cc(4);break;case"M":case"L":n=je(1,1,1);break;case"MM":case"LL":n=je(1,2,1);break;case"MMM":n=ge(2,de.Abbreviated);break;case"MMMM":n=ge(2,de.Wide);break;case"MMMMM":n=ge(2,de.Narrow);break;case"LLL":n=ge(2,de.Abbreviated,it.Standalone);break;case"LLLL":n=ge(2,de.Wide,it.Standalone);break;case"LLLLL":n=ge(2,de.Narrow,it.Standalone);break;case"w":n=hh(1);break;case"ww":n=hh(2);break;case"W":n=hh(1,!0);break;case"d":n=je(2,1);break;case"dd":n=je(2,2);break;case"c":case"cc":n=je(7,1);break;case"ccc":n=ge(1,de.Abbreviated,it.Standalone);break;case"cccc":n=ge(1,de.Wide,it.Standalone);break;case"ccccc":n=ge(1,de.Narrow,it.Standalone);break;case"cccccc":n=ge(1,de.Short,it.Standalone);break;case"E":case"EE":case"EEE":n=ge(1,de.Abbreviated);break;case"EEEE":n=ge(1,de.Wide);break;case"EEEEE":n=ge(1,de.Narrow);break;case"EEEEEE":n=ge(1,de.Short);break;case"a":case"aa":case"aaa":n=ge(0,de.Abbreviated);break;case"aaaa":n=ge(0,de.Wide);break;case"aaaaa":n=ge(0,de.Narrow);break;case"b":case"bb":case"bbb":n=ge(0,de.Abbreviated,it.Standalone,!0);break;case"bbbb":n=ge(0,de.Wide,it.Standalone,!0);break;case"bbbbb":n=ge(0,de.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":n=ge(0,de.Abbreviated,it.Format,!0);break;case"BBBB":n=ge(0,de.Wide,it.Format,!0);break;case"BBBBB":n=ge(0,de.Narrow,it.Format,!0);break;case"h":n=je(3,1,-12);break;case"hh":n=je(3,2,-12);break;case"H":n=je(3,1);break;case"HH":n=je(3,2);break;case"m":n=je(4,1);break;case"mm":n=je(4,2);break;case"s":n=je(5,1);break;case"ss":n=je(5,2);break;case"S":n=je(6,1);break;case"SS":n=je(6,2);break;case"SSS":n=je(6,3);break;case"Z":case"ZZ":case"ZZZ":n=lc(0);break;case"ZZZZZ":n=lc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=lc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=lc(2);break;default:return null}return gh[e]=n,n}function Tb(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function iM(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function sM(e,n,t){let o=e.getTimezoneOffset(),i=Tb(n,o);return iM(e,-1*(i-o))}function aM(e){if(hb(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[o,i=1,s=1]=e.split("-").map(a=>+a);return dc(o,i-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(KS))return lM(r)}let n=new Date(e);if(!hb(n))throw new D(2311,!1);return n}function lM(e){let n=new Date(0),t=0,r=0,o=e[8]?n.setUTCFullYear:n.setFullYear,i=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,l=Number(e[6]||0),c=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return i.call(n,s,a,l,c),n}function hb(e){return e instanceof Date&&!isNaN(e.valueOf())}var cM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gb=22,fc=".",ws="0",uM=";",dM=",",mh="#";function fM(e,n,t,r,o,i,s=!1){let a="",l=!1;if(!isFinite(e))a=Mn(t,Dt.Infinity);else{let c=gM(e);s&&(c=hM(c));let u=n.minInt,h=n.minFrac,v=n.maxFrac;if(i){let ue=i.match(cM);if(ue===null)throw new D(2306,!1);let Qe=ue[1],pe=ue[3],mt=ue[5];Qe!=null&&(u=vh(Qe)),pe!=null&&(h=vh(pe)),mt!=null?v=vh(mt):pe!=null&&h>v&&(v=h)}mM(c,h,v);let m=c.digits,_=c.integerLen,I=c.exponent,x=[];for(l=m.every(ue=>!ue);_<u;_++)m.unshift(0);for(;_<0;_++)m.unshift(0);_>0?x=m.splice(_,m.length):(x=m,m=[0]);let S=[];for(m.length>=n.lgSize&&S.unshift(m.splice(-n.lgSize,m.length).join(""));m.length>n.gSize;)S.unshift(m.splice(-n.gSize,m.length).join(""));m.length&&S.unshift(m.join("")),a=S.join(Mn(t,r)),x.length&&(a+=Mn(t,o)+x.join("")),I&&(a+=Mn(t,Dt.Exponential)+"+"+I)}return e<0&&!l?a=n.negPre+a+n.negSuf:a=n.posPre+a+n.posSuf,a}function Nb(e,n,t){let r=Cb(n,_h.Decimal),o=pM(r,Mn(n,Dt.MinusSign));return fM(e,o,n,Dt.Group,Dt.Decimal,t)}function pM(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(uM),o=r[0],i=r[1],s=o.indexOf(fc)!==-1?o.split(fc):[o.substring(0,o.lastIndexOf(ws)+1),o.substring(o.lastIndexOf(ws)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(mh));for(let u=0;u<l.length;u++){let h=l.charAt(u);h===ws?t.minFrac=t.maxFrac=u+1:h===mh?t.maxFrac=u+1:t.posSuf+=h}let c=a.split(dM);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,i){let u=o.length-t.posPre.length-t.posSuf.length,h=i.indexOf(mh);t.negPre=i.substring(0,h).replace(/'/g,""),t.negSuf=i.slice(h+u).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function hM(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function gM(e){let n=Math.abs(e)+"",t=0,r,o,i,s,a;for((o=n.indexOf(fc))>-1&&(n=n.replace(fc,"")),(i=n.search(/e/i))>0?(o<0&&(o=i),o+=+n.slice(i+1),n=n.substring(0,i)):o<0&&(o=n.length),i=0;n.charAt(i)===ws;i++);if(i===(a=n.length))r=[0],o=1;else{for(a--;n.charAt(a)===ws;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(n.charAt(i))}return o>gb&&(r=r.splice(0,gb-1),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}function mM(e,n,t){if(n>t)throw new D(2307,!1);let r=e.digits,o=r.length-e.integerLen,i=Math.min(Math.max(n,o),t),s=i+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let l=i!==0,c=n+e.integerLen,u=r.reduceRight(function(h,v,m,_){return v=v+h,_[m]=v<10?v:v-10,l&&(_[m]===0&&m>=c?_.pop():l=!1),v>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}function vh(e){let n=parseInt(e);if(isNaN(n))throw new D(2305,!1);return n}var yh=/\s+/,mb=[],Zn=(()=>{class e{_ngEl;_renderer;initialClasses=mb;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(yh):mb}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(yh):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let o=this.stateMap.get(t);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(yh).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(R(ft),R(an))};static \u0275dir=le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var pc=class{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qt=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new pc(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),vb(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);vb(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(R(Gn),R(gr),R(uh))};static \u0275dir=le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function vb(e,n){e.context.$implicit=n.item}var ye=(()=>{class e{_viewContainer;_context=new hc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){yb(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){yb(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(R(Gn),R(gr))};static \u0275dir=le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),hc=class{$implicit=null;ngIf=null};function yb(e,n){if(e&&!e.createEmbeddedView)throw new D(2020,!1)}function Ab(e,n){return new D(2100,!1)}var vM="mediumDate",Rb=new M(""),Ob=new M(""),Es=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,i){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??vM,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Mb(t,s,i||this.locale,a)}catch(s){throw Ab(e,s.message)}}static \u0275fac=function(r){return new(r||e)(R(Zo,16),R(Rb,24),R(Ob,24))};static \u0275pipe=ql({name:"date",type:e,pure:!0})}return e})();var wh=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,r,o){if(!yM(t))return null;o||=this._locale;try{let i=bM(t);return Nb(i,o,r)}catch(i){throw Ab(e,i.message)}}static \u0275fac=function(r){return new(r||e)(R(Zo,16))};static \u0275pipe=ql({name:"number",type:e,pure:!0})}return e})();function yM(e){return!(e==null||e===""||e!==e)}function bM(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new D(2309,!1);return e}var ee=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({})}return e})();function gc(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var so=class{};var Pb="browser";var Fb=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new Eh(y(Le),window)})}return e})(),Eh=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(B(E({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let r=_M(this.document,n);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(bn(2400,!1))}}scrollToElement(n,t){let r=n.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(B(E({},t),{left:o-s[0],top:i-s[1]}))}};function _M(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var Ds=class{_doc;constructor(n){this._doc=n}manager},mc=(()=>{class e extends Ds{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(O(Le))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),bc=new M(""),Ih=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let o=t.filter(s=>!(s instanceof mc));this._plugins=o.slice().reverse();let i=t.find(s=>s instanceof mc);i&&this._plugins.push(i)}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(O(bc),O(Ue))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Dh="ng-app-id";function Lb(e){for(let n of e)n.remove()}function Vb(e,n){let t=n.createElement("style");return t.textContent=e,t}function wM(e,n,t,r){let o=e.head?.querySelectorAll(`style[${Dh}="${n}"],link[${Dh}="${n}"]`);if(o)for(let i of o)i.removeAttribute(Dh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function xh(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Sh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,wM(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,Vb);r?.forEach(o=>this.addUsage(o,this.external,xh))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(Lb(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Lb(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,Vb(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,xh(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(O(Le),O(Nl),O(Rl,8),O(as))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Ch={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mh=/%COMP%/g;var Bb="%COMP%",EM=`_nghost-${Bb}`,DM=`_ngcontent-${Bb}`,CM=!0,xM=new M("",{factory:()=>CM});function IM(e){return DM.replace(Mh,e)}function SM(e){return EM.replace(Mh,e)}function $b(e,n){return n.map(t=>t.replace(Mh,e))}var kh=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,l=null,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=c,this.platformIsServer=!1,this.defaultRenderer=new Cs(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof yc?o.applyToHost(t):o instanceof xs&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case on.Emulated:i=new yc(l,c,r,this.appId,u,s,a,h,v);break;case on.ShadowDom:return new vc(l,t,r,s,a,this.nonce,h,v,c);case on.ExperimentalIsolatedShadowDom:return new vc(l,t,r,s,a,this.nonce,h,v);default:i=new xs(l,c,r,u,s,a,h,v);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(O(Ih),O(Sh),O(Nl),O(xM),O(Le),O(Ue),O(Rl),O(zn,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Cs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Ch[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(jb(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(jb(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Ch[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Ch[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(xn.DashCase|xn.Important)?n.style.setProperty(t,r,o&xn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&xn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Pt().getGlobalEventTarget(this.doc,n),!n))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function jb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var vc=class extends Cs{hostEl;sharedStylesHost;shadowRoot;constructor(n,t,r,o,i,s,a,l,c){super(n,o,i,a,l),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=$b(r.id,u);for(let v of u){let m=document.createElement("style");s&&m.setAttribute("nonce",s),m.textContent=v,this.shadowRoot.appendChild(m)}let h=r.getExternalStyles?.();if(h)for(let v of h){let m=xh(v,o);s&&m.setAttribute("nonce",s),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends Cs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,l,c){super(n,i,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let u=r.styles;this.styles=c?$b(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Zr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},yc=class extends xs{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,l,c){let u=o+"-"+r.id;super(n,t,r,i,s,a,l,c,u),this.contentAttr=IM(u),this.hostAttr=SM(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var _c=class e extends ms{supportsDOMEvents=!0;static makeCurrent(){dh(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=MM();return t==null?null:kM(t)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return gc(document.cookie,n)}},Is=null;function MM(){return Is=Is||document.head.querySelector("base"),Is?Is.getAttribute("href"):null}function kM(e){return new URL(e,document.baseURI).pathname}var wc=class{addToWindow(n){Pe.getAngularTestability=(r,o=!0)=>{let i=n.findTestabilityInTree(r,o);if(i==null)throw new D(5103,!1);return i},Pe.getAllAngularTestabilities=()=>n.getAllTestabilities(),Pe.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let o=Pe.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(a=>{a.whenStable(s)})};Pe.frameworkStabilizers||(Pe.frameworkStabilizers=[]),Pe.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let o=n.getTestability(t);return o??(r?Pt().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},TM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Ub=["alt","control","meta","shift"],NM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Hb=(()=>{class e extends Ds{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ub.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let o=NM[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ub.forEach(s=>{if(s!==o){let a=AM[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(O(Le))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function RM(){_c.makeCurrent()}function OM(){return new yn}function PM(){return vp(document),document}var FM=[{provide:as,useValue:Pb},{provide:Al,useValue:RM,multi:!0},{provide:Le,useFactory:PM}],Th=lh(ab,"browser",FM);var LM=[{provide:Zl,useClass:wc},{provide:Ql,useClass:ps},{provide:ps,useClass:ps}],VM=[{provide:Vi,useValue:"root"},{provide:yn,useFactory:OM},{provide:bc,useClass:mc,multi:!0},{provide:bc,useClass:Hb,multi:!0},kh,Sh,Ih,{provide:Yr,useExisting:kh},{provide:so,useClass:TM},[]],Nh=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({providers:[...VM,...LM],imports:[ee,lb]})}return e})();var Dr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,t);let o=(n.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=n.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(n,t){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Rh=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}},Oh=class{encodeKey(n){return zb(n)}encodeValue(n){return zb(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function jM(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var BM=/%(\d[a-f0-9])/gi,$M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zb(e){return encodeURIComponent(e).replace(BM,(n,t)=>$M[t]??n)}function Ec(e){return`${e}`}var Yn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Oh,n.fromString){if(n.fromObject)throw new D(2805,!1);this.map=jM(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let r=n.fromObject[t],o=Array.isArray(r)?r.map(Ec):[Ec(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(r=>{let o=n[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(Ec(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],o=r.indexOf(Ec(n.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};function UM(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Gb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function qb(e){return typeof Blob<"u"&&e instanceof Blob}function Wb(e){return typeof FormData<"u"&&e instanceof FormData}function HM(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Qb="Content-Type",Zb="Accept",Yb="text/plain",Kb="application/json",zM=`${Kb}, ${Yb}, */*`,Yo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,r,o){this.url=t,this.method=n.toUpperCase();let i;if(UM(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new D(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),i.referrerPolicy&&(this.referrerPolicy=i.referrerPolicy),this.transferCache=i.transferCache}if(this.headers??=new Dr,this.context??=new Rh,!this.params)this.params=new Yn,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Gb(this.body)||qb(this.body)||Wb(this.body)||HM(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wb(this.body)?null:qb(this.body)?this.body.type||null:Gb(this.body)?null:typeof this.body=="string"?Yb:this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Kb:null}clone(n={}){let t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.keepalive??this.keepalive,s=n.priority||this.priority,a=n.cache||this.cache,l=n.mode||this.mode,c=n.redirect||this.redirect,u=n.credentials||this.credentials,h=n.referrer||this.referrer,v=n.integrity||this.integrity,m=n.referrerPolicy||this.referrerPolicy,_=n.transferCache??this.transferCache,I=n.timeout??this.timeout,x=n.body!==void 0?n.body:this.body,S=n.withCredentials??this.withCredentials,ue=n.reportProgress??this.reportProgress,Qe=n.headers||this.headers,pe=n.params||this.params,mt=n.context??this.context;return n.setHeaders!==void 0&&(Qe=Object.keys(n.setHeaders).reduce((yi,kr)=>yi.set(kr,n.setHeaders[kr]),Qe)),n.setParams&&(pe=Object.keys(n.setParams).reduce((yi,kr)=>yi.set(kr,n.setParams[kr]),pe)),new e(t,r,x,{params:pe,headers:Qe,context:mt,reportProgress:ue,responseType:o,withCredentials:S,transferCache:_,keepalive:i,cache:a,priority:s,timeout:I,mode:l,redirect:c,credentials:u,referrer:h,integrity:v,referrerPolicy:m})}},ao=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(ao||{}),Ss=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(n,t=200,r="OK"){this.headers=n.headers||new Dr,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.responseType=n.responseType,this.ok=this.status>=200&&this.status<300}},Ph=class e extends Ss{constructor(n={}){super(n)}type=ao.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Ms=class e extends Ss{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=ao.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected,responseType:n.responseType??this.responseType})}},Ko=class extends Ss{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},GM=200,qM=204;var WM=/^\)\]\}',?\n/;var QM=(()=>{class e{xhrFactory;tracingService=y(zn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return L(null).pipe(ut(()=>new J(i=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((x,S)=>s.setRequestHeader(x,S.join(","))),t.headers.has(Zb)||s.setRequestHeader(Zb,zM),!t.headers.has(Qb)){let x=t.detectContentTypeHeader();x!==null&&s.setRequestHeader(Qb,x)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let x=t.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",S=new Dr(s.getAllResponseHeaders()),ue=s.responseURL||t.url;return l=new Ph({headers:S,status:s.status,statusText:x,url:ue}),l},u=this.maybePropagateTrace(()=>{let{headers:x,status:S,statusText:ue,url:Qe}=c(),pe=null;S!==qM&&(pe=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=pe?GM:0);let mt=S>=200&&S<300;if(t.responseType==="json"&&typeof pe=="string"){let yi=pe;pe=pe.replace(WM,"");try{pe=pe!==""?JSON.parse(pe):null}catch(kr){pe=yi,mt&&(mt=!1,pe={error:kr,text:pe})}}mt?(i.next(new Ms({body:pe,headers:x,status:S,statusText:ue,url:Qe||void 0})),i.complete()):i.error(new Ko({error:pe,headers:x,status:S,statusText:ue,url:Qe||void 0}))}),h=this.maybePropagateTrace(x=>{let{url:S}=c(),ue=new Ko({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(ue)}),v=h;t.timeout&&(v=this.maybePropagateTrace(x=>{let{url:S}=c(),ue=new Ko({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:S||void 0});i.error(ue)}));let m=!1,_=this.maybePropagateTrace(x=>{m||(i.next(c()),m=!0);let S={type:ao.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(S.total=x.total),t.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),i.next(S)}),I=this.maybePropagateTrace(x=>{let S={type:ao.UploadProgress,loaded:x.loaded};x.lengthComputable&&(S.total=x.total),i.next(S)});return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",v),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",_),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),i.next({type:ao.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",v),t.reportProgress&&(s.removeEventListener("progress",_),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(O(so))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZM(e,n){return n(e)}function YM(e,n,t){return(r,o)=>He(t,()=>n(r,i=>e(i,o)))}var KM=new M("",{factory:()=>[]}),Jb=new M(""),JM=new M("",{providedIn:"root",factory:()=>!0});var XM=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=O(QM),o},providedIn:"root"})}return e})();var ek=(()=>{class e{backend;injector;chain=null;pendingTasks=y(rl);contributeToStability=y(JM);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KM),...this.injector.get(Jb,[])]));this.chain=r.reduceRight((o,i)=>YM(o,i,this.injector),ZM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(ki(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(O(XM),O(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=O(ek),o},providedIn:"root"})}return e})();function Ah(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Fh=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Yo)i=t;else{let l;o.headers instanceof Dr?l=o.headers:l=new Dr(o.headers);let c;o.params&&(o.params instanceof Yn?c=o.params:c=new Yn({fromObject:o.params})),i=new Yo(t,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,referrerPolicy:o.referrerPolicy,integrity:o.integrity,timeout:o.timeout})}let s=L(i).pipe(rr(l=>this.handler.handle(l)));if(t instanceof Yo||o.observe==="events")return s;let a=s.pipe(bt(l=>l instanceof Ms));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new D(2806,!1);return l.body}));case"blob":return a.pipe(X(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new D(2807,!1);return l.body}));case"text":return a.pipe(X(l=>{if(l.body!==null&&typeof l.body!="string")throw new D(2808,!1);return l.body}));case"json":default:return a.pipe(X(l=>l.body))}case"response":return a;default:throw new D(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Yn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Ah(o,r))}post(t,r,o={}){return this.request("POST",t,Ah(o,r))}put(t,r,o={}){return this.request("PUT",t,Ah(o,r))}static \u0275fac=function(r){return new(r||e)(O(tk))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xb=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(O(Le))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Lh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=O(nk),o},providedIn:"root"})}return e})(),nk=(()=>{class e extends Lh{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case qt.NONE:return r;case qt.HTML:return In(r,"HTML")?Gt(r):Fl(this._doc,String(r)).toString();case qt.STYLE:return In(r,"Style")?Gt(r):r;case qt.SCRIPT:if(In(r,"Script"))return Gt(r);throw new D(5200,!1);case qt.URL:return In(r,"URL")?Gt(r):ls(String(r));case qt.RESOURCE_URL:if(In(r,"ResourceURL"))return Gt(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(t){return _p(t)}bypassSecurityTrustStyle(t){return wp(t)}bypassSecurityTrustScript(t){return Ep(t)}bypassSecurityTrustUrl(t){return Dp(t)}bypassSecurityTrustResourceUrl(t){return Cp(t)}static \u0275fac=function(r){return new(r||e)(O(Le))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",js=Symbol("RouteTitle"),Hh=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fo(e){return new Hh(e)}function l_(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=e[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Mc(e){return new Promise((n,t)=>{e.pipe(Pn()).subscribe({next:r=>n(r),error:r=>t(r)})})}function rk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!kn(e[t],n[t]))return!1;return!0}function kn(e,n){let t=e?zh(e):void 0,r=n?zh(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!c_(e[o],n[o]))return!1;return!0}function zh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function c_(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function u_(e){return e.length>0?e[e.length-1]:null}function po(e){return Na(e)?e:mr(e)?be(Promise.resolve(e)):L(e)}function d_(e){return Na(e)?Mc(e):Promise.resolve(e)}var ok={exact:p_,subset:h_},f_={exact:ik,subset:sk,ignored:()=>!0};function e_(e,n,t){return ok[t.paths](e.root,n.root,t.matrixParams)&&f_[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function ik(e,n){return kn(e,n)}function p_(e,n,t){if(!co(e.segments,n.segments)||!xc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!p_(e.children[r],n.children[r],t))return!1;return!0}function sk(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>c_(e[t],n[t]))}function h_(e,n,t){return g_(e,n,n.segments,t)}function g_(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!co(o,t)||n.hasChildren()||!xc(o,t,r))}else if(e.segments.length===t.length){if(!co(e.segments,t)||!xc(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!h_(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!co(e.segments,o)||!xc(e.segments,o,r)||!e.children[H]?!1:g_(e.children[H],n,i,r)}}function xc(e,n,t){return n.every((r,o)=>f_[t](e[o].parameters,r.parameters))}var pn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new re([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){return ck.serialize(this)}},re=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ic(this)}},Cr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=fo(this.parameters),this._parameterMap}toString(){return v_(this)}};function ak(e,n){return co(e,n)&&e.every((t,r)=>kn(t.parameters,n[r].parameters))}function co(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function lk(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===H&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==H&&(t=t.concat(n(o,r)))}),t}var ho=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new Kn,providedIn:"root"})}return e})(),Kn=class{parse(n){let t=new qh(n);return new pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${ks(n.root,!0)}`,r=fk(n.queryParams),o=typeof n.fragment=="string"?`#${uk(n.fragment)}`:"";return`${t}${r}${o}`}},ck=new Kn;function Ic(e){return e.segments.map(n=>v_(n)).join("/")}function ks(e,n){if(!e.hasChildren())return Ic(e);if(n){let t=e.children[H]?ks(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==H&&r.push(`${o}:${ks(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=lk(e,(r,o)=>o===H?[ks(e.children[H],!1)]:[`${o}:${ks(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${Ic(e)}/${t[0]}`:`${Ic(e)}/(${t.join("//")})`}}function m_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(e){return m_(e).replace(/%3B/gi,";")}function uk(e){return encodeURI(e)}function Gh(e){return m_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sc(e){return decodeURIComponent(e)}function t_(e){return Sc(e.replace(/\+/g,"%20"))}function v_(e){return`${Gh(e.path)}${dk(e.parameters)}`}function dk(e){return Object.entries(e).map(([n,t])=>`;${Gh(n)}=${Gh(t)}`).join("")}function fk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Dc(t)}=${Dc(o)}`).join("&"):`${Dc(t)}=${Dc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var pk=/^[^\/()?;#]+/;function jh(e){let n=e.match(pk);return n?n[0]:""}var hk=/^[^\/()?;=#]+/;function gk(e){let n=e.match(hk);return n?n[0]:""}var mk=/^[^=?&#]+/;function vk(e){let n=e.match(mk);return n?n[0]:""}var yk=/^[^&#]+/;function bk(e){let n=e.match(yk);return n?n[0]:""}var qh=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[H]=new re(n,t)),r}parseSegment(){let n=jh(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(n),new Cr(Sc(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=gk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=jh(this.remaining);o&&(r=o,this.capture(r))}n[Sc(t)]=Sc(r)}parseQueryParam(n){let t=vk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=bk(this.remaining);s&&(r=s,this.capture(r))}let o=t_(t),i=t_(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jh(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=H);let s=this.parseChildren();t[i??H]=Object.keys(s).length===1&&s[H]?s[H]:new re([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new D(4011,!1)}};function y_(e){return e.segments.length>0?new re([],{[H]:e}):e}function b_(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=b_(o);if(r===H&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new re(e.segments,n);return _k(t)}function _k(e){if(e.numberOfChildren===1&&e.children[H]){let n=e.children[H];return new re(e.segments.concat(n.segments),n.children)}return e}function xr(e){return e instanceof pn}function __(e,n,t=null,r=null,o=new Kn){let i=w_(e);return E_(i,n,t,r,o)}function w_(e){let n;function t(i){let s={};for(let l of i.children){let c=t(l);s[l.outlet]=c}let a=new re(i.url,s);return i===e&&(n=a),a}let r=t(e.root),o=y_(r);return n??o}function E_(e,n,t,r,o){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Bh(i,i,i,t,r,o);let s=wk(n);if(s.toRoot())return Bh(i,i,new re([],{}),t,r,o);let a=Ek(s,i,e),l=a.processChildren?Ns(a.segmentGroup,a.index,s.commands):C_(a.segmentGroup,a.index,s.commands);return Bh(i,a.segmentGroup,l,t,r,o)}function kc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Rs(e){return typeof e=="object"&&e!=null&&e.outlets}function n_(e,n,t){e||="\u0275";let r=new pn;return r.queryParams={[e]:n},t.parse(t.serialize(r)).queryParams[e]}function Bh(e,n,t,r,o,i){let s={};for(let[c,u]of Object.entries(r??{}))s[c]=Array.isArray(u)?u.map(h=>n_(c,h,i)):n_(c,u,i);let a;e===n?a=t:a=D_(e,n,t);let l=y_(b_(a));return new pn(l,s,o)}function D_(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=D_(i,n,t)}),new re(e.segments,r)}var Tc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&kc(r[0]))throw new D(4003,!1);let o=r.find(Rs);if(o&&o!==u_(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Tc(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?n++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Tc(t,n,r)}var Xo=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function Ek(e,n,t){if(e.isAbsolute)return new Xo(n,!0,0);if(!t)return new Xo(n,!1,NaN);if(t.parent===null)return new Xo(t,!0,0);let r=kc(e.commands[0])?0:1,o=t.segments.length-1+r;return Dk(t,o,e.numberOfDoubleDots)}function Dk(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new Xo(r,!1,o-i)}function Ck(e){return Rs(e[0])?e[0].outlets:{[H]:e}}function C_(e,n,t){if(e??=new re([],{}),e.segments.length===0&&e.hasChildren())return Ns(e,n,t);let r=xk(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new re(e.segments.slice(0,r.pathIndex),{});return i.children[H]=new re(e.segments.slice(r.pathIndex),e.children),Ns(i,0,o)}else return r.match&&o.length===0?new re(e.segments,{}):r.match&&!e.hasChildren()?Wh(e,n,t):r.match?Ns(e,0,o):Wh(e,n,t)}function Ns(e,n,t){if(t.length===0)return new re(e.segments,{});{let r=Ck(t),o={};if(Object.keys(r).some(i=>i!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let i=Ns(e.children[H],n,t);return new re(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=C_(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new re(e.segments,o)}}function xk(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],a=t[r];if(Rs(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(o>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!o_(l,c,s))return i;r+=2}else{if(!o_(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Wh(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Rs(i)){let l=Ik(i.outlets);return new re(r,l)}if(o===0&&kc(t[0])){let l=e.segments[n];r.push(new Cr(l.path,r_(t[0]))),o++;continue}let s=Rs(i)?i.outlets[H]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&kc(a)?(r.push(new Cr(s,r_(a))),o+=2):(r.push(new Cr(s,{})),o++)}return new re(r,{})}function Ik(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Wh(new re([],{}),0,r))}),n}function r_(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function o_(e,n,t){return e==t.path&&kn(n,t.parameters)}var ei="imperative",$e=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})($e||{}),Lt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Ir=class extends Lt{type=$e.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zt=class extends Lt{urlAfterRedirects;type=$e.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(pt||{}),ni=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(ni||{}),Tn=class extends Lt{reason;code;type=$e.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Lt{reason;code;type=$e.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},ri=class extends Lt{error;target;type=$e.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Os=class extends Lt{urlAfterRedirects;state;type=$e.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nc=class extends Lt{urlAfterRedirects;state;type=$e.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ac=class extends Lt{urlAfterRedirects;state;shouldActivate;type=$e.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rc=class extends Lt{urlAfterRedirects;state;type=$e.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oc=class extends Lt{urlAfterRedirects;state;type=$e.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pc=class{route;type=$e.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fc=class{route;type=$e.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Lc=class{snapshot;type=$e.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vc=class{snapshot;type=$e.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jc=class{snapshot;type=$e.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bc=class{snapshot;type=$e.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oi=class{routerEvent;position;anchor;type=$e.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Ps=class{},ii=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Sk(e){return!(e instanceof Ps)&&!(e instanceof ii)}function Mk(e,n){return e.providers&&!e._injector&&(e._injector=Wo(e.providers,n,`Route: ${e.path}`)),e._injector??n}function fn(e){return e.outlet||H}function kk(e,n){let t=e.filter(r=>fn(r)===n);return t.push(...e.filter(r=>fn(r)!==n)),t}function li(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var $c=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return li(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new go(this.rootInjector)}},go=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $c(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(O(Me))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Qh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Qh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Zh(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Zh(n,this._root).map(t=>t.value)}};function Qh(e,n){if(e===n.value)return n;for(let t of n.children){let r=Qh(e,t);if(r)return r}return null}function Zh(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Zh(e,t);if(r.length)return r.unshift(n),r}return[]}var Ft=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Jo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Fs=class extends Uc{snapshot;constructor(n,t){super(n),this.snapshot=t,tg(this,n)}toString(){return this.snapshot.toString()}};function x_(e){let n=Tk(e),t=new Ye([new Cr("",{})]),r=new Ye({}),o=new Ye({}),i=new Ye({}),s=new Ye(""),a=new oe(t,r,i,s,o,H,e,n.root);return a.snapshot=n.root,new Fs(new Ft(a,[]),n)}function Tk(e){let n={},t={},r={},i=new uo([],n,r,"",t,H,e,null,{});return new Ls("",new Ft(i,[]))}var oe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(X(c=>c[js]))??L(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(n=>fo(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(n=>fo(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hc(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:E(E({},n.params),e.params),data:E(E({},n.data),e.data),resolve:E(E(E(E({},e.data),n.data),o?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},o&&S_(o)&&(r.resolve[js]=o.title),r}var uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[js]}constructor(n,t,r,o,i,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ls=class extends Uc{url;constructor(n,t){super(t),this.url=n,tg(this,t)}toString(){return I_(this._root)}};function tg(e,n){n.value._routerState=e,n.children.forEach(t=>tg(e,t))}function I_(e){let n=e.children.length>0?` { ${e.children.map(I_).join(", ")} } `:"";return`${e.value}${n}`}function $h(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,kn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),kn(n.params,t.params)||e.paramsSubject.next(t.params),rk(n.url,t.url)||e.urlSubject.next(t.url),kn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Yh(e,n){let t=kn(e.params,n.params)&&ak(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Yh(e.parent,n.parent))}function S_(e){return typeof e.title=="string"||e.title===null}var M_=new M(""),Bs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new De;deactivateEvents=new De;attachEvents=new De;detachEvents=new De;routerOutletData=ob();parentContexts=y(go);location=y(Gn);changeDetector=y(he);inputBinder=y($s,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Kh(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=le({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Nt]})}return e})(),Kh=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===oe?this.route:n===go?this.childContexts:n===M_?this.outletData:this.parent.get(n,t)}},$s=new M(""),ng=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Pa([r.queryParams,r.params,r.data]).pipe(ut(([i,s,a],l)=>(a=E(E(E({},i),s),a),l===0?L(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=cb(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),rg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=W({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Z(0,"router-outlet")},dependencies:[Bs],encapsulation:2})}return e})();function og(e){let n=e.children&&e.children.map(og),t=n?B(E({},e),{children:n}):E({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==H&&(t.component=rg),t}function Nk(e,n,t){let r=Vs(e,n._root,t?t._root:void 0);return new Fs(r,n)}function Vs(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=Ak(e,n,t);return new Ft(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Vs(e,a)),s}}let r=Rk(n.value),o=n.children.map(i=>Vs(e,i));return new Ft(r,o)}}function Ak(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Vs(e,r,o);return Vs(e,r)})}function Rk(e){return new oe(new Ye(e.url),new Ye(e.params),new Ye(e.queryParams),new Ye(e.fragment),new Ye(e.data),e.outlet,e.component,e)}var si=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},k_="ngNavigationCancelingError";function zc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=xr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=T_(!1,pt.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function T_(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[k_]=!0,t.cancellationCode=n,t}function Ok(e){return N_(e)&&xr(e.url)}function N_(e){return!!e&&e[k_]}var Pk=(e,n,t,r)=>X(o=>(new Jh(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),Jh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),$h(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=Jo(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Jo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Jo(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=Jo(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Bc(i.value.snapshot))}),n.children.length&&this.forwardEvent(new Vc(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if($h(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$h(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Gc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ti=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Fk(e,n,t){let r=e._root,o=n?n._root:null;return Ts(r,o,t,[r.value])}function Lk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function ci(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!xd(e)?e:n.get(e):r}function Ts(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Jo(n);return e.children.forEach(s=>{Vk(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>As(a,t.getContext(s),o)),o}function Vk(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=jk(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Gc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ts(e,n,a?a.children:null,r,o):Ts(e,n,t,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ti(a.outlet.component,s))}else s&&As(n,a,o),o.canActivateChecks.push(new Gc(r)),i.component?Ts(e,null,a?a.children:null,r,o):Ts(e,null,t,r,o);return o}function jk(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!co(e.url,n.url);case"pathParamsOrQueryParamsChange":return!co(e.url,n.url)||!kn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yh(e,n)||!kn(e.queryParams,n.queryParams);case"paramsChange":default:return!Yh(e,n)}}function As(e,n,t){let r=Jo(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?As(s,n.children.getContext(i),t):As(s,null,t):As(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ti(n.outlet.component,o)):t.canDeactivateChecks.push(new ti(null,o)):t.canDeactivateChecks.push(new ti(null,o))}function Us(e){return typeof e=="function"}function Bk(e){return typeof e=="boolean"}function $k(e){return e&&Us(e.canLoad)}function Uk(e){return e&&Us(e.canActivate)}function Hk(e){return e&&Us(e.canActivateChild)}function zk(e){return e&&Us(e.canDeactivate)}function Gk(e){return e&&Us(e.canMatch)}function A_(e){return e instanceof Rn||e?.name==="EmptyError"}var Cc=Symbol("INITIAL_VALUE");function ai(){return ut(e=>Pa(e.map(n=>n.pipe(On(1),ad(Cc)))).pipe(X(n=>{for(let t of n)if(t!==!0){if(t===Cc)return Cc;if(t===!1||qk(t))return t}return!0}),bt(n=>n!==Cc),On(1)))}function qk(e){return xr(e)||e instanceof si}function R_(e){return e.aborted?L(void 0).pipe(On(1)):new J(n=>{let t=()=>{n.next(),n.complete()};return e.addEventListener("abort",t),()=>e.removeEventListener("abort",t)})}function O_(e){return Ti(R_(e))}function Wk(e,n){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?L(B(E({},t),{guardsResult:!0})):Qk(s,r,o,e).pipe(Ke(a=>a&&Bk(a)?Zk(r,i,e,n):L(a)),X(a=>B(E({},t),{guardsResult:a})))})}function Qk(e,n,t,r){return be(e).pipe(Ke(o=>eT(o.component,o.route,t,n,r)),Pn(o=>o!==!0,!0))}function Zk(e,n,t,r){return be(n).pipe(rr(o=>To(Kk(o.route.parent,r),Yk(o.route,r),Xk(e,o.path,t),Jk(e,o.route,t))),Pn(o=>o!==!0,!0))}function Yk(e,n){return e!==null&&n&&n(new jc(e)),L(!0)}function Kk(e,n){return e!==null&&n&&n(new Lc(e)),L(!0)}function Jk(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let o=r.map(i=>Si(()=>{let s=li(n)??t,a=ci(i,s),l=Uk(a)?a.canActivate(n,e):He(s,()=>a(n,e));return po(l).pipe(Pn())}));return L(o).pipe(ai())}function Xk(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>Lk(s)).filter(s=>s!==null).map(s=>Si(()=>{let a=s.guards.map(l=>{let c=li(s.node)??t,u=ci(l,c),h=Hk(u)?u.canActivateChild(r,e):He(c,()=>u(r,e));return po(h).pipe(Pn())});return L(a).pipe(ai())}));return L(i).pipe(ai())}function eT(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return L(!0);let s=i.map(a=>{let l=li(n)??o,c=ci(a,l),u=zk(c)?c.canDeactivate(e,n,t,r):He(l,()=>c(e,n,t,r));return po(u).pipe(Pn())});return L(s).pipe(ai())}function tT(e,n,t,r,o){let i=n.canLoad;if(i===void 0||i.length===0)return L(!0);let s=i.map(a=>{let l=ci(a,e),c=$k(l)?l.canLoad(n,t):He(e,()=>l(n,t)),u=po(c);return o?u.pipe(O_(o)):u});return L(s).pipe(ai(),P_(r))}function P_(e){return rd(_e(n=>{if(typeof n!="boolean")throw zc(e,n)}),X(n=>n===!0))}function nT(e,n,t,r,o){let i=n.canMatch;if(!i||i.length===0)return L(!0);let s=i.map(a=>{let l=ci(a,e),c=Gk(l)?l.canMatch(n,t):He(e,()=>l(n,t)),u=po(c);return o?u.pipe(O_(o)):u});return L(s).pipe(ai(),P_(r))}var lo=class F_ extends Error{segmentGroup;constructor(n){super(),this.segmentGroup=n||null,Object.setPrototypeOf(this,F_.prototype)}},Xh=class L_ extends Error{urlTree;constructor(n){super(),this.urlTree=n,Object.setPrototypeOf(this,L_.prototype)}};function rT(e){throw new D(4e3,!1)}function oT(e){throw T_(!1,pt.GuardRejected)}var iT=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}async lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return r;if(o.numberOfChildren>1||!o.children[H])throw rT(`${n.redirectTo}`);o=o.children[H]}}async applyRedirectCommands(n,t,r,o,i){let s=await sT(t,o,i);if(s instanceof pn)throw new Xh(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),n,r);if(s[0]==="/")throw new Xh(a);return a}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new pn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,o)}),new re(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}};function sT(e,n,t){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:u,title:h}=n;return Mc(po(He(t,()=>r({params:c,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:h}))))}var eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aT(e,n,t,r,o,i){let s=V_(e,n,t);return s.matched?(r=Mk(n,r),nT(r,n,t,o,i).pipe(X(a=>a===!0?s:E({},eg)))):L(s)}function V_(e,n,t){if(n.path==="**")return lT(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?E({},eg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||l_)(t,e,n);if(!o)return E({},eg);let i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});let s=o.consumed.length>0?E(E({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function lT(e){return{matched:!0,parameters:e.length>0?u_(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function i_(e,n,t,r){return t.length>0&&dT(e,t,r)?{segmentGroup:new re(n,uT(r,new re(t,e.children))),slicedSegments:[]}:t.length===0&&fT(e,t,r)?{segmentGroup:new re(e.segments,cT(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new re(e.segments,e.children),slicedSegments:t}}function cT(e,n,t,r){let o={};for(let i of t)if(Wc(e,n,i)&&!r[fn(i)]){let s=new re([],{});o[fn(i)]=s}return E(E({},r),o)}function uT(e,n){let t={};t[H]=n;for(let r of e)if(r.path===""&&fn(r)!==H){let o=new re([],{});t[fn(r)]=o}return t}function dT(e,n,t){return t.some(r=>Wc(e,n,r)&&fn(r)!==H)}function fT(e,n,t){return t.some(r=>Wc(e,n,r))}function Wc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function pT(e,n,t){return n.length===0&&!e.children[t]}var hT=class{};async function gT(e,n,t,r,o,i,s="emptyOnly",a){return new vT(e,n,t,r,o,s,i,a).recognize()}var mT=31,vT=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a,l){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new iT(this.urlSerializer,this.urlTree)}noMatchError(n){return new D(4002,`'${n.segmentGroup}'`)}async recognize(){let n=i_(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(n),o=new Ft(r,t),i=new Ls("",o),s=__(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}async match(n){let t=new uo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,n,H,t),rootSnapshot:t}}catch(r){if(r instanceof Xh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof lo?this.noMatchError(r):r}}async processSegmentGroup(n,t,r,o,i){if(r.segments.length===0&&r.hasChildren())return this.processChildren(n,t,r,i);let s=await this.processSegment(n,t,r,r.segments,o,!0,i);return s instanceof Ft?[s]:[]}async processChildren(n,t,r,o){let i=[];for(let l of Object.keys(r.children))l==="primary"?i.unshift(l):i.push(l);let s=[];for(let l of i){let c=r.children[l],u=kk(t,l),h=await this.processSegmentGroup(n,u,c,l,o);s.push(...h)}let a=j_(s);return yT(a),a}async processSegment(n,t,r,o,i,s,a){for(let l of t)try{return await this.processSegmentAgainstRoute(l._injector??n,t,l,r,o,i,s,a)}catch(c){if(c instanceof lo||A_(c))continue;throw c}if(pT(r,o,i))return new hT;throw new lo(r)}async processSegmentAgainstRoute(n,t,r,o,i,s,a,l){if(fn(r)!==s&&(s===H||!Wc(o,i,r)))throw new lo(o);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(n,o,r,i,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,l);throw new lo(o)}async expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:v}=V_(t,o,i);if(!l)throw new lo(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mT&&(this.allowRedirects=!1));let m=new uo(i,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,s_(o),fn(o),o.component??o._loadedComponent??null,o,a_(o)),_=Hc(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(_.params),m.data=Object.freeze(_.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let I=await this.applyRedirects.applyRedirectCommands(u,o.redirectTo,h,m,n),x=await this.applyRedirects.lineralizeSegments(o,I);return this.processSegment(n,r,t,x.concat(v),s,!1,a)}async matchSegmentAgainstRoute(n,t,r,o,i,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Mc(aT(t,r,o,n,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new lo(t);n=r._injector??n;let{routes:l}=await this.getChildConfig(n,r,o),c=r._loadedInjector??n,{parameters:u,consumedSegments:h,remainingSegments:v}=a,m=new uo(h,u,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,s_(r),fn(r),r.component??r._loadedComponent??null,r,a_(r)),_=Hc(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);let{segmentGroup:I,slicedSegments:x}=i_(t,h,v,l);if(x.length===0&&I.hasChildren()){let Qe=await this.processChildren(c,l,I,m);return new Ft(m,Qe)}if(l.length===0&&x.length===0)return new Ft(m,[]);let S=fn(r)===i,ue=await this.processSegment(c,l,I,x,S?H:i,!0,m);return new Ft(m,ue instanceof Ft?[ue]:[])}async getChildConfig(n,t,r){if(t.children)return{routes:t.children,injector:n};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Mc(tT(n,t,r,this.urlSerializer,this.abortSignal))){let i=await this.configLoader.loadChildren(n,t);return t._loadedRoutes=i.routes,t._loadedInjector=i.injector,i}throw oT(t)}return{routes:[],injector:n}}};function yT(e){e.sort((n,t)=>n.value.outlet===H?-1:t.value.outlet===H?1:n.value.outlet.localeCompare(t.value.outlet))}function bT(e){let n=e.value.routeConfig;return n&&n.path===""}function j_(e){let n=[],t=new Set;for(let r of e){if(!bT(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=j_(r.children);n.push(new Ft(r.value,o))}return n.filter(r=>!t.has(r))}function s_(e){return e.data||{}}function a_(e){return e.resolve||{}}var _T=new M("",{factory:()=>gT});function wT(e,n,t,r,o,i,s){let a=e.get(_T);return Ke(l=>L(l).pipe(ut(c=>a(e,n,t,r,c.extractedUrl,o,i,s)),X(({state:c,tree:u})=>B(E({},l),{targetSnapshot:c,urlAfterRedirects:u}))))}function ET(e,n){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return L(t);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let c of B_(l))s.add(c);let a=0;return be(s).pipe(rr(l=>i.has(l)?DT(l,r,e,n):(l.data=Hc(l,l.parent,e).resolve,L(void 0))),_e(()=>a++),Fa(1),Ke(l=>a===s.size?L(t):vt))})}function B_(e){let n=e.children.map(t=>B_(t)).flat();return[e,...n]}function DT(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!S_(o)&&(i[js]=o.title),Si(()=>(e.data=Hc(e,e.parent,t).resolve,CT(i,e,n,r).pipe(X(s=>(e._resolvedData=s,e.data=E(E({},e.data),s),null)))))}function CT(e,n,t,r){let o=zh(e);if(o.length===0)return L({});let i={};return be(o).pipe(Ke(s=>xT(e[s],n,t,r).pipe(Pn(),_e(a=>{if(a instanceof si)throw zc(new Kn,a);i[s]=a}))),Fa(1),X(()=>i),Se(s=>A_(s)?vt:Mo(s)))}function xT(e,n,t,r){let o=li(n)??r,i=ci(e,o),s=i.resolve?i.resolve(n,t):He(o,()=>i(n,t));return po(s)}function Uh(e){return ut(n=>{let t=e(n);return t?be(t).pipe(X(()=>n)):L(n)})}var ig=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===H);return r}getResolvedTitleForRoute(t){return t.data[js]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y($_),providedIn:"root"})}return e})(),$_=(()=>{class e extends ig{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(O(Xb))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sr=new M("",{factory:()=>({})}),ui=new M(""),Qc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(th);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await d_(He(t,()=>r.loadComponent())),s=await z_(H_(i));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=(async()=>{try{let i=await U_(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=i.routes,r._loadedInjector=i.injector,i}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function U_(e,n,t,r){let o=await d_(He(t,()=>e.loadChildren())),i=await z_(H_(o)),s;i instanceof Gl||Array.isArray(i)?s=i:s=await n.compileModuleAsync(i),r&&r(e);let a,l,c=!1;return Array.isArray(s)?(l=s,c=!0):(a=s.create(t).injector,l=a.get(ui,[],{optional:!0,self:!0}).flat()),{routes:l.map(og),injector:a}}function IT(e){return e&&typeof e=="object"&&"default"in e}function H_(e){return IT(e)?e.default:e}async function z_(e){return e}var Zc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y(ST),providedIn:"root"})}return e})(),ST=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sg=new M(""),ag=new M("");function G_(e,n,t){let r=e.get(ag),o=e.get(Le);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i,s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),MT(e)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=r;return l&&He(e,()=>l({transition:a,from:n,to:t})),s}function MT(e){return new Promise(n=>{us({read:()=>setTimeout(n)},{injector:e})})}var kT=()=>{},lg=new M(""),Yc=(()=>{class e{currentNavigation=Ne(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ne(null);events=new Re;transitionAbortWithErrorSubject=new Re;configLoader=y(Qc);environmentInjector=y(Me);destroyRef=y(Ht);urlSerializer=y(ho);rootContexts=y(go);location=y(Er);inputBindingEnabled=y($s,{optional:!0})!==null;titleStrategy=y(ig);options=y(Sr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(Zc);createViewTransition=y(sg,{optional:!0});navigationErrorHandler=y(lg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Pc(o)),r=o=>this.events.next(new Fc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Ve(()=>{this.transitions?.next(B(E({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Ye(null),this.transitions.pipe(bt(r=>r!==null),ut(r=>{let o=!1,i=new AbortController;return L(r).pipe(ut(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",pt.SupersededByNewNavigation),vt;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:a?B(E({},a),{previousNavigation:null}):null,abort:()=>i.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&c!=="reload")return this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.rawUrl),"",ni.IgnoredSameUrlNavigation)),s.resolve(!1),vt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return L(s).pipe(ut(u=>(this.events.next(new Ir(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?vt:Promise.resolve(u))),wT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,i.signal),_e(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(v=>(v.finalUrl=u.urlAfterRedirects,v));let h=new Os(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:v,restoredState:m,extras:_}=s,I=new Ir(u,this.urlSerializer.serialize(h),v,m);this.events.next(I);let x=x_(this.rootComponentType).snapshot;return this.currentTransition=r=B(E({},s),{targetSnapshot:x,urlAfterRedirects:h,extras:B(E({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(S=>(S.finalUrl=h,S)),L(r)}else return this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ni.IgnoredByUrlHandlingStrategy)),s.resolve(!1),vt}),_e(s=>{let a=new Nc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),X(s=>(this.currentTransition=r=B(E({},s),{guards:Fk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Wk(this.environmentInjector,s=>this.events.next(s)),_e(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw zc(this.urlSerializer,s.guardsResult);let a=new Ac(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",pt.GuardRejected),!1)),Uh(s=>{if(s.guards.canActivateChecks.length!==0)return L(s).pipe(_e(a=>{let l=new Rc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ut(a=>{let l=!1;return L(a).pipe(ET(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",pt.NoDataFromResolver)}}))}),_e(a=>{let l=new Oc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Uh(s=>{let a=c=>{let u=[];if(c.routeConfig?._loadedComponent)c.component=c.routeConfig?._loadedComponent;else if(c.routeConfig?.loadComponent){let h=li(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(h,c.routeConfig).then(v=>{c.component=v}))}for(let h of c.children)u.push(...a(h));return u},l=a(s.targetSnapshot.root);return l.length===0?L(s):be(Promise.all(l).then(()=>s))}),Uh(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?be(l).pipe(X(()=>r)):L(r)}),X(s=>{let a=Nk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=B(E({},s),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),r}),_e(()=>{this.events.next(new Ps)}),Pk(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),On(1),Ti(R_(i.signal).pipe(bt(()=>!o&&!r.targetRouterState),_e(()=>{this.cancelNavigationTransition(r,i.signal.reason+"",pt.Aborted)}))),_e({next:s=>{o=!0,this.currentNavigation.update(a=>(a.abort=kT,a)),this.lastSuccessfulNavigation.set(Ve(this.currentNavigation)),this.events.next(new Zt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Ti(this.transitionAbortWithErrorSubject.pipe(_e(s=>{throw s}))),ki(()=>{i.abort(),o||this.cancelNavigationTransition(r,"",pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Se(s=>{if(this.destroyed)return r.resolve(!1),vt;if(o=!0,N_(s))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Ok(s)?this.events.next(new ii(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ri(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=He(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof si){let{message:c,cancellationCode:u}=zc(this.urlSerializer,l);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new ii(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return vt}))}))}cancelNavigationTransition(t,r,o){let i=new Tn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ve(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function TT(e){return e!==ei}var q_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y(NT),providedIn:"root"})}return e})(),qc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},NT=(()=>{class e extends qc{static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cg=(()=>{class e{urlSerializer=y(ho);options=y(Sr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(Er);urlHandlingStrategy=y(Zc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=x_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>y(W_),providedIn:"root"})}return e})(),W_=(()=>{class e extends cg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ir?this.updateStateMemento():t instanceof Nn?this.commitTransition(r):t instanceof Os?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Ps?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tn&&t.code!==pt.SupersededByNewNavigation&&t.code!==pt.Redirect?this.restoreHistory(r):t instanceof ri?this.restoreHistory(r,!0):t instanceof Zt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,l=E(E({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",l)}else{let a=E(E({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Kc(e,n){e.events.pipe(bt(t=>t instanceof Zt||t instanceof Tn||t instanceof ri||t instanceof Nn),X(t=>t instanceof Zt||t instanceof Nn?0:(t instanceof Tn?t.code===pt.Redirect||t.code===pt.SupersededByNewNavigation:!1)?2:1),bt(t=>t!==2),On(1)).subscribe(()=>{n()})}var AT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},te=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(Wl);stateManager=y(cg);options=y(Sr,{optional:!0})||{};pendingTasks=y($n);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(Yc);urlSerializer=y(ho);location=y(Er);urlHandlingStrategy=y(Zc);injector=y(Me);_events=new Re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(q_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(ui,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y($s,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ve(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Tn&&r.code!==pt.Redirect&&r.code!==pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zt)this.navigated=!0;else if(r instanceof ii){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=E({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TT(o.source)},s);this.scheduleNavigation(a,ei,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Sk(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ei,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=E({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(zt)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ve(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(og),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let v=o?o.snapshot:this.routerState.snapshot.root;h=w_(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return E_(h,t,u,c??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let o=xr(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,ei,null,r)}navigate(t,r={skipLocationChange:!1}){return OT(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(bn(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=E({},AT):r===!1?o=E({},RT):o=r,xr(t))return e_(this.currentUrlTree,t,o);let i=this.parseUrl(t);return e_(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,v)=>{a=h,l=v});let u=this.pendingTasks.add();return Kc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OT(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new D(4008,!1)}var st=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ne(null);get href(){return Ve(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Re;applicationErrorHandler=y(zt);options=y(Sr,{optional:!0});constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.reactiveHref.set(y(new ec("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=o=>o==="merge"||o==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(o=>{o instanceof Zt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(R(te),R(oe),ss("tabindex"),R(an),R(ft),R(un))};static \u0275dir=le({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,o){r&1&&N("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&vr("href",o.reactiveHref(),Ip)("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wr],replaceUrl:[2,"replaceUrl","replaceUrl",wr],routerLink:"routerLink"},features:[Nt]})}return e})();var Hs=class{};var Q_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(bt(t=>t instanceof Zt),rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Wo(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return be(o).pipe(ko())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=be(this.loader.loadChildren(t,r)):o=L(null);let i=o.pipe(Ke(s=>s===null?L(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return be([i,s]).pipe(ko())}else return i})}static \u0275fac=function(r){return new(r||e)(O(te),O(Me),O(Hs),O(Qc))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Z_=new M(""),PT=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ei;restoredId=0;store={};constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nn&&t.code===ni.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof oi))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(o=>{setTimeout(o),typeof requestAnimationFrame<"u"&&requestAnimationFrame(o)}),this.zone.run(()=>{this.transitions.events.next(new oi(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Up()};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function FT(){return y(te).routerState.root}function zs(e,n){return{\u0275kind:e,\u0275providers:n}}function LT(){let e=y(Xe);return n=>{let t=e.get(ln);if(n!==t.components[0])return;let r=e.get(te),o=e.get(Y_);e.get(dg)===1&&r.initialNavigation(),e.get(X_,null,{optional:!0})?.setUpPreloading(),e.get(Z_,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var Y_=new M("",{factory:()=>new Re}),dg=new M("",{factory:()=>1});function K_(){let e=[{provide:Ol,useValue:!0},{provide:dg,useValue:0},Yl(()=>{let n=y(Xe);return n.get(fh,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(te),i=n.get(Y_);Kc(o,()=>{r(!0)}),n.get(Yc).afterPreactivation=()=>(r(!0),i.closed?L(void 0):i),o.initialNavigation()}))})];return zs(2,e)}function J_(){let e=[Yl(()=>{y(te).setUpLocationChangeListener()}),{provide:dg,useValue:2}];return zs(3,e)}var X_=new M("");function ew(e){return zs(0,[{provide:X_,useExisting:Q_},{provide:Hs,useExisting:e}])}function tw(){return zs(8,[ng,{provide:$s,useExisting:ng}])}function nw(e){Sn("NgRouterViewTransitions");let n=[{provide:sg,useValue:G_},{provide:ag,useValue:E({skipNextTransition:!!e?.skipInitialTransition},e)}];return zs(9,n)}var rw=[Er,{provide:ho,useClass:Kn},te,go,{provide:oe,useFactory:FT},Qc,[]],Ae=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[rw,[],{provide:ui,multi:!0,useValue:t},[],r?.errorHandler?{provide:lg,useValue:r.errorHandler}:[],{provide:Sr,useValue:r||{}},r?.useHash?jT():BT(),VT(),r?.preloadingStrategy?ew(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?$T(r):[],r?.bindToComponentInputs?tw().\u0275providers:[],r?.enableViewTransitions?nw().\u0275providers:[],UT()]}}static forChild(t){return{ngModule:e,providers:[{provide:ui,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({})}return e})();function VT(){return{provide:Z_,useFactory:()=>{let e=y(Fb),n=y(Ue),t=y(Sr),r=y(Yc),o=y(ho);return t.scrollOffset&&e.setOffset(t.scrollOffset),new PT(o,r,e,n,t)}}}function jT(){return{provide:un,useClass:bh}}function BT(){return{provide:un,useClass:ic}}function $T(e){return[e.initialNavigation==="disabled"?J_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?K_().\u0275providers:[]]}var ug=new M("");function UT(){return[{provide:ug,useFactory:LT},{provide:Kl,multi:!0,useExisting:ug}]}var Jc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-side-menu"]],standalone:!1,decls:11,vars:0,consts:[[1,"w-64","shrink-0","flex","flex-col","bg-white/10","dark:bg-[#111a22]","p-4","border-r","border-slate-200","dark:border-[#324d67]"],[1,"flex","flex-col","gap-4"],[1,"flex","items-center","gap-3","text-white","font-semibold","text-lg"],["href","/list-notebooks"],[1,"flex","flex-col","gap-2","mt-6"],["href","#",1,"flex","items-center","gap-3","px-3","py-2","rounded-lg","bg-primary/10","dark:bg-[#233648]"],[1,"material-symbols-outlined","text-primary","dark:text-white",2,"font-variation-settings","'FILL' 1"],[1,"text-primary","dark:text-white","text-sm","font-medium","leading-normal"]],template:function(t,r){t&1&&(d(0,"aside",0)(1,"div",1)(2,"div",2)(3,"a",3),p(4,"Discovery Notebooks"),f()(),d(5,"div",4)(6,"a",5)(7,"span",6),p(8,"dashboard"),f(),d(9,"p",7),p(10,"Dashboard"),f()()()()())},encapsulation:2})};var Xc=class e{title=Ne("discoveryPortal");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-root"]],standalone:!1,decls:3,vars:0,consts:[[1,"flex","h-screen"]],template:function(t,r){t&1&&(d(0,"div",0),Z(1,"app-side-menu")(2,"router-outlet"),f())},dependencies:[Bs,Jc],encapsulation:2})};var ow={production:!0,apiUrl:"/"};var eu=class e{config={baseUrl:ow.apiUrl,timeout:3e4};getConfig(){return E({},this.config)}getBaseUrl(){return this.config.baseUrl}setBaseUrl(n){this.config.baseUrl=n}getTimeout(){return this.config.timeout}setTimeout(n){this.config.timeout=n}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var at=class e{http=y(Fh);config=y(eu);get(n,t){let r=this.buildUrl(n);return this.http.get(r,t).pipe(Se(o=>this.handleError(o)))}post(n,t,r){let o=this.buildUrl(n);return this.http.post(o,t,r).pipe(Se(i=>this.handleError(i)))}put(n,t,r){let o=this.buildUrl(n);return this.http.put(o,t,r).pipe(Se(i=>this.handleError(i)))}patch(n,t,r){let o=this.buildUrl(n);return this.http.patch(o,t,r).pipe(Se(i=>this.handleError(i)))}delete(n,t){let r=this.buildUrl(n);return this.http.delete(r,t).pipe(Se(o=>this.handleError(o)))}buildUrl(n){let t=this.config.getBaseUrl(),r=n.startsWith("/")?n.substring(1):n;return t?`${t.endsWith("/")?t.slice(0,-1):t}/${r}`:`/${r}`}handleError(n){let t="An unknown error occurred",r;n.error instanceof ErrorEvent?t=`Client Error: ${n.error.message}`:n.error?this.isValidationErrorResponse(n.error)?(r=n.error,t=n.error.error):this.isErrorResponse(n.error)?t=n.error.error:typeof n.error=="string"?t=n.error:t=`Server Error: ${n.status} ${n.statusText}`:t=`Server Error: ${n.status} ${n.statusText}`;let o={message:t,status:n.status,statusText:n.statusText,validationErrors:r,originalError:n};return Mo(()=>o)}isErrorResponse(n){return typeof n=="object"&&n!==null&&"error"in n&&typeof n.error=="string"}isValidationErrorResponse(n){return typeof n=="object"&&n!==null&&"error"in n&&"validation_errors"in n&&Array.isArray(n.validation_errors)}toAppResult(n){return n.pipe(X(t=>({success:!0,data:t})),Se(t=>Mo(()=>({success:!1,error:t.message,validationErrors:t.validationErrors}))))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var qe=class e{httpClient=y(at);baseEndpoint="api/notebooks";createNotebook(n){return this.httpClient.post(this.baseEndpoint,n)}getNotebook(n){return this.httpClient.get(`${this.baseEndpoint}/${n}`)}listNotebooks(n){let t={};return n&&(n.tags&&n.tags.length>0&&(t.tags=n.tags.join(",")),n.sort_by&&(t.sort_by=n.sort_by),n.sort_order&&(t.sort_order=n.sort_order),n.limit!==void 0&&n.limit!==null&&(t.limit=n.limit),n.offset!==void 0&&(t.offset=n.offset)),this.httpClient.get(this.baseEndpoint,{params:t})}updateNotebook(n,t){return this.httpClient.put(`${this.baseEndpoint}/${n}`,t)}deleteNotebook(n,t=!1){return this.httpClient.delete(`${this.baseEndpoint}/${n}`,{params:{cascade:t}})}renameNotebook(n,t){return this.httpClient.patch(`${this.baseEndpoint}/${n}/rename`,t)}addTags(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/tags`,t)}removeTags(n,t){return this.httpClient.delete(`${this.baseEndpoint}/${n}/tags`,{params:t})}generateBlogPost(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/generate-blog-post`,t)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var xt=class e{httpClient=y(at);baseEndpoint="api/sources";importFileSource(n){return this.httpClient.post(`${this.baseEndpoint}/file`,n)}importUrlSource(n){return this.httpClient.post(`${this.baseEndpoint}/url`,n)}importTextSource(n){return this.httpClient.post(`${this.baseEndpoint}/text`,n)}getSource(n,t=!1){return this.httpClient.get(`${this.baseEndpoint}/${n}`,{params:{include_deleted:t}})}listSourcesByNotebook(n){let i=n,{notebook_id:t}=i,r=Vu(i,["notebook_id"]),o={};return Object.entries(r).forEach(([s,a])=>{a!=null&&(o[s]=a)}),this.httpClient.get(`${this.baseEndpoint}/notebook/${t}`,{params:o})}deleteSource(n,t){return this.httpClient.delete(`${this.baseEndpoint}/${n}`,{params:{notebook_id:t}})}renameSource(n,t){return this.httpClient.patch(`${this.baseEndpoint}/${n}/rename`,t)}restoreSource(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/restore`,{},{params:{notebook_id:t}})}extractContent(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/extract`,t)}getSourcePreview(n,t=500){return this.httpClient.get(`${this.baseEndpoint}/${n}/preview`,{params:{length:t}})}addSourcesBySearch(n){return this.httpClient.post(`${this.baseEndpoint}/search-and-add`,n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};function GT(e,n){if(e&1&&(d(0,"p",5),p(1),f()),e&2){let t=w();g(),q(t.message)}}var We=class e{message="Loading...";size="medium";overlay=!1;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-loading"]],inputs:{message:"message",size:"size",overlay:"overlay"},decls:8,vars:4,consts:[[1,"loading-container"],[1,"spinner-wrapper",3,"ngClass"],[1,"spinner"],[1,"spinner-ring"],["class","loading-message",4,"ngIf"],[1,"loading-message"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2),Z(3,"div",3)(4,"div",3)(5,"div",3)(6,"div",3),f(),P(7,GT,2,1,"p",4),f()()),t&2&&(Rt("overlay",r.overlay),g(),b("ngClass","spinner-"+r.size),g(6),b("ngIf",r.message))},dependencies:[ee,Zn,ye],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;min-height:200px}.loading-container.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:9999;min-height:100vh}.spinner-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.spinner[_ngcontent-%COMP%]{position:relative;display:inline-block}.spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;border-radius:50%;border:3px solid transparent;border-top-color:#007bff;animation:_ngcontent-%COMP%_spin 1.2s cubic-bezier(.5,0,.5,1) infinite}.spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s;border-top-color:#007bff}.spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s;border-top-color:#0056b3}.spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s;border-top-color:#004085}.spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(4){border-top-color:#036}.spinner-small[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px}.spinner-small[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{width:40px;height:40px;border-width:2px}.spinner-small[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{font-size:.875rem}.spinner-medium[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:64px;height:64px}.spinner-medium[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{width:64px;height:64px;border-width:3px}.spinner-medium[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{font-size:1rem}.spinner-large[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:96px;height:96px}.spinner-large[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{width:96px;height:96px;border-width:4px}.spinner-large[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{font-size:1.125rem}.loading-message[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500;text-align:center}.overlay[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{color:#fff}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var qT=e=>["/edit-notebook",e,"add-text-source"],WT=e=>["/edit-notebook",e,"add-url-source"],QT=e=>["/edit-notebook",e,"add-pdf-source"],ZT=e=>["/edit-notebook",e,"sync"],YT=e=>["/edit-notebook",e,"new-blog-post"],KT=e=>["/edit-notebook",e,"new-mindmap"],JT=e=>["/edit-notebook",e,"chat"],XT=e=>["/edit-notebook",e,"outputs"];function e1(e,n){if(e&1){let t=K();d(0,"tr",38)(1,"td",39)(2,"span",40),p(3,"description"),f(),d(4,"a",41),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.openSource(o))}),p(5),f()(),d(6,"td",42)(7,"span",43),p(8),f()(),d(9,"td",44)(10,"div",45)(11,"button",46),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.deleteSource(o))}),d(12,"span",47),p(13,"delete"),f()()()()()}if(e&2){let t=n.$implicit;g(5),q(t.name),g(3),q(t.source_type)}}function t1(e,n){e&1&&(d(0,"tr")(1,"td",48),p(2,"No sources found."),f()())}function n1(e,n){if(e&1){let t=K();d(0,"div",2)(1,"main",3)(2,"div",4)(3,"div",5)(4,"a",6),p(5," All Notebooks "),f(),d(6,"span",7),p(7,"/"),f(),d(8,"span",8),p(9),f()(),d(10,"header",9)(11,"div",10)(12,"h1",11),p(13),f(),d(14,"p",12),p(15),f()()(),d(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"h3",17),p(21," Sources"),f()(),d(22,"div",18)(23,"table",19)(24,"thead",20)(25,"tr")(26,"th",21),p(27,"Source Name"),f(),d(28,"th",21),p(29,"Type"),f(),d(30,"th",22),p(31,"Actions"),f()()(),d(32,"tbody",23),P(33,e1,14,2,"tr",24)(34,t1,3,0,"tr",25),f()()()()(),d(35,"div",26)(36,"div",27)(37,"div",28)(38,"button",29)(39,"span",30),p(40,"description"),f(),d(41,"span",31),p(42,"Add Source from Text"),f()(),d(43,"button",29)(44,"span",30),p(45,"link"),f(),d(46,"span",31),p(47,"Add Source from URL"),f()(),d(48,"button",29)(49,"span",30),p(50,"picture_as_pdf"),f(),d(51,"span",31),p(52,"Add Source from PDF"),f()(),d(53,"button",32)(54,"span",30),p(55,"sync"),f(),d(56,"span",31),p(57,"Sync with Vector Database"),f()(),d(58,"button",33)(59,"span",30),p(60,"article"),f(),d(61,"span",31),p(62,"New Blog Post"),f()(),d(63,"button",34)(64,"span",30),p(65,"account_tree"),f(),d(66,"span",31),p(67,"New Mind Map"),f()(),d(68,"button",35)(69,"span",30),p(70,"chat"),f(),d(71,"span",31),p(72,"Chat with Notebook"),f()(),d(73,"button",36)(74,"span",30),p(75,"list_alt"),f(),d(76,"span",31),p(77,"View Outputs"),f()(),d(78,"button",37),N("click",function(){k(t);let o=w();return T(o.deleteNotebook())}),d(79,"span",30),p(80,"delete"),f(),d(81,"span",31),p(82,"Delete Notebook"),f()()()()()()()()()}if(e&2){let t=w();g(9),q(t.notebook.name),g(4),A(" ",t.notebook.name),g(2),q(t.notebook.description),g(18),b("ngForOf",t.sources),g(),b("ngIf",t.sources.length===0),g(4),b("routerLink",ve(13,qT,t.notebook.id)),g(5),b("routerLink",ve(15,WT,t.notebook.id)),g(5),b("routerLink",ve(17,QT,t.notebook.id)),g(5),b("routerLink",ve(19,ZT,t.notebook.id)),g(5),b("routerLink",ve(21,YT,t.notebook.id)),g(5),b("routerLink",ve(23,KT,t.notebook.id)),g(5),b("routerLink",ve(25,JT,t.notebook.id)),g(5),b("routerLink",ve(27,XT,t.notebook.id))}}function r1(e,n){e&1&&(d(0,"div",49),Z(1,"app-loading",50),f())}var tu=class e{route=y(oe);router=y(te);notebookService=y(qe);sourceService=y(xt);cdr=y(he);notebook=null;sources=[];notebookId=null;isLoading=!0;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId&&this.loadData(this.notebookId)}openSource(n){n.source_type==="url"?n.url&&window.open(n.url,"_blank"):alert("fix me - implement opening non-url sources")}deleteSource(n){confirm(`Are you sure you want to delete source "${n.name}"?`)&&this.notebookId&&n.id&&this.sourceService.deleteSource(n.id,this.notebookId).subscribe({next:()=>{this.loadData(this.notebookId)},error:t=>{console.error("Error deleting source",t),alert("Failed to delete source")}})}deleteNotebook(){this.notebook&&confirm(`Are you sure you want to delete notebook "${this.notebook.name}"?`)&&this.notebookId&&this.notebookService.deleteNotebook(this.notebookId,!0).subscribe({next:()=>{this.router.navigate(["/list-notebooks"])},error:n=>{console.error("Error deleting notebook",n),alert("Failed to delete notebook")}})}loadData(n){this.isLoading=!0,Mi({notebook:this.notebookService.getNotebook(n),sources:this.sourceService.listSourcesByNotebook({notebook_id:n})}).subscribe({next:t=>{this.notebook=t.notebook,this.sources=t.sources.sources,this.isLoading=!1,this.cdr.detectChanges()},error:t=>{console.error("Error loading data",t),this.isLoading=!1,this.cdr.detectChanges()}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-edit-notebook"]],decls:2,vars:2,consts:[["class","flex h-screen",4,"ngIf"],["class","flex h-screen items-center justify-center",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"flex","flex-wrap","items-start","justify-between","gap-4","pb-8"],[1,"flex","min-w-72","flex-col","gap-2"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"lg:col-span-2"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]"],[1,"p-4"],[1,"text-slate-900","dark:text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"border-b","border-slate-200","bg-slate-50","text-xs","uppercase","text-slate-600","dark:border-slate-800","dark:bg-slate-900/50","dark:text-slate-400"],["scope","col",1,"px-6","py-3","font-medium"],["scope","col",1,"px-6","py-3","font-medium","text-right"],[1,"text-slate-700","dark:text-slate-300"],["class","border-b border-slate-200 bg-white hover:bg-slate-50 dark:border-slate-800 dark:bg-[#111a22] dark:hover:bg-slate-900/50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-col","gap-6","lg:col-span-1"],[1,"rounded-xl","border","border-slate-200","bg-white","p-4","dark:border-slate-800","dark:bg-[#111a22]"],[1,"flex","flex-col","gap-4"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90",3,"routerLink"],[1,"material-symbols-outlined"],[1,"truncate"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-indigo-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-indigo-700",3,"routerLink"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-green-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-green-700",3,"routerLink"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-blue-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-blue-700",3,"routerLink"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-teal-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-teal-700",3,"routerLink"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-purple-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-purple-700",3,"routerLink"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-red-500","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-red-600",3,"click"],[1,"border-b","border-slate-200","bg-white","hover:bg-slate-50","dark:border-slate-800","dark:bg-[#111a22]","dark:hover:bg-slate-900/50"],[1,"flex","items-center","gap-3","px-6","py-4"],[1,"material-symbols-outlined","text-lg","text-slate-500"],[1,"font-medium","text-slate-800","hover:text-primary","dark:text-white",3,"click"],[1,"px-6","py-4"],[1,"rounded-md","bg-slate-100","px-2","py-1","text-xs","font-medium","text-slate-700","dark:bg-slate-800","dark:text-slate-300"],[1,"px-6","py-4","text-right"],[1,"flex","items-center","justify-end","gap-2"],[1,"flex","h-8","w-8","items-center","justify-center","rounded-lg","text-slate-500","hover:bg-red-100","hover:text-red-600","dark:hover:bg-red-900/30","dark:hover:text-red-400",3,"click"],[1,"material-symbols-outlined","text-xl"],["colspan","3",1,"px-6","py-4","text-center","text-slate-500"],[1,"flex","h-screen","items-center","justify-center"],["size","large","message","Loading..."]],template:function(t,r){t&1&&P(0,n1,83,29,"div",0)(1,r1,2,0,"div",1),t&2&&(b("ngIf",!r.isLoading&&r.notebook),g(),b("ngIf",r.isLoading))},dependencies:[ee,Qt,ye,Ae,st,We],encapsulation:2})};var o1=(e,n)=>n.id;function i1(e,n){e&1&&Z(0,"app-loading",9)}function s1(e,n){if(e&1){let t=K();d(0,"tr",16),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.onEditRecord(o))}),d(1,"td",17),p(2),f(),d(3,"td",18),p(4),f(),d(5,"td",19),p(6),ro(7,"date"),f()()}if(e&2){let t=n.$implicit;g(2),A(" ",t.name),g(2),A(" ",t.source_count," Sources"),g(2),A(" ",oo(7,3,t.updated_at,"mediumDate"))}}function a1(e,n){if(e&1&&(d(0,"table",10)(1,"thead")(2,"tr",11)(3,"th",12),p(4," Name"),f(),d(5,"th",13),p(6," Sources"),f(),d(7,"th",14),p(8," Last Modified"),f()()(),d(9,"tbody"),eo(10,s1,8,6,"tr",15,o1),f()()),e&2){let t=w();g(10),to(t.records)}}var mo=class e{constructor(n,t,r,o){this.dataService=n;this.router=t;this.route=r;this.cdr=o}records=[];screenLoaded=!1;async ngOnInit(){let n={};n.sort_by="name",n.sort_order="asc";try{let t=await Ii(this.dataService.listNotebooks(n));console.log(t),t?(this.records=t.notebooks,this.screenLoaded=!0,this.cdr.detectChanges()):(alert("ngOnInit / get notebooks list failed"),console.log(t))}catch(t){console.error("Error loading notebooks",t),alert("Error loading notebooks")}}onEditRecord(n){this.router.navigate(["/edit-notebook/"+n.id])}onNewRecord(){this.router.navigate(["/new-notebook"])}static \u0275fac=function(t){return new(t||e)(R(qe),R(te),R(oe),R(he))};static \u0275cmp=W({type:e,selectors:[["app-notebook-list"]],decls:14,vars:1,consts:[[1,"flex-1","overflow-y-auto"],[1,"px-6","py-8","md:px-10"],[1,"flex","flex-wrap","justify-between","items-center","gap-4"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]","min-w-72"],[1,"flex","min-w-[84px]","max-w-[480px]","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","transition-colors",3,"click"],[1,"material-symbols-outlined","mr-2"],[1,"truncate"],[1,"mt-6","@container"],[1,"flex","overflow-hidden","rounded-lg","border","border-slate-200","dark:border-[#324d67]","bg-white","dark:bg-[#111a22]"],["size","large","message","Loading..."],[1,"flex-1"],[1,"bg-slate-50","dark:bg-[#192633]"],[1,"table-column-name","px-4","py-3","text-left","text-slate-600","dark:text-white","w-[40%]","text-sm","font-medium","leading-normal"],[1,"table-column-sources","px-4","py-3","text-left","text-slate-600","dark:text-white","w-[25%]","text-sm","font-medium","leading-normal"],[1,"table-column-modified","px-4","py-3","text-left","text-slate-600","dark:text-white","w-[25%]","text-sm","font-medium","leading-normal"],[1,"cursor-pointer","border-t","border-t-slate-200","dark:border-t-[#324d67]","hover:bg-slate-50","dark:hover:bg-white/5","transition-colors"],[1,"cursor-pointer","border-t","border-t-slate-200","dark:border-t-[#324d67]","hover:bg-slate-50","dark:hover:bg-white/5","transition-colors",3,"click"],[1,"table-column-name","h-[72px]","px-4","py-2","text-slate-800","dark:text-white","text-sm","font-normal","leading-normal"],[1,"table-column-sources","h-[72px]","px-4","py-2","text-slate-500","dark:text-[#92adc9]","text-sm","font-normal","leading-normal"],[1,"table-column-modified","h-[72px]","px-4","py-2","text-slate-500","dark:text-[#92adc9]","text-sm","font-normal","leading-normal"]],template:function(t,r){t&1&&(d(0,"main",0)(1,"div",1)(2,"div",2)(3,"p",3),p(4," Notebooks"),f(),d(5,"button",4),N("click",function(){return r.onNewRecord()}),d(6,"span",5),p(7,"add_circle"),f(),d(8,"span",6),p(9," Create New Notebook "),f()()(),d(10,"div",7)(11,"div",8),qn(12,i1,1,0,"app-loading",9)(13,a1,12,0,"table",10),f()()()()),t&2&&(g(12),Wn(r.screenLoaded?13:12))},dependencies:[ee,We,Es],encapsulation:2})};var hw=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(R(an),R(ft))};static \u0275dir=le({type:e})}return e})(),fu=(()=>{class e extends hw{static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,features:[ze]})}return e})(),mi=new M("");var l1={provide:mi,useExisting:rt(()=>lt),multi:!0};function c1(){let e=Pt()?Pt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var u1=new M(""),lt=(()=>{class e extends hw{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!c1())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(R(an),R(ft),R(u1,8))};static \u0275dir=le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&N("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Ot([l1]),ze]})}return e})();function gg(e){return e==null||mg(e)===0}function mg(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var yo=new M(""),pu=new M(""),d1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pi=class{static min(n){return gw(n)}static max(n){return mw(n)}static required(n){return vw(n)}static requiredTrue(n){return f1(n)}static email(n){return p1(n)}static minLength(n){return h1(n)}static maxLength(n){return g1(n)}static pattern(n){return m1(n)}static nullValidator(n){return ru()}static compose(n){return Dw(n)}static composeAsync(n){return Cw(n)}};function gw(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function mw(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function vw(e){return gg(e.value)?{required:!0}:null}function f1(e){return e.value===!0?null:{required:!0}}function p1(e){return gg(e.value)||d1.test(e.value)?null:{email:!0}}function h1(e){return n=>{let t=n.value?.length??mg(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function g1(e){return n=>{let t=n.value?.length??mg(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function m1(e){if(!e)return ru;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(gg(r.value))return null;let o=r.value;return n.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function ru(e){return null}function yw(e){return e!=null}function bw(e){return mr(e)?be(e):e}function _w(e){let n={};return e.forEach(t=>{n=t!=null?E(E({},n),t):n}),Object.keys(n).length===0?null:n}function ww(e,n){return n.map(t=>t(e))}function v1(e){return!e.validate}function Ew(e){return e.map(n=>v1(n)?n:t=>n.validate(t))}function Dw(e){if(!e)return null;let n=e.filter(yw);return n.length==0?null:function(t){return _w(ww(t,n))}}function vg(e){return e!=null?Dw(Ew(e)):null}function Cw(e){if(!e)return null;let n=e.filter(yw);return n.length==0?null:function(t){let r=ww(t,n).map(bw);return Mi(r).pipe(X(_w))}}function yg(e){return e!=null?Cw(Ew(e)):null}function iw(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function xw(e){return e._rawValidators}function Iw(e){return e._rawAsyncValidators}function fg(e){return e?Array.isArray(e)?e:[e]:[]}function ou(e,n){return Array.isArray(e)?e.includes(n):e===n}function sw(e,n){let t=fg(n);return fg(e).forEach(o=>{ou(t,o)||t.push(o)}),t}function aw(e,n){return fg(n).filter(t=>!ou(e,t))}var iu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=vg(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=yg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Xn=class extends iu{name;get formDirective(){return null}get path(){return null}},vo=class extends iu{_parent=null;name=null;valueAccessor=null},su=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var It=(()=>{class e extends su{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(R(vo,2))};static \u0275dir=le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Rt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[ze]})}return e})(),Yt=(()=>{class e extends su{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(R(Xn,10))};static \u0275dir=le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Rt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[ze]})}return e})();var Gs="VALID",nu="INVALID",di="PENDING",qs="DISABLED",Mr=class{},au=class extends Mr{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Qs=class extends Mr{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Zs=class extends Mr{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},fi=class extends Mr{status;source;constructor(n,t){super(),this.status=n,this.source=t}},lu=class extends Mr{source;constructor(n){super(),this.source=n}},Ks=class extends Mr{source;constructor(n){super(),this.source=n}};function bg(e){return(hu(e)?e.validators:e)||null}function y1(e){return Array.isArray(e)?vg(e):e||null}function _g(e,n){return(hu(n)?n.asyncValidators:e)||null}function b1(e){return Array.isArray(e)?yg(e):e||null}function hu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Sw(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")}function Mw(e,n,t){e._forEachChild((r,o)=>{if(t[o]===void 0)throw new D(1002,"")})}var hi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Ve(this.statusReactive)}set status(n){Ve(()=>this.statusReactive.set(n))}_status=io(()=>this.statusReactive());statusReactive=Ne(void 0);get valid(){return this.status===Gs}get invalid(){return this.status===nu}get pending(){return this.status==di}get disabled(){return this.status===qs}get enabled(){return this.status!==qs}errors;get pristine(){return Ve(this.pristineReactive)}set pristine(n){Ve(()=>this.pristineReactive.set(n))}_pristine=io(()=>this.pristineReactive());pristineReactive=Ne(!0);get dirty(){return!this.pristine}get touched(){return Ve(this.touchedReactive)}set touched(n){Ve(()=>this.touchedReactive.set(n))}_touched=io(()=>this.touchedReactive());touchedReactive=Ne(!1);get untouched(){return!this.touched}_events=new Re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(sw(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(sw(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(aw(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(aw(n,this._rawAsyncValidators))}hasValidator(n){return ou(this._rawValidators,n)}hasAsyncValidator(n){return ou(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(B(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Zs(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new Zs(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(B(E({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Qs(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Qs(!0,r))}markAsPending(n={}){this.status=di;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new fi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(B(E({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=qs,this.errors=null,this._forEachChild(o=>{o.disable(B(E({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new au(this.value,r)),this._events.next(new fi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(B(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Gs,this._forEachChild(r=>{r.enable(B(E({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(B(E({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gs||this.status===di)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new au(this.value,t)),this._events.next(new fi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(B(E({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qs:Gs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=di,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=bw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new fi(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?qs:this.errors?nu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di)?di:this._anyControlsHaveStatus(nu)?nu:Gs}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new Qs(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zs(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){hu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=y1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=b1(this._rawAsyncValidators)}},gi=class extends hi{constructor(n,t,r){super(bg(t),_g(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){Mw(this,!0,n),Object.keys(n).forEach(r=>{Sw(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,o)=>{r.reset(n?n[o]:null,B(E({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ks(this))}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var pg=class extends gi{};var Js=new M("",{factory:()=>gu}),gu="always";function kw(e,n){return[...n.path,e]}function cu(e,n,t=gu){wg(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),w1(e,n),D1(e,n),E1(e,n),_1(e,n)}function lw(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),du(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function uu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _1(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function wg(e,n){let t=xw(e);n.validator!==null?e.setValidators(iw(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=Iw(e);n.asyncValidator!==null?e.setAsyncValidators(iw(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let o=()=>e.updateValueAndValidity();uu(n._rawValidators,o),uu(n._rawAsyncValidators,o)}function du(e,n){let t=!1;if(e!==null){if(n.validator!==null){let o=xw(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.validator);i.length!==o.length&&(t=!0,e.setValidators(i))}}if(n.asyncValidator!==null){let o=Iw(e);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(t=!0,e.setAsyncValidators(i))}}}let r=()=>{};return uu(n._rawValidators,r),uu(n._rawAsyncValidators,r),t}function w1(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&Tw(e,n)})}function E1(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&Tw(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function Tw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function D1(e,n){let t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Nw(e,n){e==null,wg(e,n)}function C1(e,n){return du(e,n)}function Aw(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function x1(e){return Object.getPrototypeOf(e.constructor)===fu}function Rw(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ow(e,n){if(!n)return null;Array.isArray(n);let t,r,o;return n.forEach(i=>{i.constructor===lt?t=i:x1(i)?r=i:o=i}),o||r||t||null}function I1(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var S1={provide:Xn,useExisting:rt(()=>hn)},Ws=Promise.resolve(),hn=(()=>{class e extends Xn{callSetDisabledState;get submitted(){return Ve(this.submittedReactive)}_submitted=io(()=>this.submittedReactive());submittedReactive=Ne(!1);_directives=new Set;form;ngSubmit=new De;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new gi({},vg(t),yg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ws.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ws.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ws.then(()=>{let r=this._findContainer(t.path),o=new gi({});Nw(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ws.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ws.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Rw(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new lu(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||e)(R(yo,10),R(pu,10),R(Js,8))};static \u0275dir=le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&N("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ot([S1]),ze]})}return e})();function cw(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function uw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Ys=class extends hi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(bg(t),_g(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(uw(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Ks(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){cw(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){cw(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){uw(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var M1=e=>e instanceof Ys;var k1={provide:vo,useExisting:rt(()=>ht)},dw=Promise.resolve(),ht=(()=>{class e extends vo{_changeDetectorRef;callSetDisabledState;control=new Ys;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new De;constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ow(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Aw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&wr(r);dw.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kw(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(R(Xn,9),R(yo,10),R(pu,10),R(mi,10),R(he,8),R(Js,8))};static \u0275dir=le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ot([k1]),ze,Nt]})}return e})();var Kt=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),T1={provide:mi,useExisting:rt(()=>Eg),multi:!0},Eg=(()=>{class e extends fu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&N("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ot([T1]),ze]})}return e})();var hg=class extends hi{constructor(n,t,r){super(bg(t),_g(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){Array.isArray(n)?n.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let o=this._adjustIndex(n);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){Mw(this,!1,n),n.forEach((r,o)=>{Sw(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,o)=>{r.reset(n[o],B(E({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ks(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};var N1=(()=>{class e extends Xn{callSetDisabledState;get submitted(){return Ve(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=io(()=>this._submittedReactive());_submittedReactive=Ne(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(du(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return cu(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){lw(t.control||null,t,!1),I1(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,Rw(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new lu(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(lw(r||null,t),M1(o)&&(cu(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Nw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&C1(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wg(this.form,this),this._oldForm&&du(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(R(yo,10),R(pu,10),R(Js,8))};static \u0275dir=le({type:e,features:[ze,Nt]})}return e})();var Pw=new M("");var A1={provide:vo,useExisting:rt(()=>Dg)},Dg=(()=>{class e extends vo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new De;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ow(this,i)}ngOnChanges(t){this._added||this._setUpControl(),Aw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(R(Xn,13),R(yo,10),R(pu,10),R(mi,10),R(Pw,8))};static \u0275dir=le({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ot([A1]),ze,Nt]})}return e})();var R1={provide:Xn,useExisting:rt(()=>Cg)},Cg=(()=>{class e extends N1{form=null;ngSubmit=new De;get control(){return this.form}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&N("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ot([R1]),ze]})}return e})(),O1={provide:mi,useExisting:rt(()=>mu),multi:!0};function Fw(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function P1(e){return e.split(":")[0]}var mu=(()=>{class e extends fu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=y(ln).injector;destroyRef=y(Ht);cdr=y(he);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,us({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),o=Fw(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=P1(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&N("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ot([O1]),ze]})}return e})(),Lw=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Fw(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||e)(R(ft),R(an),R(mu,9))};static \u0275dir=le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),F1={provide:mi,useExisting:rt(()=>Vw),multi:!0};function fw(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function L1(e){return e.split(":")[0]}var Vw=(()=>{class e extends fu{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);o.push(c)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);o.push(c)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=L1(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&N("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ot([F1]),ze]})}return e})(),jw=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(fw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(fw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(R(ft),R(an),R(Vw,9))};static \u0275dir=le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function Bw(e){return typeof e=="number"?e:parseFloat(e)}var xg=(()=>{class e{_validator=ru;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ru,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=le({type:e,features:[Nt]})}return e})(),V1={provide:yo,useExisting:rt(()=>Ig),multi:!0},Ig=(()=>{class e extends xg{max;inputName="max";normalizeInput=t=>Bw(t);createValidator=t=>mw(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&vr("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Ot([V1]),ze]})}return e})(),j1={provide:yo,useExisting:rt(()=>Sg),multi:!0},Sg=(()=>{class e extends xg{min;inputName="min";normalizeInput=t=>Bw(t);createValidator=t=>gw(t);static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&vr("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Ot([j1]),ze]})}return e})(),B1={provide:yo,useExisting:rt(()=>er),multi:!0};var er=(()=>{class e extends xg{required;inputName="required";normalizeInput=wr;createValidator=t=>vw;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(e)))(o||e)}})();static \u0275dir=le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&vr("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ot([B1]),ze]})}return e})();var $w=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({})}return e})();function pw(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Uw=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),i={};return pw(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new gi(o,i)}record(t,r=null){let o=this._reduceControls(t);return new pg(o,r)}control(t,r,o){let i={};return this.useNonNullable?(pw(r)?i=r:(i.validators=r,i.asyncValidators=o),new Ys(t,B(E({},i),{nonNullable:!0}))):new Ys(t,r,o)}array(t,r,o){let i=t.map(s=>this._createControl(s));return new hg(i,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof Ys)return t;if(t instanceof hi)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(r,o,i)}else return this.control(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var St=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Js,useValue:t.callSetDisabledState??gu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({imports:[$w]})}return e})(),Hw=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Pw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Js,useValue:t.callSetDisabledState??gu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ot({type:e});static \u0275inj=et({imports:[$w]})}return e})();var $1=()=>({standalone:!0});function U1(e,n){if(e&1&&(d(0,"div",19),p(1),f()),e&2){let t=w();g(),A(" ",t.errorMessage," ")}}function H1(e,n){e&1&&(d(0,"span"),p(1,"Name is required."),f())}function z1(e,n){e&1&&(d(0,"span"),p(1,"Name must be at least 1 character."),f())}function G1(e,n){e&1&&(d(0,"span"),p(1,"Name cannot exceed 255 characters."),f())}function q1(e,n){if(e&1&&(d(0,"div",20),P(1,H1,2,0,"span",21)(2,z1,2,0,"span",21)(3,G1,2,0,"span",21),f()),e&2){let t=w();g(),b("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.required),g(),b("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.minlength),g(),b("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.maxlength)}}function W1(e,n){if(e&1){let t=K();d(0,"span",24),p(1),d(2,"button",25),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.removeTag(o))}),p(3," \xD7 "),f()()}if(e&2){let t=n.$implicit;g(),A(" ",t," ")}}function Q1(e,n){if(e&1&&(d(0,"div",22),P(1,W1,4,1,"span",23),f()),e&2){let t=w();g(),b("ngForOf",t.tags)}}var vu=class e{fb=y(Uw);router=y(te);notebookApiService=y(qe);notebookForm;isSubmitting=!1;errorMessage="";tagInput="";constructor(){this.notebookForm=this.fb.group({name:["",[pi.required,pi.minLength(1),pi.maxLength(255)]],description:[""],tags:[[]]})}get name(){return this.notebookForm.get("name")}get description(){return this.notebookForm.get("description")}get tags(){return this.notebookForm.get("tags")?.value}addTag(){let n=this.tagInput.trim();if(n&&!this.tags.includes(n)){let t=this.tags;this.notebookForm.patchValue({tags:[...t,n]}),this.tagInput=""}}removeTag(n){let t=this.tags;this.notebookForm.patchValue({tags:t.filter(r=>r!==n)})}async onSave(){if(this.errorMessage="",this.notebookForm.invalid){this.notebookForm.markAllAsTouched(),this.errorMessage="Please fill out all required fields correctly.";return}this.isSubmitting=!0;try{let n=this.notebookForm.value,t={name:n.name,description:n.description||null,tags:n.tags.length>0?n.tags:null},r=await Ii(this.notebookApiService.createNotebook(t));r&&r.id?this.router.navigate(["/list-notebooks"]):(this.errorMessage="Failed to create notebook. Please try again.",this.isSubmitting=!1)}catch(n){console.error("Error creating notebook:",n),this.errorMessage=n?.error?.detail||"An error occurred while creating the notebook. Please try again.",this.isSubmitting=!1}}onCancel(){this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-new-notebook"]],decls:30,vars:12,consts:[[1,"new-notebook-container"],[1,"header"],[1,"notebook-form",3,"ngSubmit","formGroup"],["class","error-message",4,"ngIf"],[1,"form-group"],["for","name"],[1,"required"],["type","text","id","name","formControlName","name","placeholder","Enter notebook name",1,"form-control"],["class","validation-error",4,"ngIf"],["for","description"],["id","description","formControlName","description","rows","4","placeholder","Enter notebook description (optional)",1,"form-control"],["for","tags"],[1,"tag-input-container"],["type","text","id","tagInput","placeholder","Enter a tag and press Add",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","ngModelOptions"],["type","button",1,"btn","btn-secondary",3,"click"],["class","tags-list",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-cancel",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-message"],[1,"validation-error"],[4,"ngIf"],[1,"tags-list"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],["type","button","aria-label","Remove tag",1,"tag-remove",3,"click"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1)(2,"h2"),p(3,"Create New Notebook"),f()(),d(4,"form",2),N("ngSubmit",function(){return r.onSave()}),P(5,U1,2,1,"div",3),d(6,"div",4)(7,"label",5),p(8,"Name "),d(9,"span",6),p(10,"*"),f()(),Z(11,"input",7),P(12,q1,4,3,"div",8),f(),d(13,"div",4)(14,"label",9),p(15,"Description"),f(),Z(16,"textarea",10),f(),d(17,"div",4)(18,"label",11),p(19,"Tags"),f(),d(20,"div",12)(21,"input",13),Ee("ngModelChange",function(i){return Ie(r.tagInput,i)||(r.tagInput=i),i}),N("keyup.enter",function(){return r.addTag()}),f(),d(22,"button",14),N("click",function(){return r.addTag()}),p(23,"Add Tag"),f()(),P(24,Q1,2,1,"div",15),f(),d(25,"div",16)(26,"button",17),N("click",function(){return r.onCancel()}),p(27," Cancel "),f(),d(28,"button",18),p(29),f()()()()),t&2&&(g(4),b("formGroup",r.notebookForm),g(),b("ngIf",r.errorMessage),g(6),Rt("invalid",(r.name==null?null:r.name.invalid)&&(r.name==null?null:r.name.touched)),g(),b("ngIf",(r.name==null?null:r.name.invalid)&&(r.name==null?null:r.name.touched)),g(9),we("ngModel",r.tagInput),b("ngModelOptions",Xp(11,$1)),g(3),b("ngIf",r.tags.length>0),g(2),b("disabled",r.isSubmitting),g(2),b("disabled",r.isSubmitting||r.notebookForm.invalid),g(),A(" ",r.isSubmitting?"Saving...":"Save"," "))},dependencies:[ee,Qt,ye,Hw,Kt,lt,It,Yt,Cg,Dg,St,ht],styles:[".new-notebook-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.header[_ngcontent-%COMP%]{margin-bottom:2rem;border-bottom:2px solid #e0e0e0;padding-bottom:1rem}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1.75rem}.notebook-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.error-message[_ngcontent-%COMP%]{padding:1rem;background-color:#fee;border:1px solid #fcc;border-radius:4px;color:#c33;font-size:.9rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:.95rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#d32f2f;margin-left:.25rem}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f31a}.form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]{border-color:#d32f2f}.form-group[_ngcontent-%COMP%]   .form-control.invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #d32f2f1a}.form-group[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px;font-family:inherit}.validation-error[_ngcontent-%COMP%]{color:#d32f2f;font-size:.85rem;margin-top:-.25rem}.tag-input-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tag-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.tag-input-container[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{white-space:nowrap}.tags-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background-color:#e3f2fd;color:#1976d2;border-radius:20px;font-size:.9rem}.tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]{background:none;border:none;color:#1976d2;font-size:1.5rem;line-height:1;cursor:pointer;padding:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center;transition:color .2s}.tag[_ngcontent-%COMP%]   .tag-remove[_ngcontent-%COMP%]:hover{color:#0d47a1}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem;padding-top:1.5rem;border-top:1px solid #e0e0e0}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 2px 4px #0003}.btn-primary[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-primary[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#1976d2}.btn-cancel[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666}.btn-cancel[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#e0e0e0}.btn-secondary[_ngcontent-%COMP%]{background-color:#757575;color:#fff}.btn-secondary[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#616161}"]})};var Z1=e=>["/edit-notebook",e];function Y1(e,n){if(e&1){let t=K();d(0,"div",1)(1,"main",2)(2,"div",3)(3,"div",4)(4,"a",5),p(5," All Notebooks "),f(),d(6,"span",6),p(7,"/"),f(),d(8,"a",7),p(9," Notebook "),f(),d(10,"span",6),p(11,"/"),f(),d(12,"span",8),p(13,"Add Source"),f()(),d(14,"header",9)(15,"h1",10),p(16," Add Source "),f(),d(17,"p",11),p(18," Add a new text source to your notebook "),f()(),d(19,"div",12)(20,"form",13),N("ngSubmit",function(){k(t);let o=w();return T(o.onSubmit())}),d(21,"div",14)(22,"div",15)(23,"div")(24,"label",16),p(25," Source Title "),f(),d(26,"input",17),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.title,o)||(i.title=o),T(o)}),f()(),d(27,"div")(28,"label",18),p(29," Source Content "),f(),d(30,"textarea",19),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.content,o)||(i.content=o),T(o)}),f()()()(),d(31,"div",20)(32,"button",21),N("click",function(){k(t);let o=w();return T(o.onCancel())}),d(33,"span",22),p(34,"Cancel"),f()(),d(35,"button",23)(36,"span",22),p(37),f()()()()()()()()}if(e&2){let t=w();g(8),b("routerLink",ve(5,Z1,t.notebookId)),g(18),we("ngModel",t.title),g(4),we("ngModel",t.content),g(5),b("disabled",!t.title||!t.content||t.isSubmitting),g(2),q(t.isSubmitting?"Saving...":"Save Source")}}var yu=class e{route=y(oe);router=y(te);sourceService=y(xt);notebookId=null;title="";content="";isSubmitting=!1;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId||(console.error("No notebook ID provided"),this.router.navigate(["/list-notebooks"]))}onSubmit(){if(!this.notebookId||!this.title||!this.content)return;this.isSubmitting=!0;let n={notebook_id:this.notebookId,title:this.title,content:this.content};this.sourceService.importTextSource(n).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/edit-notebook",this.notebookId])},error:t=>{console.error("Error adding text source",t),this.isSubmitting=!1,alert("Failed to add text source")}})}onCancel(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-add-text-source"]],decls:1,vars:1,consts:[["class","flex h-screen",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"pb-8"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal","mt-2"],[1,"max-w-3xl"],[3,"ngSubmit"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]","p-6"],[1,"flex","flex-col","gap-6"],["for","title",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["type","text","id","title","name","title","required","","placeholder","Enter source title",1,"form-input","min-h-12","w-full","resize-none","overflow-hidden","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["for","content",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["id","content","name","content","required","","rows","12","placeholder","Paste or type your source content here",1,"form-input","min-h-32","w-full","resize-y","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],[1,"flex","gap-3","pt-6","justify-end"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-slate-100","dark:bg-slate-800","text-slate-900","dark:text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-200","dark:hover:bg-slate-700",3,"click"],[1,"truncate"],["type","submit",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"]],template:function(t,r){t&1&&P(0,Y1,38,7,"div",0),t&2&&b("ngIf",r.notebookId)},dependencies:[ee,ye,St,Kt,lt,It,Yt,er,ht,hn,Ae,st],encapsulation:2})};var K1=e=>["/edit-notebook",e];function J1(e,n){if(e&1&&(d(0,"div",27)(1,"p",28),p(2),f()()),e&2){let t=w(2);g(2),q(t.errorMessage)}}function X1(e,n){e&1&&(d(0,"div",29),Z(1,"div",30),d(2,"p",31),p(3," Fetching content from URL... This may take a few seconds. "),f()())}function eN(e,n){if(e&1){let t=K();d(0,"div",1)(1,"main",2)(2,"div",3)(3,"div",4)(4,"a",5),p(5," All Notebooks "),f(),d(6,"span",6),p(7,"/"),f(),d(8,"a",7),p(9," Notebook "),f(),d(10,"span",6),p(11,"/"),f(),d(12,"span",8),p(13,"Add Source by URL"),f()(),d(14,"header",9)(15,"h1",10),p(16," Add a source by URL "),f(),d(17,"p",11),p(18," Paste a URL to fetch and add the content to your notebook "),f()(),d(19,"div",12)(20,"form",13),N("ngSubmit",function(){k(t);let o=w();return T(o.onSubmit())}),d(21,"div",14)(22,"div",15),P(23,J1,3,1,"div",16),d(24,"div")(25,"label",17),p(26," Paste URL "),f(),d(27,"input",18),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.url,o)||(i.url=o),T(o)}),f()(),d(28,"div")(29,"label",19),p(30," Title (optional) "),f(),d(31,"input",20),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.title,o)||(i.title=o),T(o)}),f(),d(32,"p",21),p(33," If not provided, the title will be extracted from the webpage "),f()(),P(34,X1,4,0,"div",22),f()(),d(35,"div",23)(36,"button",24),N("click",function(){k(t);let o=w();return T(o.onCancel())}),d(37,"span",25),p(38,"Cancel"),f()(),d(39,"button",26)(40,"span",25),p(41),f()()()()()()()()}if(e&2){let t=w();g(8),b("routerLink",ve(10,K1,t.notebookId)),g(15),b("ngIf",t.errorMessage),g(4),we("ngModel",t.url),b("disabled",t.isSubmitting),g(4),we("ngModel",t.title),b("disabled",t.isSubmitting),g(3),b("ngIf",t.isSubmitting),g(2),b("disabled",t.isSubmitting),g(3),b("disabled",!t.url||t.isSubmitting),g(2),q(t.isSubmitting?"Fetching...":"Fetch and Add Source")}}var bu=class e{route=y(oe);router=y(te);sourceService=y(xt);notebookId=null;url="";title="";isSubmitting=!1;errorMessage="";ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId||(console.error("No notebook ID provided"),this.router.navigate(["/list-notebooks"]))}isValidUrl(n){try{let t=new URL(n);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}onSubmit(){if(this.errorMessage="",!this.notebookId||!this.url){this.errorMessage="URL is required";return}if(!this.isValidUrl(this.url)){this.errorMessage="Please enter a valid URL (must start with http:// or https://)";return}this.isSubmitting=!0;let n={notebook_id:this.notebookId,url:this.url,title:this.title||null};this.sourceService.importUrlSource(n).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/edit-notebook",this.notebookId])},error:t=>{console.error("Error adding URL source",t),this.isSubmitting=!1,this.errorMessage=t.error?.detail||"Failed to add URL source"}})}onCancel(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-add-url-source"]],decls:1,vars:1,consts:[["class","flex h-screen",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"pb-8"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal","mt-2"],[1,"max-w-3xl"],[3,"ngSubmit"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]","p-6"],[1,"flex","flex-col","gap-6"],["class","rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4",4,"ngIf"],["for","url",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["type","text","id","url","name","url","required","","placeholder","https://example.com/article",1,"form-input","min-h-12","w-full","resize-none","overflow-hidden","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],["for","title",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["type","text","id","title","name","title","placeholder","Leave empty to auto-extract from URL",1,"form-input","min-h-12","w-full","resize-none","overflow-hidden","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal","disabled:opacity-50","disabled:cursor-not-allowed",3,"ngModelChange","ngModel","disabled"],[1,"text-slate-500","dark:text-[#92adc9]","text-xs","mt-2"],["class","flex flex-col items-center gap-4 py-8",4,"ngIf"],[1,"flex","gap-3","pt-6","justify-end"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-slate-100","dark:bg-slate-800","text-slate-900","dark:text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-200","dark:hover:bg-slate-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"truncate"],["type","submit",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"rounded-lg","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","p-4"],[1,"text-red-600","dark:text-red-400","text-sm","font-medium"],[1,"flex","flex-col","items-center","gap-4","py-8"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-primary"],[1,"text-slate-600","dark:text-slate-400","text-sm","font-medium"]],template:function(t,r){t&1&&P(0,eN,42,12,"div",0),t&2&&b("ngIf",r.notebookId)},dependencies:[ee,ye,St,Kt,lt,It,Yt,er,ht,hn,Ae,st],encapsulation:2})};var tN=e=>["/edit-notebook",e];function nN(e,n){if(e&1){let t=K();d(0,"div",27)(1,"span",28),p(2,"upload_file"),f(),d(3,"p",29),p(4," Drag and drop PDF files here "),f(),d(5,"p",30),p(6," Supported file types: PDF. Automatically extracts text content. For scanned PDFs, OCR processing status will be indicated. Upload multiple files at once. "),f(),d(7,"button",31),N("click",function(){k(t);let o=w(2);return T(o.triggerFileInput())}),d(8,"span",25),p(9,"Browse Files"),f()()()}}function rN(e,n){if(e&1){let t=K();d(0,"div",27)(1,"span",32),p(2,"check_circle"),f(),d(3,"p",29),p(4),f(),d(5,"p",30),p(6),f(),d(7,"button",33),N("click",function(){k(t);let o=w(2);return T(o.triggerFileInput())}),d(8,"span",25),p(9,"Change File"),f()()()}if(e&2){let t=w(2);g(4),A(" ",t.selectedFileName," "),g(2),A(" ",(t.selectedFile.size/1024/1024).toFixed(2)," MB ")}}function oN(e,n){e&1&&(d(0,"div",34)(1,"div",35),Z(2,"div",36),d(3,"p",29),p(4," Uploading... "),f()(),d(5,"div",37)(6,"div",38),Z(7,"div",39),f()(),d(8,"p",40),p(9," 0% "),f()())}function iN(e,n){if(e&1){let t=K();d(0,"div",1)(1,"main",2)(2,"div",3)(3,"div",4)(4,"a",5),p(5," All Notebooks "),f(),d(6,"span",6),p(7,"/"),f(),d(8,"a",7),p(9," Notebook "),f(),d(10,"span",6),p(11,"/"),f(),d(12,"span",8),p(13,"Add Source"),f()(),d(14,"header",9)(15,"h1",10),p(16," Add Source "),f(),d(17,"p",11),p(18," Add a new PDF source to your notebook "),f()(),d(19,"div",12)(20,"form",13),N("ngSubmit",function(){k(t);let o=w();return T(o.onSubmit())}),d(21,"div",14)(22,"div",15)(23,"div")(24,"label",16),p(25," Source Name "),f(),d(26,"input",17),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.name,o)||(i.name=o),T(o)}),f()(),d(27,"div")(28,"label",18),p(29," PDF File "),f(),d(30,"div",19),N("dragover",function(o){k(t);let i=w();return T(i.onDragOver(o))})("dragleave",function(o){k(t);let i=w();return T(i.onDragLeave(o))})("drop",function(o){k(t);let i=w();return T(i.onDrop(o))}),d(31,"input",20),N("change",function(o){k(t);let i=w();return T(i.onFileSelected(o))}),f(),P(32,nN,10,0,"div",21)(33,rN,10,2,"div",21),f()(),P(34,oN,10,0,"div",22),f()(),d(35,"div",23)(36,"button",24),N("click",function(){k(t);let o=w();return T(o.onCancel())}),d(37,"span",25),p(38,"Cancel"),f()(),d(39,"button",26)(40,"span",25),p(41),f()()()()()()()()}if(e&2){let t=w();g(8),b("routerLink",ve(22,tN,t.notebookId)),g(18),we("ngModel",t.name),g(4),Rt("border-slate-200",!t.isDragOver)("dark:border-slate-800",!t.isDragOver)("border-primary",t.isDragOver)("dark:border-primary",t.isDragOver)("bg-slate-50",!t.isDragOver)("dark:bg-slate-900/50",!t.isDragOver)("bg-primary/5",t.isDragOver),g(2),b("ngIf",!t.selectedFile),g(),b("ngIf",t.selectedFile),g(),b("ngIf",t.isSubmitting),g(2),b("disabled",t.isSubmitting),g(3),b("disabled",!t.name||!t.selectedFile||t.isSubmitting),g(2),q(t.isSubmitting?"Uploading...":"Upload and Add Source")}}var _u=class e{route=y(oe);router=y(te);sourceService=y(xt);notebookId=null;name="";selectedFile=null;selectedFileName="";isSubmitting=!1;isDragOver=!1;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId||(console.error("No notebook ID provided"),this.router.navigate(["/list-notebooks"]))}onFileSelected(n){let t=n.target;t.files&&t.files.length>0&&this.handleFile(t.files[0])}onDragOver(n){n.preventDefault(),n.stopPropagation(),this.isDragOver=!0}onDragLeave(n){n.preventDefault(),n.stopPropagation(),this.isDragOver=!1}onDrop(n){n.preventDefault(),n.stopPropagation(),this.isDragOver=!1,n.dataTransfer?.files&&n.dataTransfer.files.length>0&&this.handleFile(n.dataTransfer.files[0])}handleFile(n){if(n.type!=="application/pdf"){alert("Please select a PDF file");return}this.selectedFile=n,this.selectedFileName=n.name,this.name||(this.name=n.name.replace(".pdf",""))}triggerFileInput(){document.getElementById("pdfFile")?.click()}async onSubmit(){if(!(!this.notebookId||!this.name||!this.selectedFile)){this.isSubmitting=!0;try{let n=await this.fileToBase64(this.selectedFile),t={notebook_id:this.notebookId,name:this.name,file_content:n,file_type:"pdf"};this.sourceService.importFileSource(t).subscribe({next:()=>{this.isSubmitting=!1,this.router.navigate(["/edit-notebook",this.notebookId])},error:r=>{console.error("Error adding PDF source",r),this.isSubmitting=!1,alert("Failed to add PDF source")}})}catch(n){console.error("Error reading file",n),this.isSubmitting=!1,alert("Failed to read PDF file")}}}fileToBase64(n){return new Promise((t,r)=>{let o=new FileReader;o.readAsDataURL(n),o.onload=()=>{if(typeof o.result=="string"){let i=o.result.split(",")[1];t(i)}else r(new Error("Failed to read file as base64"))},o.onerror=i=>r(i)})}onCancel(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-add-pdf-source"]],decls:1,vars:1,consts:[["class","flex h-screen",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"pb-8"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal","mt-2"],[1,"max-w-3xl"],[3,"ngSubmit"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]","p-6"],[1,"flex","flex-col","gap-6"],["for","name",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["type","text","id","name","name","name","required","","placeholder","Enter source name",1,"form-input","min-h-12","w-full","resize-none","overflow-hidden","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],[1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],[1,"relative","border-2","border-dashed","rounded-lg","p-8","text-center","transition-colors",3,"dragover","dragleave","drop"],["type","file","id","pdfFile","accept","application/pdf",1,"hidden",3,"change"],["class","flex flex-col items-center gap-3",4,"ngIf"],["class","flex flex-col items-center gap-3 p-6 bg-slate-50 dark:bg-slate-900/50 rounded-lg",4,"ngIf"],[1,"flex","gap-3","pt-6","justify-end"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-slate-100","dark:bg-slate-800","text-slate-900","dark:text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-200","dark:hover:bg-slate-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"truncate"],["type","submit",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"flex","flex-col","items-center","gap-3"],[1,"material-symbols-outlined","text-5xl","text-slate-400"],[1,"text-slate-900","dark:text-white","text-base","font-medium"],[1,"text-slate-500","dark:text-[#92adc9]","text-sm"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","mt-2",3,"click"],[1,"material-symbols-outlined","text-5xl","text-green-500"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-slate-100","dark:bg-slate-800","text-slate-900","dark:text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-200","dark:hover:bg-slate-700","mt-2",3,"click"],[1,"flex","flex-col","items-center","gap-3","p-6","bg-slate-50","dark:bg-slate-900/50","rounded-lg"],[1,"flex","items-center","gap-3"],[1,"w-6","h-6","border-3","border-primary","border-t-transparent","rounded-full","animate-spin"],[1,"w-full","bg-slate-200","dark:bg-slate-800","rounded-full","h-2","overflow-hidden"],[1,"bg-primary","h-full","animate-pulse",2,"width","0%"],[1,"h-full","bg-gradient-to-r","from-transparent","via-white/30","to-transparent","animate-shimmer"],[1,"text-slate-500","dark:text-[#92adc9]","text-sm","text-center"]],template:function(t,r){t&1&&P(0,iN,42,24,"div",0),t&2&&b("ngIf",r.notebookId)},dependencies:[ee,ye,St,Kt,lt,It,Yt,er,ht,hn,Ae,st],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.animate-shimmer[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shimmer 2s infinite}"]})};var vi=class e{httpClient=y(at);ingestNotebook(n,t){let r=E({chunk_size:1e3,overlap:200,force_reingest:!1},t);return this.httpClient.post(`api/notebooks/${n}/ingest`,r)}searchSimilarContent(n,t,r=10){return this.httpClient.get(`api/notebooks/${n}/similar`,{params:{query:t,limit:r}})}getVectorCount(n){return this.httpClient.get(`api/notebooks/${n}/vectors/count`)}deleteNotebookVectors(n){return this.httpClient.delete(`api/notebooks/${n}/vectors`)}createCollection(n,t){return this.httpClient.post(`api/notebooks/${n}/collection`,t||{})}askQuestion(n,t){return this.httpClient.post(`api/notebooks/${n}/qa`,t)}getQaHealth(){return this.httpClient.get("api/notebooks/qa/health")}generateMindMap(n,t){return this.httpClient.post(`api/notebooks/${n}/mindmap`,t)}getMindMapViewer(n){return this.httpClient.get(`api/notebooks/${n}/mindmap/viewer`,{responseType:"text"})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};function sN(e,n){e&1&&(d(0,"div"),Z(1,"app-loading",4),d(2,"p",5),p(3," This may take a few moments. Please wait while we process your notebook sources. "),f()())}function aN(e,n){e&1&&(d(0,"div",6)(1,"div",7)(2,"div",8)(3,"span",9),p(4,"check_circle"),f()()(),d(5,"h2",10),p(6," Sync Complete! "),f(),d(7,"p",11),p(8," Your notebook has been successfully synced with the vector database. "),f(),d(9,"p",12),p(10," Redirecting you back to the notebook... "),f()())}function lN(e,n){if(e&1){let t=K();d(0,"div",6)(1,"div",7)(2,"div",13)(3,"span",14),p(4,"error"),f()()(),d(5,"h2",10),p(6," Sync Failed "),f(),d(7,"p",15),p(8),f(),d(9,"button",16),N("click",function(){k(t);let o=w();return T(o.goBack())}),d(10,"span",17),p(11,"arrow_back"),f(),d(12,"span"),p(13,"Go Back to Notebook"),f()()()}if(e&2){let t=w();g(8),A(" ",t.errorMessage," ")}}var wu=class e{route=y(oe);router=y(te);vectorSearchService=y(vi);notebookId=null;isLoading=!0;errorMessage=null;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId?this.syncWithVectorDatabase(this.notebookId):(this.errorMessage="No notebook ID provided",this.isLoading=!1)}syncWithVectorDatabase(n){this.isLoading=!0,this.errorMessage=null,this.vectorSearchService.ingestNotebook(n).subscribe({next:t=>{console.log("Sync completed:",t),this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/edit-notebook",n])},1500)},error:t=>{console.error("Error syncing with vector database:",t),this.errorMessage=t.error?.detail||"Failed to sync with vector database",this.isLoading=!1}})}goBack(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-sync-notebook"]],decls:5,vars:3,consts:[[1,"flex","h-screen","items-center","justify-center","bg-white","dark:bg-[#0e1b24]"],[1,"text-center","max-w-md","px-4"],[4,"ngIf"],["class","animate-fade-in",4,"ngIf"],["size","large","message","Syncing with Vector Database..."],[1,"mt-6","text-slate-600","dark:text-[#92adc9]","text-base"],[1,"animate-fade-in"],[1,"flex","justify-center","mb-4"],[1,"flex","h-16","w-16","items-center","justify-center","rounded-full","bg-green-100","dark:bg-green-900/30"],[1,"material-symbols-outlined","text-4xl","text-green-600","dark:text-green-400"],[1,"text-slate-900","dark:text-white","text-2xl","font-bold","mb-2"],[1,"text-slate-600","dark:text-[#92adc9]","text-base","mb-4"],[1,"text-slate-500","dark:text-slate-400","text-sm"],[1,"flex","h-16","w-16","items-center","justify-center","rounded-full","bg-red-100","dark:bg-red-900/30"],[1,"material-symbols-outlined","text-4xl","text-red-600","dark:text-red-400"],[1,"text-slate-600","dark:text-[#92adc9]","text-base","mb-6"],[1,"inline-flex","items-center","justify-center","gap-2","rounded-lg","h-10","px-6","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90",3,"click"],[1,"material-symbols-outlined","text-xl"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1),P(2,sN,4,0,"div",2)(3,aN,11,0,"div",3)(4,lN,14,1,"div",3),f()()),t&2&&(g(2),b("ngIf",r.isLoading),g(),b("ngIf",!r.isLoading&&!r.errorMessage),g(),b("ngIf",!r.isLoading&&r.errorMessage))},dependencies:[ee,ye,We],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}"]})};var cN=e=>["/edit-notebook",e];function uN(e,n){e&1&&(d(0,"div",15),Z(1,"app-loading",16),f())}function dN(e,n){if(e&1&&(d(0,"option",37),p(1),f()),e&2){let t=n.$implicit;b("value",t.value),g(),A(" ",t.label," ")}}function fN(e,n){if(e&1&&(d(0,"option",37),p(1),f()),e&2){let t=n.$implicit;b("value",t.value),g(),A(" ",t.label," ")}}function pN(e,n){if(e&1&&(d(0,"option",37),p(1),f()),e&2){let t=n.$implicit;b("value",t.value),g(),A(" ",t.label," ")}}function hN(e,n){if(e&1){let t=K();d(0,"div")(1,"form",17),N("ngSubmit",function(){k(t);let o=w(2);return T(o.onGenerate())}),d(2,"div",18)(3,"div",19)(4,"div")(5,"label",20),p(6," Blog Title "),d(7,"span",21),p(8,"*"),f()(),d(9,"input",22),Ee("ngModelChange",function(o){k(t);let i=w(2);return Ie(i.title,o)||(i.title=o),T(o)}),f()(),d(10,"div")(11,"label",23),p(12," Custom Prompt "),f(),d(13,"textarea",24),Ee("ngModelChange",function(o){k(t);let i=w(2);return Ie(i.customPrompt,o)||(i.customPrompt=o),T(o)}),f()(),d(14,"div")(15,"label",25),p(16," Tone "),f(),d(17,"select",26),Ee("ngModelChange",function(o){k(t);let i=w(2);return Ie(i.tone,o)||(i.tone=o),T(o)}),P(18,dN,2,2,"option",27),f()(),d(19,"div")(20,"label",28),p(21," Word Count "),f(),d(22,"select",29),Ee("ngModelChange",function(o){k(t);let i=w(2);return Ie(i.wordCount,o)||(i.wordCount=o),T(o)}),P(23,fN,2,2,"option",27),f()(),d(24,"div")(25,"label",30),p(26," Structure "),f(),d(27,"select",31),Ee("ngModelChange",function(o){k(t);let i=w(2);return Ie(i.structure,o)||(i.structure=o),T(o)}),P(28,pN,2,2,"option",27),f()()()(),d(29,"div",32)(30,"button",33),N("click",function(){k(t);let o=w(2);return T(o.onCancel())}),d(31,"span",34),p(32,"Cancel"),f()(),d(33,"button",35)(34,"span",36),p(35,"auto_awesome"),f(),d(36,"span",34),p(37,"Generate Blog Post"),f()()()()()}if(e&2){let t=w(2);g(9),we("ngModel",t.title),g(4),we("ngModel",t.customPrompt),g(4),we("ngModel",t.tone),g(),b("ngForOf",t.toneOptions),g(4),we("ngModel",t.wordCount),g(),b("ngForOf",t.wordCountOptions),g(4),we("ngModel",t.structure),g(),b("ngForOf",t.structureOptions),g(5),b("disabled",!t.title||t.isGenerating)}}function gN(e,n){if(e&1){let t=K();d(0,"div")(1,"div",18)(2,"div",38)(3,"div")(4,"h2",39),p(5),f(),d(6,"div",40)(7,"span",41),p(8),f(),d(9,"span",42),p(10),f()()(),d(11,"button",43),N("click",function(){k(t);let o=w(2);return T(o.onBackToNotebook())}),d(12,"span",36),p(13,"arrow_back"),f(),d(14,"span",34),p(15,"Back to Notebook"),f()()(),d(16,"div",44)(17,"div",45),p(18),f()()()()}if(e&2){let t=w(2);g(5),A(" ",t.generatedBlogPost.title," "),g(3),A(" ",t.generatedBlogPost.word_count," words "),g(2),A(" ",t.generatedBlogPost.status," "),g(8),q(t.generatedBlogPost.content)}}function mN(e,n){if(e&1&&(d(0,"div",1)(1,"main",2)(2,"div",3)(3,"div",4)(4,"a",5),p(5," All Notebooks "),f(),d(6,"span",6),p(7,"/"),f(),d(8,"a",7),p(9," Notebook "),f(),d(10,"span",6),p(11,"/"),f(),d(12,"span",8),p(13,"New Blog Post"),f()(),d(14,"header",9)(15,"h1",10),p(16," Generate Blog Post "),f(),d(17,"p",11),p(18," Create a blog post from your notebook sources using AI "),f()(),d(19,"div",12),P(20,uN,2,0,"div",13)(21,hN,38,9,"div",14)(22,gN,19,4,"div",14),f()()()()),e&2){let t=w();g(8),b("routerLink",ve(4,cN,t.notebookId)),g(12),b("ngIf",t.isGenerating),g(),b("ngIf",!t.isGenerating&&!t.generatedBlogPost),g(),b("ngIf",!t.isGenerating&&t.generatedBlogPost)}}var Eu=class e{route=y(oe);router=y(te);notebookService=y(qe);cdr=y(he);notebookId=null;title="";customPrompt="";tone="informative";wordCount=550;structure="default";isGenerating=!1;generatedBlogPost=null;toneOptions=[{value:"informative",label:"Informative"},{value:"casual",label:"Casual"},{value:"formal",label:"Formal"},{value:"conversational",label:"Conversational"},{value:"academic",label:"Academic"}];wordCountOptions=[{value:550,label:"550 words"},{value:700,label:"700 words"},{value:1e3,label:"1000 words"}];structureOptions=[{value:"default",label:"Default"},{value:"how-to",label:"How To"},{value:"list-article",label:"List Article"},{value:"comparison",label:"Comparison"},{value:"case-study",label:"Case Study"},{value:"opinion",label:"Opinion"}];ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId||(console.error("No notebook ID provided"),this.router.navigate(["/list-notebooks"]))}onGenerate(){if(!this.notebookId||!this.title)return;this.isGenerating=!0,this.generatedBlogPost=null;let n=this.customPrompt;this.structure!=="default"&&(n={"how-to":"Create a step-by-step how-to guide. ","list-article":"Create a listicle format article. ",comparison:"Create a comparison article analyzing different aspects. ","case-study":"Create a case study with problem, solution, and results. ",opinion:"Create an opinion piece with clear arguments and evidence. "}[this.structure]+(n||""));let t={title:this.title,prompt:n||null,target_word_count:this.wordCount,tone:this.tone,include_references:!0};this.notebookService.generateBlogPost(this.notebookId,t).subscribe({next:r=>{this.generatedBlogPost=r,this.isGenerating=!1,this.cdr.detectChanges()},error:r=>{console.error("Error generating blog post",r),this.isGenerating=!1,this.cdr.detectChanges(),alert("Failed to generate blog post. Please ensure the notebook has sources and try again.")}})}onCancel(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}onBackToNotebook(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-new-blog-post"]],decls:1,vars:1,consts:[["class","flex h-screen",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"pb-8"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal","mt-2"],[1,"max-w-4xl"],["class","flex items-center justify-center py-12",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","justify-center","py-12"],["size","large","message","Generating your blog post... This may take a few seconds."],[3,"ngSubmit"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]","p-6"],[1,"flex","flex-col","gap-6"],["for","title",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],[1,"text-red-500"],["type","text","id","title","name","title","required","","placeholder","Enter blog post title",1,"form-input","min-h-12","w-full","resize-none","overflow-hidden","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["for","customPrompt",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["id","customPrompt","name","customPrompt","rows","4","placeholder","Add any specific instructions or topics to focus on (optional)",1,"form-input","min-h-32","w-full","resize-y","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","placeholder:text-slate-400","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["for","tone",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["id","tone","name","tone",1,"form-select","min-h-12","w-full","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","wordCount",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["id","wordCount","name","wordCount",1,"form-select","min-h-12","w-full","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["for","structure",1,"block","text-slate-900","dark:text-white","text-sm","font-medium","leading-normal","pb-2"],["id","structure","name","structure",1,"form-select","min-h-12","w-full","rounded-lg","text-slate-900","dark:text-white","focus:outline-0","focus:ring-0","border","border-slate-200","dark:border-slate-800","bg-slate-50","dark:bg-slate-900/50","focus:border-primary","dark:focus:border-primary","p-3","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],[1,"flex","gap-3","pt-6","justify-end"],["type","button",1,"flex","cursor-pointer","items-center","justify-center","overflow-hidden","rounded-lg","h-10","px-4","bg-slate-100","dark:bg-slate-800","text-slate-900","dark:text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-200","dark:hover:bg-slate-700",3,"click"],[1,"truncate"],["type","submit",1,"flex","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"material-symbols-outlined"],[3,"value"],[1,"flex","items-center","justify-between","mb-6","pb-4","border-b","border-slate-200","dark:border-slate-800"],[1,"text-slate-900","dark:text-white","text-2xl","font-bold","leading-tight"],[1,"flex","items-center","gap-4","mt-2"],[1,"text-slate-500","dark:text-[#92adc9]","text-sm"],[1,"rounded-md","bg-green-100","px-2","py-1","text-xs","font-medium","text-green-700","dark:bg-green-900/30","dark:text-green-400"],[1,"flex","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-primary","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-primary/90",3,"click"],[1,"prose","prose-slate","dark:prose-invert","max-w-none"],[1,"text-slate-700","dark:text-slate-300",2,"white-space","pre-wrap"]],template:function(t,r){t&1&&P(0,mN,23,6,"div",0),t&2&&b("ngIf",r.notebookId)},dependencies:[ee,Qt,ye,St,Kt,Lw,jw,lt,mu,It,Yt,er,ht,hn,Ae,st,We],encapsulation:2})};var An=class e{httpClient=y(at);baseEndpoint="api/outputs";createOutput(n,t){return this.httpClient.post(this.baseEndpoint,t,{params:{notebook_id:n}})}getOutput(n){return this.httpClient.get(`${this.baseEndpoint}/${n}`)}listOutputs(n){let t={};return n&&Object.entries(n).forEach(([r,o])=>{o!=null&&(t[r]=o)}),this.httpClient.get(this.baseEndpoint,{params:t})}updateOutput(n,t){return this.httpClient.put(`${this.baseEndpoint}/${n}`,t)}deleteOutput(n){return this.httpClient.delete(`${this.baseEndpoint}/${n}`)}searchOutputs(n){let t={};return Object.entries(n).forEach(([r,o])=>{o!=null&&(t[r]=o)}),this.httpClient.get(`${this.baseEndpoint}/search`,{params:t})}getOutputPreview(n,t=300){return this.httpClient.get(`${this.baseEndpoint}/${n}/preview`,{params:{length:t}})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var zw=e=>["/edit-notebook",e];function vN(e,n){if(e&1){let t=K();d(0,"tr",29)(1,"td",30)(2,"span",31),p(3,"article"),f(),d(4,"a",32),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.viewOutput(o))}),p(5),f()(),d(6,"td",33)(7,"span",34),p(8),f()(),d(9,"td",33)(10,"span",35),p(11),f()(),d(12,"td",33),p(13),f(),d(14,"td",33),p(15),f(),d(16,"td",36)(17,"div",37)(18,"button",38),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.viewOutput(o))}),d(19,"span",39),p(20,"visibility"),f()(),d(21,"button",40),N("click",function(){let o=k(t).$implicit,i=w(2);return T(i.deleteOutput(o))}),d(22,"span",39),p(23,"delete"),f()()()()()}if(e&2){let t=n.$implicit,r=w(2);g(5),q(t.title),g(3),A(" ",t.output_type," "),g(2),b("ngClass",r.getStatusClass(t.status)),g(),A(" ",t.status," "),g(2),q(t.word_count),g(2),q(r.formatDate(t.created_at))}}function yN(e,n){e&1&&(d(0,"tr")(1,"td",41)(2,"div",42)(3,"span",43),p(4,"article"),f(),d(5,"p"),p(6,"No outputs found for this notebook."),f(),d(7,"p",44),p(8,'Generate your first output using the "New Blog Post" feature.'),f()()()())}function bN(e,n){if(e&1&&(d(0,"div",2)(1,"main",3)(2,"div",4)(3,"div",5)(4,"a",6),p(5," All Notebooks "),f(),d(6,"span",7),p(7,"/"),f(),d(8,"a",8),p(9),f(),d(10,"span",7),p(11,"/"),f(),d(12,"span",9),p(13,"Outputs"),f()(),d(14,"header",10)(15,"div",11)(16,"h1",12),p(17," Output Records"),f(),d(18,"p",13),p(19),f()(),d(20,"div",14)(21,"button",15)(22,"span",16),p(23,"arrow_back"),f(),d(24,"span",17),p(25,"Back to Notebook"),f()()()(),d(26,"div",18)(27,"div",19)(28,"h3",20),p(29),f()(),d(30,"div",21)(31,"table",22)(32,"thead",23)(33,"tr")(34,"th",24),p(35,"Title"),f(),d(36,"th",24),p(37,"Type"),f(),d(38,"th",24),p(39,"Status"),f(),d(40,"th",24),p(41,"Word Count"),f(),d(42,"th",24),p(43,"Created"),f(),d(44,"th",25),p(45,"Actions"),f()()(),d(46,"tbody",26),P(47,vN,24,6,"tr",27)(48,yN,9,0,"tr",28),f()()()()()()()),e&2){let t=w();g(8),b("routerLink",ve(7,zw,t.notebook.id)),g(),A(" ",t.notebook.name," "),g(10),A(" Generated outputs for ",t.notebook.name," "),g(2),b("routerLink",ve(9,zw,t.notebook.id)),g(8),A(" All Outputs (",t.outputs.length,")"),g(18),b("ngForOf",t.outputs),g(),b("ngIf",t.outputs.length===0)}}function _N(e,n){e&1&&(d(0,"div",45),Z(1,"app-loading",46),f())}var Du=class e{route=y(oe);router=y(te);notebookService=y(qe);outputService=y(An);cdr=y(he);notebook=null;outputs=[];notebookId=null;isLoading=!0;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId&&this.loadData(this.notebookId)}viewOutput(n){this.notebookId&&n.id&&this.router.navigate(["/edit-notebook",this.notebookId,"outputs",n.id])}deleteOutput(n){confirm(`Are you sure you want to delete output "${n.title}"?`)&&n.id&&this.outputService.deleteOutput(n.id).subscribe({next:()=>{this.loadData(this.notebookId)},error:t=>{console.error("Error deleting output",t),alert("Failed to delete output")}})}getStatusClass(n){let t={draft:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",generating:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t[n]||t.draft}formatDate(n){return new Date(n).toLocaleDateString()}loadData(n){this.isLoading=!0,this.notebookService.getNotebook(n).subscribe({next:t=>{this.notebook=t,this.outputService.listOutputs({notebook_id:n}).subscribe({next:r=>{this.outputs=r.outputs,this.isLoading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading outputs",r),this.isLoading=!1,this.cdr.detectChanges()}})},error:t=>{console.error("Error loading notebook",t),this.isLoading=!1,this.cdr.detectChanges()}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-notebook-outputs"]],decls:2,vars:2,consts:[["class","flex h-screen",4,"ngIf"],["class","flex h-screen items-center justify-center",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"flex","flex-wrap","items-start","justify-between","gap-4","pb-8"],[1,"flex","min-w-72","flex-col","gap-2"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-normal","leading-normal"],[1,"flex","items-center","gap-3"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-slate-200","text-slate-800","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-300","dark:bg-slate-800","dark:text-white","dark:hover:bg-slate-700",3,"routerLink"],[1,"material-symbols-outlined"],[1,"truncate"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]"],[1,"p-4"],[1,"text-slate-900","dark:text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"border-b","border-slate-200","bg-slate-50","text-xs","uppercase","text-slate-600","dark:border-slate-800","dark:bg-slate-900/50","dark:text-slate-400"],["scope","col",1,"px-6","py-3","font-medium"],["scope","col",1,"px-6","py-3","font-medium","text-right"],[1,"text-slate-700","dark:text-slate-300"],["class","border-b border-slate-200 bg-white hover:bg-slate-50 dark:border-slate-800 dark:bg-[#111a22] dark:hover:bg-slate-900/50",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"border-b","border-slate-200","bg-white","hover:bg-slate-50","dark:border-slate-800","dark:bg-[#111a22]","dark:hover:bg-slate-900/50"],[1,"flex","items-center","gap-3","px-6","py-4"],[1,"material-symbols-outlined","text-lg","text-slate-500"],[1,"font-medium","text-slate-800","hover:text-primary","dark:text-white","cursor-pointer",3,"click"],[1,"px-6","py-4"],[1,"rounded-md","bg-slate-100","px-2","py-1","text-xs","font-medium","text-slate-700","dark:bg-slate-800","dark:text-slate-300"],[1,"rounded-md","px-2","py-1","text-xs","font-medium",3,"ngClass"],[1,"px-6","py-4","text-right"],[1,"flex","items-center","justify-end","gap-2"],[1,"flex","h-8","w-8","items-center","justify-center","rounded-lg","text-slate-500","hover:bg-primary/10","hover:text-primary","dark:hover:bg-primary/20",3,"click"],[1,"material-symbols-outlined","text-xl"],[1,"flex","h-8","w-8","items-center","justify-center","rounded-lg","text-slate-500","hover:bg-red-100","hover:text-red-600","dark:hover:bg-red-900/30","dark:hover:text-red-400",3,"click"],["colspan","6",1,"px-6","py-8","text-center","text-slate-500"],[1,"flex","flex-col","items-center","gap-2"],[1,"material-symbols-outlined","text-4xl","text-slate-400"],[1,"text-sm"],[1,"flex","h-screen","items-center","justify-center"],["size","large","message","Loading outputs..."]],template:function(t,r){t&1&&P(0,bN,49,11,"div",0)(1,_N,2,0,"div",1),t&2&&(b("ngIf",!r.isLoading&&r.notebook),g(),b("ngIf",r.isLoading))},dependencies:[ee,Zn,Qt,ye,Ae,st,We],encapsulation:2})};var wN=["markmapContainer"],Xs=class e{content="";markmapContainer;cdr=y(he);markmapInstance=null;ngOnInit(){console.log("MindMapViewer initialized with content length:",this.content?.length)}ngAfterViewInit(){this.content&&this.markmapContainer&&(console.log("MindMapViewer AfterViewInit: scheduling render"),setTimeout(()=>this.renderMindMap(),300))}renderMindMap(){if(!this.content||!this.markmapContainer){console.log("Cannot render mindmap: missing content or container");return}try{if(console.log("Rendering mindmap..."),typeof markmap>"u"){console.error("markmap is not loaded"),setTimeout(()=>this.renderMindMap(),500);return}let{Transformer:n,Markmap:t}=markmap;if(!n||!t){console.error("Transformer or Markmap not available");return}let r=new n,{root:o}=r.transform(this.content);this.markmapInstance=t.create(this.markmapContainer.nativeElement,{color:i=>{let s=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845"];return s[i.depth%s.length]},duration:500,maxWidth:300},o),console.log("Mindmap rendered successfully")}catch(n){console.error("Error rendering mindmap:",n)}}expandAll(){if(this.markmapInstance){let n=t=>{t.children&&t.children.length>0&&(t.payload||(t.payload={}),t.payload.fold=0,t.children.forEach(n))};this.markmapInstance.state&&this.markmapInstance.state.data&&(n(this.markmapInstance.state.data),this.markmapInstance.renderData())}}collapseAll(){if(this.markmapInstance){let n=t=>{t.children&&t.children.length>0&&(t.payload||(t.payload={}),t.payload.fold=1,t.children.forEach(n))};this.markmapInstance.state&&this.markmapInstance.state.data&&(n(this.markmapInstance.state.data),this.markmapInstance.renderData())}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-mindmap-viewer"]],viewQuery:function(t,r){if(t&1&&no(wN,5),t&2){let o;br(o=_r())&&(r.markmapContainer=o.first)}},inputs:{content:"content"},decls:19,vars:1,consts:[["markmapContainer",""],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]"],[1,"p-6"],[1,"text-xl","font-bold","text-slate-900","dark:text-white","mb-4"],[1,"bg-white","rounded-lg","p-4","border","border-slate-200",2,"min-height","600px"],[2,"width","100%","height","600px"],[1,"mt-4","p-4","bg-blue-50","dark:bg-blue-900/20","rounded-lg"],[1,"text-sm","text-blue-800","dark:text-blue-300"],[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]","mt-6"],[1,"bg-slate-50","dark:bg-slate-900","rounded-lg","p-4","max-h-96","overflow-y-auto"],[1,"text-sm","text-slate-800","dark:text-slate-200","whitespace-pre-wrap","font-mono"]],template:function(t,r){t&1&&(Q(0,"div",1)(1,"div",2)(2,"h2",3),p(3,"Interactive Mind Map"),j(),Q(4,"div",4),qr(),Qo(5,"svg",5,0),j(),Bo(),Q(7,"div",6)(8,"p",7)(9,"strong"),p(10,"Tip:"),j(),p(11," Click on nodes to expand/collapse branches. Use the controls above to expand or collapse all nodes. "),j()()()(),Q(12,"div",8)(13,"div",2)(14,"h2",3),p(15,"Markdown Source"),j(),Q(16,"div",9)(17,"pre",10),p(18),j()()()()),t&2&&(g(18),q(r.content))},dependencies:[ee],styles:["svg[_ngcontent-%COMP%]     .markmap-link{stroke:#000!important;stroke-width:2px!important}svg[_ngcontent-%COMP%]     .markmap-node text{fill:#000!important}svg[_ngcontent-%COMP%]     .markmap-node circle{stroke:#000!important;stroke-width:1.5px!important}"]})};function Ng(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var wo=Ng();function Kw(e){wo=e}var ra={exec:()=>null};function ne(e,n=""){let t=typeof e=="string"?e:e.source,r={replace:(o,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(gt.caret,"$1"),t=t.replace(o,s),r},getRegex:()=>new RegExp(t,n)};return r}var EN=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),gt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},DN=/^(?:[ \t]*(?:\n|$))+/,CN=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,xN=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,oa=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,IN=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ag=/(?:[*+-]|\d{1,9}[.)])/,Jw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Xw=ne(Jw).replace(/bull/g,Ag).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),SN=ne(Jw).replace(/bull/g,Ag).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Rg=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,MN=/^[^\n]+/,Og=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,kN=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Og).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),TN=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ag).getRegex(),Mu="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Pg=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,NN=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Pg).replace("tag",Mu).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),eE=ne(Rg).replace("hr",oa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mu).getRegex(),AN=ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",eE).getRegex(),Fg={blockquote:AN,code:CN,def:kN,fences:xN,heading:IN,hr:oa,html:NN,lheading:Xw,list:TN,newline:DN,paragraph:eE,table:ra,text:MN},Gw=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",oa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mu).getRegex(),RN=B(E({},Fg),{lheading:SN,table:Gw,paragraph:ne(Rg).replace("hr",oa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Gw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mu).getRegex()}),ON=B(E({},Fg),{html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Pg).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ra,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Rg).replace("hr",oa).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),PN=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,FN=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tE=/^( {2,}|\\)\n(?!\s*$)/,LN=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ku=/[\p{P}\p{S}]/u,Lg=/[\s\p{P}\p{S}]/u,nE=/[^\s\p{P}\p{S}]/u,VN=ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Lg).getRegex(),rE=/(?!~)[\p{P}\p{S}]/u,jN=/(?!~)[\s\p{P}\p{S}]/u,BN=/(?:[^\s\p{P}\p{S}]|~)/u,$N=ne(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",EN?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),oE=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,UN=ne(oE,"u").replace(/punct/g,ku).getRegex(),HN=ne(oE,"u").replace(/punct/g,rE).getRegex(),iE="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",zN=ne(iE,"gu").replace(/notPunctSpace/g,nE).replace(/punctSpace/g,Lg).replace(/punct/g,ku).getRegex(),GN=ne(iE,"gu").replace(/notPunctSpace/g,BN).replace(/punctSpace/g,jN).replace(/punct/g,rE).getRegex(),qN=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nE).replace(/punctSpace/g,Lg).replace(/punct/g,ku).getRegex(),WN=ne(/\\(punct)/,"gu").replace(/punct/g,ku).getRegex(),QN=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ZN=ne(Pg).replace("(?:-->|$)","-->").getRegex(),YN=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ZN).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xu=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,KN=ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",xu).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),sE=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",xu).replace("ref",Og).getRegex(),aE=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Og).getRegex(),JN=ne("reflink|nolink(?!\\()","g").replace("reflink",sE).replace("nolink",aE).getRegex(),qw=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Vg={_backpedal:ra,anyPunctuation:WN,autolink:QN,blockSkip:$N,br:tE,code:FN,del:ra,emStrongLDelim:UN,emStrongRDelimAst:zN,emStrongRDelimUnd:qN,escape:PN,link:KN,nolink:aE,punctuation:VN,reflink:sE,reflinkSearch:JN,tag:YN,text:LN,url:ra},XN=B(E({},Vg),{link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",xu).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xu).getRegex()}),Mg=B(E({},Vg),{emStrongRDelimAst:GN,emStrongLDelim:HN,url:ne(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",qw).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ne(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",qw).getRegex()}),eA=B(E({},Mg),{br:ne(tE).replace("{2,}","*").getRegex(),text:ne(Mg.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Cu={normal:Fg,gfm:RN,pedantic:ON},ea={normal:Vg,gfm:Mg,breaks:eA,pedantic:XN},tA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ww=e=>tA[e];function tr(e,n){if(n){if(gt.escapeTest.test(e))return e.replace(gt.escapeReplace,Ww)}else if(gt.escapeTestNoEncode.test(e))return e.replace(gt.escapeReplaceNoEncode,Ww);return e}function Qw(e){try{e=encodeURI(e).replace(gt.percentDecode,"%")}catch{return null}return e}function Zw(e,n){let t=e.replace(gt.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(gt.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),n)if(r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(gt.slashPipe,"|");return r}function ta(e,n,t){let r=e.length;if(r===0)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i===n&&!t)o++;else if(i!==n&&t)o++;else break}return e.slice(0,r-o)}function nA(e,n){if(e.indexOf(n[1])===-1)return-1;let t=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===n[0])t++;else if(e[r]===n[1]&&(t--,t<0))return r;return t>0?-2:-1}function Yw(e,n,t,r,o){let i=n.href,s=n.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:e[0].charAt(0)==="!"?"image":"link",raw:t,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function rA(e,n,t){let r=e.match(t.other.indentCodeCompensation);if(r===null)return n;let o=r[1];return n.split(`
`).map(i=>{let s=i.match(t.other.beginningSpace);if(s===null)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join(`
`)}var Iu=class{options;rules;lexer;constructor(e){this.options=e||wo}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let t=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:ta(t,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let t=n[0],r=rA(t,n[3]||"",this.rules);return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(this.rules.other.endingHash.test(t)){let r=ta(t,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ta(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let t=ta(n[0],`
`).split(`
`),r="",o="",i=[];for(;t.length>0;){let s=!1,a=[],l;for(l=0;l<t.length;l++)if(this.rules.other.blockquoteStart.test(t[l]))a.push(t[l]),s=!0;else if(!s)a.push(t[l]);else break;t=t.slice(l);let c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,o=o?`${o}
${u}`:u;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=h,t.length===0)break;let v=i.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){let m=v,_=m.raw+`
`+t.join(`
`),I=this.blockquote(_);i[i.length-1]=I,r=r.substring(0,r.length-m.raw.length)+I.raw,o=o.substring(0,o.length-m.text.length)+I.text;break}else if(v?.type==="list"){let m=v,_=m.raw+`
`+t.join(`
`),I=this.list(_);i[i.length-1]=I,r=r.substring(0,r.length-v.raw.length)+I.raw,o=o.substring(0,o.length-m.raw.length)+I.raw,t=_.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim(),r=t.length>1,o={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let i=this.rules.other.listItemRegex(t),s=!1;for(;e;){let l=!1,c="",u="";if(!(n=i.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),v=e.split(`
`,1)[0],m=!h.trim(),_=0;if(this.options.pedantic?(_=2,u=h.trimStart()):m?_=n[1].length+1:(_=n[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,u=h.slice(_),_+=n[1].length),m&&this.rules.other.blankLine.test(v)&&(c+=v+`
`,e=e.substring(v.length+1),l=!0),!l){let I=this.rules.other.nextBulletRegex(_),x=this.rules.other.hrRegex(_),S=this.rules.other.fencesBeginRegex(_),ue=this.rules.other.headingBeginRegex(_),Qe=this.rules.other.htmlBeginRegex(_);for(;e;){let pe=e.split(`
`,1)[0],mt;if(v=pe,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),mt=v):mt=v.replace(this.rules.other.tabCharGlobal,"    "),S.test(v)||ue.test(v)||Qe.test(v)||I.test(v)||x.test(v))break;if(mt.search(this.rules.other.nonSpaceChar)>=_||!v.trim())u+=`
`+mt.slice(_);else{if(m||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||S.test(h)||ue.test(h)||x.test(h))break;u+=`
`+v}!m&&!v.trim()&&(m=!0),c+=pe+`
`,e=e.substring(pe.length+1),h=mt.slice(_)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0)),o.items.push({type:"list_item",raw:c,task:!!this.options.gfm&&this.rules.other.listIsTask.test(u),loose:!1,text:u,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let l of o.items){if(this.lexer.state.top=!1,l.tokens=this.lexer.blockTokens(l.text,[]),l.task){if(l.text=l.text.replace(this.rules.other.listReplaceTask,""),l.tokens[0]?.type==="text"||l.tokens[0]?.type==="paragraph"){l.tokens[0].raw=l.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),l.tokens[0].text=l.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let u=this.lexer.inlineQueue.length-1;u>=0;u--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[u].src)){this.lexer.inlineQueue[u].src=this.lexer.inlineQueue[u].src.replace(this.rules.other.listReplaceTask,"");break}}let c=this.rules.other.listTaskCheckbox.exec(l.raw);if(c){let u={type:"checkbox",raw:c[0]+" ",checked:c[0]!=="[ ]"};l.checked=u.checked,o.loose?l.tokens[0]&&["paragraph","text"].includes(l.tokens[0].type)&&"tokens"in l.tokens[0]&&l.tokens[0].tokens?(l.tokens[0].raw=u.raw+l.tokens[0].raw,l.tokens[0].text=u.raw+l.tokens[0].text,l.tokens[0].tokens.unshift(u)):l.tokens.unshift({type:"paragraph",raw:u.raw,text:u.raw,tokens:[u]}):l.tokens.unshift(u)}}if(!o.loose){let c=l.tokens.filter(h=>h.type==="space"),u=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));o.loose=u}}if(o.loose)for(let l of o.items){l.loose=!0;for(let c of l.tokens)c.type==="text"&&(c.type="paragraph")}return o}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let t=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:o}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let t=Zw(n[1]),r=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:n[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<t.length;s++)i.header.push({text:t[s],tokens:this.lexer.inline(t[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(Zw(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let t=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let i=ta(t.slice(0,-1),"\\");if((t.length-i.length)%2===0)return}else{let i=nA(n[2],"()");if(i===-2)return;if(i>-1){let s=(n[0].indexOf("!")===0?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,s).trim(),n[3]=""}}let r=n[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=n[3]?n[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?r=r.slice(1):r=r.slice(1,-1)),Yw(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let r=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=n[r.toLowerCase()];if(!o){let i=t[0].charAt(0);return{type:"text",raw:i,text:i}}return Yw(t,o,t[0],this.lexer,this.rules)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!t||this.rules.inline.punctuation.exec(t))){let o=[...r[0]].length-1,i,s,a=o,l=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,n=n.slice(-1*e.length+o);(r=c.exec(n))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}else if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let u=[...r[0]][0].length,h=e.slice(0,o+r.index+u+s);if(Math.min(o,s)%2){let m=h.slice(1,-1);return{type:"em",raw:h,text:m,tokens:this.lexer.inlineTokens(m)}}let v=h.slice(2,-2);return{type:"strong",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(t),o=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return r&&o&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:n[0],text:t}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let t,r;return n[2]==="@"?(t=n[1],r="mailto:"+t):(t=n[1],r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let t,r;if(n[2]==="@")t=n[0],r="mailto:"+t;else{let o;do o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(o!==n[0]);t=n[0],n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let t=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:t}}}},gn=class kg{tokens;options;state;inlineQueue;tokenizer;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||wo,this.options.tokenizer=this.options.tokenizer||new Iu,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:gt,block:Cu.normal,inline:ea.normal};this.options.pedantic?(t.block=Cu.pedantic,t.inline=ea.pedantic):this.options.gfm&&(t.block=Cu.gfm,this.options.breaks?t.inline=ea.breaks:t.inline=ea.gfm),this.tokenizer.rules=t}static get rules(){return{block:Cu,inline:ea}}static lex(n,t){return new kg(t).lex(n)}static lexInline(n,t){return new kg(t).inlineTokens(n)}lex(n){n=n.replace(gt.carriageReturn,`
`),this.blockTokens(n,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,t=[],r=!1){for(this.options.pedantic&&(n=n.replace(gt.tabCharGlobal,"    ").replace(gt.spaceLine,""));n;){let o;if(this.options.extensions?.block?.some(s=>(o=s.call({lexer:this},n,t))?(n=n.substring(o.raw.length),t.push(o),!0):!1))continue;if(o=this.tokenizer.space(n)){n=n.substring(o.raw.length);let s=t.at(-1);o.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(o);continue}if(o=this.tokenizer.code(n)){n=n.substring(o.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.at(-1).src=s.text):t.push(o);continue}if(o=this.tokenizer.fences(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.heading(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.hr(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.blockquote(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.list(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.html(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.def(n)){n=n.substring(o.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},t.push(o));continue}if(o=this.tokenizer.table(n)){n=n.substring(o.raw.length),t.push(o);continue}if(o=this.tokenizer.lheading(n)){n=n.substring(o.raw.length),t.push(o);continue}let i=n;if(this.options.extensions?.startBlock){let s=1/0,a=n.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=n.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=t.at(-1);r&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(o),r=i.length!==n.length,n=n.substring(o.raw.length);continue}if(o=this.tokenizer.text(n)){n=n.substring(o.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+o.raw,s.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(o);continue}if(n){let s="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(n,t=[]){return this.inlineQueue.push({src:n,tokens:t}),t}inlineTokens(n,t=[]){let r=n,o=null;if(this.tokens.links){let l=Object.keys(this.tokens.links);if(l.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=o[2]?o[2].length:0,r=r.slice(0,o.index+i)+"["+"a".repeat(o[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let s=!1,a="";for(;n;){s||(a=""),s=!1;let l;if(this.options.extensions?.inline?.some(u=>(l=u.call({lexer:this},n,t))?(n=n.substring(l.raw.length),t.push(l),!0):!1))continue;if(l=this.tokenizer.escape(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.tag(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.link(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(l.raw.length);let u=t.at(-1);l.type==="text"&&u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):t.push(l);continue}if(l=this.tokenizer.emStrong(n,r,a)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.codespan(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.br(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.del(n)){n=n.substring(l.raw.length),t.push(l);continue}if(l=this.tokenizer.autolink(n)){n=n.substring(l.raw.length),t.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(n))){n=n.substring(l.raw.length),t.push(l);continue}let c=n;if(this.options.extensions?.startInline){let u=1/0,h=n.slice(1),v;this.options.extensions.startInline.forEach(m=>{v=m.call({lexer:this},h),typeof v=="number"&&v>=0&&(u=Math.min(u,v))}),u<1/0&&u>=0&&(c=n.substring(0,u+1))}if(l=this.tokenizer.inlineText(c)){n=n.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),s=!0;let u=t.at(-1);u?.type==="text"?(u.raw+=l.raw,u.text+=l.text):t.push(l);continue}if(n){let u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},Su=class{options;parser;constructor(e){this.options=e||wo}space(e){return""}code({text:e,lang:n,escaped:t}){let r=(n||"").match(gt.notSpaceStart)?.[0],o=e.replace(gt.endingNewline,"")+`
`;return r?'<pre><code class="language-'+tr(r)+'">'+(t?o:tr(o,!0))+`</code></pre>
`:"<pre><code>"+(t?o:tr(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,t=e.start,r="";for(let s=0;s<e.items.length;s++){let a=e.items[s];r+=this.listitem(a)}let o=n?"ol":"ul",i=n&&t!==1?' start="'+t+'"':"";return"<"+o+i+`>
`+r+"</"+o+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",t="";for(let o=0;o<e.header.length;o++)t+=this.tablecell(e.header[o]);n+=this.tablerow({text:t});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];t="";for(let s=0;s<i.length;s++)t+=this.tablecell(i[s]);r+=this.tablerow({text:t})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+n+`</${t}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${tr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:t}){let r=this.parser.parseInline(t),o=Qw(e);if(o===null)return r;e=o;let i='<a href="'+e+'"';return n&&(i+=' title="'+tr(n)+'"'),i+=">"+r+"</a>",i}image({href:e,title:n,text:t,tokens:r}){r&&(t=this.parser.parseInline(r,this.parser.textRenderer));let o=Qw(e);if(o===null)return tr(t);e=o;let i=`<img src="${e}" alt="${t}"`;return n&&(i+=` title="${tr(n)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:tr(e.text)}},jg=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},mn=class Tg{options;renderer;textRenderer;constructor(n){this.options=n||wo,this.options.renderer=this.options.renderer||new Su,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jg}static parse(n,t){return new Tg(t).parse(n)}static parseInline(n,t){return new Tg(t).parseInline(n)}parse(n){let t="";for(let r=0;r<n.length;r++){let o=n[r];if(this.options.extensions?.renderers?.[o.type]){let s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){t+=a||"";continue}}let i=o;switch(i.type){case"space":{t+=this.renderer.space(i);break}case"hr":{t+=this.renderer.hr(i);break}case"heading":{t+=this.renderer.heading(i);break}case"code":{t+=this.renderer.code(i);break}case"table":{t+=this.renderer.table(i);break}case"blockquote":{t+=this.renderer.blockquote(i);break}case"list":{t+=this.renderer.list(i);break}case"checkbox":{t+=this.renderer.checkbox(i);break}case"html":{t+=this.renderer.html(i);break}case"def":{t+=this.renderer.def(i);break}case"paragraph":{t+=this.renderer.paragraph(i);break}case"text":{t+=this.renderer.text(i);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return t}parseInline(n,t=this.renderer){let r="";for(let o=0;o<n.length;o++){let i=n[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":{r+=t.text(s);break}case"html":{r+=t.html(s);break}case"link":{r+=t.link(s);break}case"image":{r+=t.image(s);break}case"checkbox":{r+=t.checkbox(s);break}case"strong":{r+=t.strong(s);break}case"em":{r+=t.em(s);break}case"codespan":{r+=t.codespan(s);break}case"br":{r+=t.br(s);break}case"del":{r+=t.del(s);break}case"text":{r+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},na=class{options;block;constructor(e){this.options=e||wo}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?gn.lex:gn.lexInline}provideParser(){return this.block?mn.parse:mn.parseInline}},oA=class{defaults=Ng();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=mn;Renderer=Su;TextRenderer=jg;Lexer=gn;Tokenizer=Iu;Hooks=na;constructor(...e){this.use(...e)}walkTokens(e,n){let t=[];for(let r of e)switch(t=t.concat(n.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)t=t.concat(this.walkTokens(i.tokens,n));for(let i of o.rows)for(let s of i)t=t.concat(this.walkTokens(s.tokens,n));break}case"list":{let o=r;t=t.concat(this.walkTokens(o.items,n));break}default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);t=t.concat(this.walkTokens(s,n))}):o.tokens&&(t=t.concat(this.walkTokens(o.tokens,n)))}}return t}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{let r=E({},t);if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=n.renderers[o.name];i?n.renderers[o.name]=function(...s){let a=o.renderer.apply(this,s);return a===!1&&(a=i.apply(this,s)),a}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=n[o.level];i?i.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),t.renderer){let o=this.defaults.renderer||new Su(this.defaults);for(let i in t.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let s=i,a=t.renderer[s],l=o[s];o[s]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u||""}}r.renderer=o}if(t.tokenizer){let o=this.defaults.tokenizer||new Iu(this.defaults);for(let i in t.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let s=i,a=t.tokenizer[s],l=o[s];o[s]=(...c)=>{let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.tokenizer=o}if(t.hooks){let o=this.defaults.hooks||new na;for(let i in t.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let s=i,a=t.hooks[s],l=o[s];na.passThroughHooks.has(i)?o[s]=c=>{if(this.defaults.async&&na.passThroughHooksRespectAsync.has(i))return(async()=>{let h=await a.call(o,c);return l.call(o,h)})();let u=a.call(o,c);return l.call(o,u)}:o[s]=(...c)=>{if(this.defaults.async)return(async()=>{let h=await a.apply(o,c);return h===!1&&(h=await l.apply(o,c)),h})();let u=a.apply(o,c);return u===!1&&(u=l.apply(o,c)),u}}r.hooks=o}if(t.walkTokens){let o=this.defaults.walkTokens,i=t.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults=E(E({},this.defaults),r)}),this}setOptions(e){return this.defaults=E(E({},this.defaults),e),this}lexer(e,n){return gn.lex(e,n??this.defaults)}parser(e,n){return mn.parse(e,n??this.defaults)}parseMarkdown(e){return(n,t)=>{let r=E({},t),o=E(E({},this.defaults),r),i=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o,o.hooks.block=e),o.async)return(async()=>{let s=o.hooks?await o.hooks.preprocess(n):n,a=await(o.hooks?await o.hooks.provideLexer():e?gn.lex:gn.lexInline)(s,o),l=o.hooks?await o.hooks.processAllTokens(a):a;o.walkTokens&&await Promise.all(this.walkTokens(l,o.walkTokens));let c=await(o.hooks?await o.hooks.provideParser():e?mn.parse:mn.parseInline)(l,o);return o.hooks?await o.hooks.postprocess(c):c})().catch(i);try{o.hooks&&(n=o.hooks.preprocess(n));let s=(o.hooks?o.hooks.provideLexer():e?gn.lex:gn.lexInline)(n,o);o.hooks&&(s=o.hooks.processAllTokens(s)),o.walkTokens&&this.walkTokens(s,o.walkTokens);let a=(o.hooks?o.hooks.provideParser():e?mn.parse:mn.parseInline)(s,o);return o.hooks&&(a=o.hooks.postprocess(a)),a}catch(s){return i(s)}}}onError(e,n){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+tr(t.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(t);throw t}}},_o=new oA;function ce(e,n){return _o.parse(e,n)}ce.options=ce.setOptions=function(e){return _o.setOptions(e),ce.defaults=_o.defaults,Kw(ce.defaults),ce};ce.getDefaults=Ng;ce.defaults=wo;ce.use=function(...e){return _o.use(...e),ce.defaults=_o.defaults,Kw(ce.defaults),ce};ce.walkTokens=function(e,n){return _o.walkTokens(e,n)};ce.parseInline=_o.parseInline;ce.Parser=mn;ce.parser=mn.parse;ce.Renderer=Su;ce.TextRenderer=jg;ce.Lexer=gn;ce.lexer=gn.lex;ce.Tokenizer=Iu;ce.Hooks=na;ce.parse=ce;var y9=ce.options,b9=ce.setOptions,_9=ce.use,w9=ce.walkTokens,E9=ce.parseInline;var D9=mn.parse,C9=gn.lex;var Tu=class e{constructor(n,t){this.sanitizer=n;this.cdr=t}content="";outputType="blog_post";renderedContent="";async ngOnChanges(n){if(n.content&&this.content){let t=await ce.parse(this.content);this.renderedContent=this.sanitizer.sanitize(1,t)||"",this.cdr.detectChanges()}}static \u0275fac=function(t){return new(t||e)(R(Lh),R(he))};static \u0275cmp=W({type:e,selectors:[["app-text-output-viewer"]],inputs:{content:"content",outputType:"outputType"},features:[Nt],decls:4,vars:1,consts:[[1,"rounded-xl","border","border-slate-200","bg-white","dark:border-slate-800","dark:bg-[#111a22]"],[1,"p-6"],[1,"prose","prose-slate","dark:prose-invert","max-w-none","text-white"],[3,"innerHTML"]],template:function(t,r){t&1&&(Q(0,"div",0)(1,"div",1)(2,"div",2),Qo(3,"div",3),j()()()),t&2&&(g(3),Jl("innerHTML",r.renderedContent,xp))},dependencies:[ee],encapsulation:2})};var iA=e=>["/edit-notebook",e],lE=e=>["/edit-notebook",e,"outputs"];function sA(e,n){if(e&1){let t=K();d(0,"button",37),N("click",function(){k(t);let o=w(2);return T(o.downloadMarkdown())}),d(1,"span",22),p(2,"download"),f(),d(3,"span",23),p(4,"Download"),f()()}}function aA(e,n){if(e&1){let t=K();d(0,"button",38),N("click",function(){k(t);let o=w(2);return T(o.expandAll())}),d(1,"span",22),p(2,"unfold_more"),f(),d(3,"span",23),p(4,"Expand All"),f()()}}function lA(e,n){if(e&1){let t=K();d(0,"button",39),N("click",function(){k(t);let o=w(2);return T(o.collapseAll())}),d(1,"span",22),p(2,"unfold_less"),f(),d(3,"span",23),p(4,"Collapse All"),f()()}}function cA(e,n){if(e&1&&Z(0,"app-mindmap-viewer",40),e&2){let t=w(2);b("content",t.output.content)}}function uA(e,n){if(e&1&&Z(0,"app-text-output-viewer",40),e&2){let t=w(2);b("content",t.output.content)}}function dA(e,n){if(e&1&&(d(0,"div")(1,"div",32),p(2,"Completed"),f(),d(3,"div",33),p(4),f()()),e&2){let t=w(2);g(4),q(t.formatDate(t.output.completed_at))}}function fA(e,n){if(e&1&&(d(0,"div")(1,"div",32),p(2,"Prompt"),f(),d(3,"div",41),p(4),f()()),e&2){let t=w(2);g(4),q(t.output.prompt)}}function pA(e,n){if(e&1&&(d(0,"div")(1,"div",32),p(2,"Sources Referenced"),f(),d(3,"div",33),p(4),f()()),e&2){let t=w(2);g(4),A("",t.output.source_references.length," source(s)")}}function hA(e,n){if(e&1){let t=K();d(0,"div",2)(1,"main",3)(2,"div",4)(3,"div",5)(4,"a",6),p(5," All Notebooks "),f(),d(6,"span",7),p(7,"/"),f(),d(8,"a",8),p(9),f(),d(10,"span",7),p(11,"/"),f(),d(12,"a",8),p(13," Outputs "),f(),d(14,"span",7),p(15,"/"),f(),d(16,"span",9),p(17),f()(),d(18,"header",10)(19,"div",11)(20,"h1",12),p(21),f(),d(22,"div",13)(23,"span",14),p(24),f(),d(25,"span",15),p(26),f(),d(27,"span",16),p(28),f()()(),d(29,"div",17),P(30,sA,5,0,"button",18)(31,aA,5,0,"button",19)(32,lA,5,0,"button",20),d(33,"button",21),N("click",function(){k(t);let o=w();return T(o.copyToClipboard())}),d(34,"span",22),p(35,"content_copy"),f(),d(36,"span",23),p(37,"Copy"),f()(),d(38,"button",24)(39,"span",22),p(40,"arrow_back"),f(),d(41,"span",23),p(42,"Back to Outputs"),f()()()(),d(43,"div",25)(44,"div",26),P(45,cA,1,1,"app-mindmap-viewer",27)(46,uA,1,1,"app-text-output-viewer",27),f(),d(47,"div",28)(48,"div",29)(49,"h3",30),p(50," Metadata "),f(),d(51,"div",31)(52,"div")(53,"div",32),p(54,"Created"),f(),d(55,"div",33),p(56),f()(),d(57,"div")(58,"div",32),p(59,"Last Updated"),f(),d(60,"div",33),p(61),f()(),P(62,dA,5,1,"div",34)(63,fA,5,1,"div",34)(64,pA,5,1,"div",34),f()(),d(65,"div",29)(66,"div",35)(67,"button",36),N("click",function(){k(t);let o=w();return T(o.deleteOutput())}),d(68,"span",22),p(69,"delete"),f(),d(70,"span",23),p(71,"Delete Output"),f()()()()()()()()()}if(e&2){let t=w();g(8),b("routerLink",ve(20,iA,t.notebook.id)),g(),A(" ",t.notebook.name," "),g(3),b("routerLink",ve(22,lE,t.notebook.id)),g(5),q(t.output.title),g(4),A(" ",t.output.title),g(2),b("ngClass",t.getStatusClass(t.output.status)),g(),A(" ",t.output.status," "),g(2),A(" ",t.output.output_type," "),g(2),A(" ",t.output.word_count," words "),g(2),b("ngIf",t.output.output_type==="mind_map"),g(),b("ngIf",t.output.output_type==="mind_map"),g(),b("ngIf",t.output.output_type==="mind_map"),g(6),b("routerLink",ve(24,lE,t.notebook.id)),g(7),b("ngIf",t.output.output_type==="mind_map"),g(),b("ngIf",t.output.output_type!=="mind_map"),g(10),q(t.formatDate(t.output.created_at)),g(5),q(t.formatDate(t.output.updated_at)),g(),b("ngIf",t.output.completed_at),g(),b("ngIf",t.output.prompt),g(),b("ngIf",t.output.source_references&&t.output.source_references.length>0)}}function gA(e,n){e&1&&(d(0,"div",42),Z(1,"app-loading",43),f())}var Nu=class e{route=y(oe);router=y(te);outputService=y(An);notebookService=y(qe);cdr=y(he);mindmapViewer;output=null;notebook=null;notebookId=null;outputId=null;isLoading=!0;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.outputId=this.route.snapshot.paramMap.get("outputId"),this.outputId&&this.loadOutput(this.outputId)}deleteOutput(){this.output&&confirm(`Are you sure you want to delete output "${this.output.title}"?`)&&this.outputId&&this.outputService.deleteOutput(this.outputId).subscribe({next:()=>{this.router.navigate(["/edit-notebook",this.notebookId,"outputs"])},error:n=>{console.error("Error deleting output",n),alert("Failed to delete output")}})}copyToClipboard(){this.output?.content&&navigator.clipboard.writeText(this.output.content).then(()=>{alert("Content copied to clipboard!")}).catch(n=>{console.error("Failed to copy content",n),alert("Failed to copy content")})}downloadMarkdown(){if(!this.output?.content)return;let n=new Blob([this.output.content],{type:"text/markdown"}),t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=`${this.output.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}-${Date.now()}.md`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}expandAll(){this.mindmapViewer&&this.mindmapViewer.expandAll()}collapseAll(){this.mindmapViewer&&this.mindmapViewer.collapseAll()}getStatusClass(n){let t={draft:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",generating:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",completed:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",failed:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t[n]||t.draft}formatDate(n){return new Date(n).toLocaleString()}loadOutput(n){this.isLoading=!0,this.outputService.getOutput(n).subscribe({next:t=>{this.output=t,console.log("Output loaded:",{type:t.output_type,contentLength:t.content?.length}),this.notebookService.getNotebook(t.notebook_id).subscribe({next:r=>{this.notebook=r,this.isLoading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error loading notebook",r),this.isLoading=!1,this.cdr.detectChanges()}})},error:t=>{console.error("Error loading output",t),this.isLoading=!1,this.cdr.detectChanges()}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-view-output"]],viewQuery:function(t,r){if(t&1&&no(Xs,5),t&2){let o;br(o=_r())&&(r.mindmapViewer=o.first)}},decls:2,vars:2,consts:[["class","flex h-screen",4,"ngIf"],["class","flex h-screen items-center justify-center",4,"ngIf"],[1,"flex","h-screen"],[1,"flex-1","overflow-y-auto"],[1,"mx-auto","max-w-7xl","px-4","py-8","sm:px-6","lg:px-8"],[1,"flex","flex-wrap","gap-2","pb-4"],["routerLink","/list-notebooks",1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary"],[1,"text-slate-400","dark:text-[#92adc9]","text-base","font-medium","leading-normal"],[1,"text-slate-500","dark:text-[#92adc9]","text-base","font-medium","leading-normal","hover:text-primary",3,"routerLink"],[1,"text-slate-800","dark:text-white","text-base","font-medium","leading-normal"],[1,"flex","flex-wrap","items-start","justify-between","gap-4","pb-8"],[1,"flex","min-w-72","flex-col","gap-2"],[1,"text-slate-900","dark:text-white","text-4xl","font-black","leading-tight","tracking-[-0.033em]"],[1,"flex","items-center","gap-2"],[1,"rounded-md","px-2","py-1","text-xs","font-medium",3,"ngClass"],[1,"rounded-md","bg-slate-100","px-2","py-1","text-xs","font-medium","text-slate-700","dark:bg-slate-800","dark:text-slate-300"],[1,"text-slate-500","dark:text-[#92adc9]","text-sm"],[1,"flex","items-center","gap-3"],["class","flex h-10 items-center justify-center gap-2 rounded-lg px-4 bg-green-600 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-green-700",3,"click",4,"ngIf"],["class","flex h-10 items-center justify-center gap-2 rounded-lg px-4 bg-blue-600 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-blue-700",3,"click",4,"ngIf"],["class","flex h-10 items-center justify-center gap-2 rounded-lg px-4 bg-purple-600 text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-purple-700",3,"click",4,"ngIf"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-slate-200","text-slate-800","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-300","dark:bg-slate-800","dark:text-white","dark:hover:bg-slate-700",3,"click"],[1,"material-symbols-outlined"],[1,"truncate"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-slate-200","text-slate-800","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-slate-300","dark:bg-slate-800","dark:text-white","dark:hover:bg-slate-700",3,"routerLink"],[1,"grid","grid-cols-1","gap-8","lg:grid-cols-3"],[1,"lg:col-span-2"],[3,"content",4,"ngIf"],[1,"flex","flex-col","gap-6","lg:col-span-1"],[1,"rounded-xl","border","border-slate-200","bg-white","p-4","dark:border-slate-800","dark:bg-[#111a22]"],[1,"text-slate-900","dark:text-white","text-lg","font-bold","leading-tight","tracking-[-0.015em]","mb-4"],[1,"flex","flex-col","gap-3"],[1,"text-xs","text-slate-500","dark:text-slate-400","uppercase","font-medium","mb-1"],[1,"text-sm","text-slate-700","dark:text-slate-300"],[4,"ngIf"],[1,"flex","flex-col","gap-4"],[1,"flex","w-full","cursor-pointer","items-center","justify-center","gap-2","overflow-hidden","rounded-lg","h-10","px-4","bg-red-500","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-red-600",3,"click"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-green-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-green-700",3,"click"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-blue-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-blue-700",3,"click"],[1,"flex","h-10","items-center","justify-center","gap-2","rounded-lg","px-4","bg-purple-600","text-white","text-sm","font-bold","leading-normal","tracking-[0.015em]","hover:bg-purple-700",3,"click"],[3,"content"],[1,"text-sm","text-slate-700","dark:text-slate-300","italic"],[1,"flex","h-screen","items-center","justify-center"],["size","large","message","Loading output..."]],template:function(t,r){t&1&&P(0,hA,72,26,"div",0)(1,gA,2,0,"div",1),t&2&&(b("ngIf",!r.isLoading&&r.output&&r.notebook),g(),b("ngIf",r.isLoading))},dependencies:[ee,Zn,ye,Ae,st,We,Xs,Tu],styles:["svg[_ngcontent-%COMP%]     .markmap-link{stroke:#adadad!important;stroke-width:1px!important}svg[_ngcontent-%COMP%]     .markmap-node text{fill:#000!important}svg[_ngcontent-%COMP%]     .markmap-node circle{stroke:#adadad!important;stroke-width:1px!important}"]})};var Au=class e{httpClient=y(at);baseEndpoint="api/notebooks";generateMindMap(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/mindmap`,t)}getMindMapViewerUrl(n){return`/api/notebooks/${n}/mindmap/viewer`}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};function mA(e,n){e&1&&(d(0,"span"),p(1,"Generate Mind Map"),f())}function vA(e,n){e&1&&(d(0,"span"),p(1,"Generating..."),f())}function yA(e,n){e&1&&(d(0,"div",18),Z(1,"app-loading",19),f()),e&2&&(g(),b("message","Generating mind map from your notebook content..."))}function bA(e,n){e&1&&(d(0,"span"),qr(),d(1,"svg",31),Z(2,"path",35),f(),p(3," Save as Output "),f())}function _A(e,n){e&1&&(d(0,"span"),p(1,"Saving..."),f())}function wA(e,n){if(e&1){let t=K();d(0,"div",20)(1,"div",21)(2,"div",22)(3,"div",23),p(4),f(),d(5,"div",24),p(6,"Processing Time"),f()(),d(7,"div",22)(8,"div",25),p(9),f(),d(10,"div",24),p(11,"Confidence"),f()(),d(12,"div",22)(13,"div",26),p(14),f(),d(15,"div",24),p(16,"Sources Used"),f()()(),d(17,"div")(18,"h2",27),p(19,"Mind Map Preview"),f(),d(20,"div",28)(21,"pre",29),p(22),f()()(),d(23,"div",30)(24,"button",6),N("click",function(){k(t);let o=w();return T(o.onDownloadMarkdown())}),qr(),d(25,"svg",31),Z(26,"path",32),f(),p(27," Download Markdown "),f(),Bo(),d(28,"button",33),N("click",function(){k(t);let o=w();return T(o.onSaveAsOutput())}),P(29,bA,4,0,"span",15)(30,_A,2,0,"span",15),f(),d(31,"button",34),N("click",function(){k(t);let o=w();return T(o.onBackToNotebook())}),p(32," Back to Notebook "),f()()()}if(e&2){let t=w();g(4),A(" ",t.generatedMindMap.processing_time_ms,"ms "),g(5),A(" ",(t.generatedMindMap.confidence_score*100).toFixed(1),"% "),g(5),A(" ",t.generatedMindMap.sources.length," "),g(8),q(t.generatedMindMap.markdown_outline),g(6),b("disabled",t.isSavingOutput),g(),b("ngIf",!t.isSavingOutput),g(),b("ngIf",t.isSavingOutput)}}var Ru=class e{route=y(oe);router=y(te);mindmapService=y(Au);outputService=y(An);cdr=y(he);notebookId=null;prompt="";maxSources=10;isGenerating=!1;generatedMindMap=null;isSavingOutput=!1;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId||(console.error("No notebook ID provided"),this.router.navigate(["/list-notebooks"]))}onGenerate(){if(!this.notebookId||!this.prompt.trim())return;this.isGenerating=!0,this.generatedMindMap=null;let n={prompt:this.prompt,max_sources:this.maxSources,temperature:.4,max_tokens:2e3};this.mindmapService.generateMindMap(this.notebookId,n).subscribe({next:t=>{this.generatedMindMap=t,this.isGenerating=!1,this.cdr.detectChanges()},error:t=>{console.error("Error generating mindmap",t),this.isGenerating=!1,this.cdr.detectChanges(),alert("Failed to generate mindmap. Please ensure the notebook has ingested sources and try again.")}})}onSaveAsOutput(){if(!this.notebookId||!this.generatedMindMap)return;this.isSavingOutput=!0;let n={title:`Mind Map: ${this.prompt.substring(0,50)}`,output_type:"mind_map",prompt:this.generatedMindMap.prompt};this.outputService.createOutput(this.notebookId,n).subscribe({next:t=>{let r={content:this.generatedMindMap.markdown_outline};this.outputService.updateOutput(t.id,r).subscribe({next:o=>{this.isSavingOutput=!1,this.cdr.detectChanges(),this.router.navigate(["/edit-notebook",this.notebookId,"outputs",o.id])},error:o=>{console.error("Error updating output content",o),this.isSavingOutput=!1,this.cdr.detectChanges(),alert("Failed to save mindmap content")}})},error:t=>{console.error("Error creating output",t),this.isSavingOutput=!1,this.cdr.detectChanges(),alert("Failed to create mindmap output")}})}onDownloadMarkdown(){if(!this.generatedMindMap)return;let n=new Blob([this.generatedMindMap.markdown_outline],{type:"text/markdown"}),t=URL.createObjectURL(n),r=document.createElement("a");r.href=t,r.download=`mindmap-${Date.now()}.md`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}onCancel(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}onBackToNotebook(){this.notebookId?this.router.navigate(["/edit-notebook",this.notebookId]):this.router.navigate(["/list-notebooks"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-new-mindmap"]],decls:31,vars:9,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900"],[1,"max-w-4xl","mx-auto","p-6"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","p-6","mb-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],[1,"px-4","py-2","text-sm","font-medium","text-gray-700","dark:text-gray-300","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-md","hover:bg-gray-50","dark:hover:bg-gray-600",3,"click"],[1,"space-y-4"],["for","prompt",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["id","prompt","rows","3","placeholder","Enter a prompt or question to generate a mind map (e.g., 'Summarize the key concepts about...')",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel","disabled"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],["for","maxSources",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],["type","number","id","maxSources","min","1","max","50",1,"w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","shadow-sm","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel","disabled"],[1,"flex","justify-end"],[1,"px-6","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12",4,"ngIf"],["class","bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 space-y-6",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","p-12"],[3,"message"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","p-6","space-y-6"],[1,"grid","grid-cols-3","gap-4","pb-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-center"],[1,"text-2xl","font-bold","text-blue-600","dark:text-blue-400"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"text-2xl","font-bold","text-green-600","dark:text-green-400"],[1,"text-2xl","font-bold","text-purple-600","dark:text-purple-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-4"],[1,"bg-gray-50","dark:bg-gray-900","rounded-lg","p-4","max-h-96","overflow-y-auto"],[1,"text-sm","text-gray-800","dark:text-gray-200","whitespace-pre-wrap","font-mono"],[1,"flex","gap-3","justify-end","pt-4","border-t","border-gray-200","dark:border-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"inline-block","w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-green-600","rounded-md","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-green-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"]],template:function(t,r){t&1&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),p(6,"Generate Mind Map"),f(),d(7,"p",5),p(8," Create a visual mind map from your notebook content using AI "),f()(),d(9,"button",6),N("click",function(){return r.onCancel()}),p(10," Cancel "),f()()(),d(11,"div",2)(12,"div",7)(13,"div")(14,"label",8),p(15," Prompt or Question * "),f(),d(16,"textarea",9),Ee("ngModelChange",function(i){return Ie(r.prompt,i)||(r.prompt=i),i}),f(),d(17,"p",10),p(18," This prompt will be used to search your notebook content and generate a structured outline. "),f()(),d(19,"div")(20,"label",11),p(21," Maximum Sources "),f(),d(22,"input",12),Ee("ngModelChange",function(i){return Ie(r.maxSources,i)||(r.maxSources=i),i}),f(),d(23,"p",10),p(24," Number of content chunks to use from your notebook (1-50) "),f()(),d(25,"div",13)(26,"button",14),N("click",function(){return r.onGenerate()}),P(27,mA,2,0,"span",15)(28,vA,2,0,"span",15),f()()()(),P(29,yA,2,1,"div",16)(30,wA,33,7,"div",17),f()()),t&2&&(g(16),we("ngModel",r.prompt),b("disabled",r.isGenerating),g(6),we("ngModel",r.maxSources),b("disabled",r.isGenerating),g(4),b("disabled",!r.prompt.trim()||r.isGenerating),g(),b("ngIf",!r.isGenerating),g(),b("ngIf",r.isGenerating),g(),b("ngIf",r.isGenerating),g(),b("ngIf",r.generatedMindMap&&!r.isGenerating))},dependencies:[ee,ye,St,lt,Eg,It,Sg,Ig,ht,Ae,We],encapsulation:2})};var Ou=class e{httpClient=y(at);baseEndpoint="api/notebooks";askQuestion(n,t){return this.httpClient.post(`${this.baseEndpoint}/${n}/qa`,t)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var EA=["messagesContainer"],DA=(e,n)=>({"flex justify-end":e,"flex justify-start":n});function CA(e,n){if(e&1&&(d(0,"div",29)(1,"p",30),p(2),f(),d(3,"p",31),p(4),ro(5,"date"),f()()),e&2){let t=w().$implicit;g(2),q(t.content),g(2),A(" ",oo(5,2,t.timestamp,"short")," ")}}function xA(e,n){if(e&1&&(d(0,"div",35)(1,"div",36),Z(2,"div",37)(3,"div",38)(4,"div",39),f(),d(5,"span",40),p(6),f()()),e&2){let t=w(2).$implicit;g(6),q(t.content)}}function IA(e,n){if(e&1){let t=K();d(0,"button",59),N("click",function(){k(t);let o=w().$implicit,i=w(7);return T(i.openSourceLink(o.source_id))}),p(1),f()}if(e&2){let t=w(),r=t.$implicit,o=t.index;g(),A(" ",r.source_name||"Source "+(o+1)," ")}}function SA(e,n){if(e&1&&(d(0,"span",60),p(1),f()),e&2){let t=w(),r=t.$implicit,o=t.index;g(),A(" ",r.source_name||"Source "+(o+1)," ")}}function MA(e,n){if(e&1&&(d(0,"span",61),p(1),f()),e&2){let t=w().$implicit;g(),A(" ",t.source_type," ")}}function kA(e,n){if(e&1&&(d(0,"div",50)(1,"div",51)(2,"div",52)(3,"span",53),p(4,"source"),f(),d(5,"div",20),P(6,IA,2,1,"button",54)(7,SA,2,1,"span",55),d(8,"div",56),P(9,MA,2,1,"span",57),d(10,"span"),p(11),ro(12,"number"),f()()()()(),d(13,"p",58),p(14),f()()),e&2){let t=n.$implicit;g(6),b("ngIf",t.source_id),g(),b("ngIf",!t.source_id),g(2),b("ngIf",t.source_type),g(2),A("Relevance: ",oo(12,5,t.relevance_score*100,"1.0-0"),"%"),g(3),A(" ",t.text," ")}}function TA(e,n){if(e&1&&(d(0,"div",48),P(1,kA,15,8,"div",49),f()),e&2){let t=w(4).$implicit;g(),b("ngForOf",t.sources)}}function NA(e,n){if(e&1){let t=K();d(0,"div",44)(1,"button",45),N("click",function(){k(t);let o=w(3).$implicit,i=w(2);return T(i.toggleSources(o))}),d(2,"span"),p(3),f(),d(4,"span",46),p(5," expand_more "),f()(),P(6,TA,2,1,"div",47),f()}if(e&2){let t=w(3).$implicit;g(3),A("Related Sources (",t.sources.length,")"),g(),Rt("rotate-180",t.showSources),g(2),b("ngIf",t.showSources)}}function AA(e,n){if(e&1&&(d(0,"div")(1,"p",41),p(2),f(),P(3,NA,7,4,"div",42),d(4,"p",43),p(5),ro(6,"date"),f()()),e&2){let t=w(2).$implicit;g(2),A(" ",t.content," "),g(),b("ngIf",t.sources&&t.sources.length>0),g(2),A(" ",oo(6,3,t.timestamp,"short")," ")}}function RA(e,n){if(e&1&&(d(0,"div",32),P(1,xA,7,1,"div",33)(2,AA,7,6,"div",34),f()),e&2){let t=w().$implicit;g(),b("ngIf",t.isLoading),g(),b("ngIf",!t.isLoading)}}function OA(e,n){if(e&1&&(d(0,"div",26),P(1,CA,6,5,"div",27)(2,RA,3,2,"div",28),f()),e&2){let t=n.$implicit;b("ngClass",eh(3,DA,t.role==="user",t.role==="assistant")),g(),b("ngIf",t.role==="user"),g(),b("ngIf",t.role==="assistant")}}function PA(e,n){e&1&&(d(0,"div",62)(1,"span",63),p(2,"chat"),f(),d(3,"p",64),p(4," No messages yet. Start a conversation! "),f()())}function FA(e,n){e&1&&(d(0,"span",8),p(1,"send"),f())}function LA(e,n){e&1&&(d(0,"span",65),p(1,"progress_activity"),f())}function VA(e,n){if(e&1){let t=K();d(0,"div",3)(1,"header",4)(2,"div",5)(3,"div",6)(4,"button",7),N("click",function(){k(t);let o=w();return T(o.backToNotebook())}),d(5,"span",8),p(6,"arrow_back"),f()(),d(7,"div")(8,"h1",9),p(9),f(),d(10,"p",10),p(11),f()()(),d(12,"button",11),N("click",function(){k(t);let o=w();return T(o.clearChat())}),d(13,"span",12),p(14,"delete_sweep"),f(),p(15," Clear Chat "),f()()(),d(16,"div",13,0)(18,"div",14),P(19,OA,3,6,"div",15)(20,PA,5,0,"div",16),f()(),d(21,"div",17)(22,"div",18)(23,"form",19),N("submit",function(){k(t);let o=w();return T(o.askQuestion())}),d(24,"div",20)(25,"textarea",21),Ee("ngModelChange",function(o){k(t);let i=w();return Ie(i.currentQuestion,o)||(i.currentQuestion=o),T(o)}),N("keypress",function(o){k(t);let i=w();return T(i.handleKeyPress(o))}),f()(),d(26,"button",22),P(27,FA,2,0,"span",23)(28,LA,2,0,"span",24),f()(),d(29,"p",25),p(30," Press Enter to send, Shift+Enter for new line "),f()()()()}if(e&2){let t=w();g(9),A(" Chat with ",t.notebook.name," "),g(2),A(" Ask questions about your ",t.sources.length," source(s) "),g(8),b("ngForOf",t.messages),g(),b("ngIf",t.messages.length===0),g(5),we("ngModel",t.currentQuestion),b("disabled",t.isProcessing),g(),b("disabled",!t.currentQuestion.trim()||t.isProcessing),g(),b("ngIf",!t.isProcessing),g(),b("ngIf",t.isProcessing)}}function jA(e,n){e&1&&(d(0,"div",66),Z(1,"app-loading",67),f())}var Pu=class e{messagesContainer;route=y(oe);router=y(te);qaService=y(Ou);notebookService=y(qe);sourceService=y(xt);cdr=y(he);notebook=null;sources=[];notebookId=null;isLoading=!0;messages=[];currentQuestion="";isProcessing=!1;ngOnInit(){this.notebookId=this.route.snapshot.paramMap.get("id"),this.notebookId&&this.loadNotebookData(this.notebookId)}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){try{this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch{}}loadNotebookData(n){this.isLoading=!0,this.notebookService.getNotebook(n).subscribe({next:t=>{this.notebook=t,this.loadSources(n)},error:t=>{console.error("Error loading notebook",t),this.isLoading=!1,alert("Failed to load notebook")}})}loadSources(n){this.sourceService.listSourcesByNotebook({notebook_id:n}).subscribe({next:t=>{this.sources=t.sources,this.isLoading=!1,this.cdr.detectChanges(),this.messages.length===0&&this.addAssistantMessage(`Hello! I'm your research assistant for "${this.notebook?.name}". I can help you explore and understand the ${this.sources.length} source(s) you've added to this notebook. What would you like to know?`,[])},error:t=>{console.error("Error loading sources",t),this.isLoading=!1}})}askQuestion(){if(!this.currentQuestion.trim()||this.isProcessing||!this.notebookId)return;let n=this.currentQuestion.trim();this.currentQuestion="",this.addUserMessage(n);let t=this.addLoadingMessage();this.isProcessing=!0,this.qaService.askQuestion(this.notebookId,{question:n,max_sources:5,temperature:.3,max_tokens:1500}).subscribe({next:r=>{this.removeLoadingMessage(t),this.addAssistantMessage(r.answer,r.sources),this.isProcessing=!1,this.cdr.detectChanges()},error:r=>{console.error("Error asking question",r),this.removeLoadingMessage(t),this.addAssistantMessage("Sorry, I encountered an error while processing your question. Please try again.",[]),this.isProcessing=!1,this.cdr.detectChanges()}})}addUserMessage(n){let t={id:this.generateId(),role:"user",content:n,timestamp:new Date};this.messages.push(t),this.cdr.detectChanges()}addAssistantMessage(n,t){let r={id:this.generateId(),role:"assistant",content:n,sources:t,timestamp:new Date,showSources:!1};this.messages.push(r),this.cdr.detectChanges()}toggleSources(n){n.showSources=!n.showSources,this.cdr.detectChanges()}addLoadingMessage(){let n=this.generateId(),t={id:n,role:"assistant",content:"Thinking...",timestamp:new Date,isLoading:!0};return this.messages.push(t),this.cdr.detectChanges(),n}removeLoadingMessage(n){let t=this.messages.findIndex(r=>r.id===n);t!==-1&&this.messages.splice(t,1)}generateId(){return`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}openSourceLink(n){if(!n)return;let t=this.sources.find(r=>r.id===n);t&&t.source_type==="url"&&t.url?window.open(t.url,"_blank"):alert("Source link not available")}getSourceName(n){return n&&this.sources.find(r=>r.id===n)?.name||"Unknown Source"}clearChat(){confirm("Are you sure you want to clear the chat history?")&&(this.messages=[],this.notebook&&this.addAssistantMessage(`Chat cleared. I'm ready to help you explore "${this.notebook.name}" again. What would you like to know?`,[]))}handleKeyPress(n){n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),this.askQuestion())}backToNotebook(){this.notebookId&&this.router.navigate(["/edit-notebook",this.notebookId])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-chat"]],viewQuery:function(t,r){if(t&1&&no(EA,5),t&2){let o;br(o=_r())&&(r.messagesContainer=o.first)}},decls:2,vars:2,consts:[["messagesContainer",""],["class","flex h-screen flex-col bg-slate-50 dark:bg-[#0e141b]",4,"ngIf"],["class","flex h-screen items-center justify-center",4,"ngIf"],[1,"flex","h-screen","flex-col","bg-slate-50","dark:bg-[#0e141b]"],[1,"border-b","border-slate-200","bg-white","px-4","py-4","dark:border-slate-800","dark:bg-[#111a22]"],[1,"mx-auto","flex","max-w-5xl","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"flex","h-10","w-10","items-center","justify-center","rounded-lg","text-slate-600","hover:bg-slate-100","dark:text-slate-400","dark:hover:bg-slate-800",3,"click"],[1,"material-symbols-outlined"],[1,"text-xl","font-bold","text-slate-900","dark:text-white"],[1,"text-sm","text-slate-500","dark:text-slate-400"],[1,"flex","items-center","gap-2","rounded-lg","px-4","py-2","text-sm","font-medium","text-slate-600","hover:bg-slate-100","dark:text-slate-400","dark:hover:bg-slate-800",3,"click"],[1,"material-symbols-outlined","text-lg"],[1,"flex-1","overflow-y-auto","px-4","py-6"],[1,"mx-auto","max-w-5xl","space-y-6"],[3,"ngClass",4,"ngFor","ngForOf"],["class","py-12 text-center",4,"ngIf"],[1,"border-t","border-slate-200","bg-white","px-4","py-4","dark:border-slate-800","dark:bg-[#111a22]"],[1,"mx-auto","max-w-5xl"],[1,"flex","gap-3",3,"submit"],[1,"flex-1"],["name","question","placeholder","Ask a question about your notebook sources...","rows","1",1,"w-full","resize-none","rounded-lg","border","border-slate-300","bg-slate-50","px-4","py-3","text-sm","text-slate-900","placeholder-slate-500","focus:border-primary","focus:outline-none","focus:ring-2","focus:ring-primary/20","disabled:opacity-50","dark:border-slate-700","dark:bg-slate-900","dark:text-white","dark:placeholder-slate-400",3,"ngModelChange","keypress","ngModel","disabled"],["type","submit",1,"flex","h-12","w-12","shrink-0","items-center","justify-center","rounded-lg","bg-primary","text-white","hover:bg-primary/90","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],["class","material-symbols-outlined",4,"ngIf"],["class","material-symbols-outlined animate-spin",4,"ngIf"],[1,"mt-2","text-xs","text-slate-500","dark:text-slate-400"],[3,"ngClass"],["class","max-w-[80%] rounded-2xl bg-primary px-4 py-3 text-white",4,"ngIf"],["class","max-w-[85%] rounded-2xl bg-white px-4 py-3 shadow-sm dark:bg-[#111a22]",4,"ngIf"],[1,"max-w-[80%]","rounded-2xl","bg-primary","px-4","py-3","text-white"],[1,"whitespace-pre-wrap","text-sm","leading-relaxed"],[1,"mt-1","text-xs","opacity-75"],[1,"max-w-[85%]","rounded-2xl","bg-white","px-4","py-3","shadow-sm","dark:bg-[#111a22]"],["class","flex items-center gap-2 text-slate-600 dark:text-slate-400",4,"ngIf"],[4,"ngIf"],[1,"flex","items-center","gap-2","text-slate-600","dark:text-slate-400"],[1,"flex","gap-1"],[1,"h-2","w-2","animate-pulse","rounded-full","bg-slate-400"],[1,"h-2","w-2","animate-pulse","rounded-full","bg-slate-400",2,"animation-delay","0.2s"],[1,"h-2","w-2","animate-pulse","rounded-full","bg-slate-400",2,"animation-delay","0.4s"],[1,"text-sm"],[1,"whitespace-pre-wrap","text-sm","leading-relaxed","text-slate-800","dark:text-slate-200"],["class","mt-4 border-t border-slate-200 pt-3 dark:border-slate-700",4,"ngIf"],[1,"mt-2","text-xs","text-slate-500"],[1,"mt-4","border-t","border-slate-200","pt-3","dark:border-slate-700"],[1,"mb-2","flex","w-full","items-center","justify-between","rounded-lg","px-2","py-1.5","text-xs","font-semibold","uppercase","text-slate-600","hover:bg-slate-100","dark:text-slate-400","dark:hover:bg-slate-800",3,"click"],[1,"material-symbols-outlined","text-base","transition-transform"],["class","space-y-2",4,"ngIf"],[1,"space-y-2"],["class","rounded-lg border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-900/50",4,"ngFor","ngForOf"],[1,"rounded-lg","border","border-slate-200","bg-slate-50","p-3","dark:border-slate-700","dark:bg-slate-900/50"],[1,"mb-2","flex","items-start","justify-between","gap-2"],[1,"flex","items-start","gap-2"],[1,"material-symbols-outlined","text-sm","text-slate-500"],["class","text-left text-sm font-medium text-primary hover:underline",3,"click",4,"ngIf"],["class","text-sm font-medium text-slate-700 dark:text-slate-300",4,"ngIf"],[1,"mt-1","flex","items-center","gap-2","text-xs","text-slate-500"],["class","rounded bg-slate-200 px-1.5 py-0.5 dark:bg-slate-800",4,"ngIf"],[1,"text-xs","leading-relaxed","text-slate-600","dark:text-slate-400","line-clamp-3"],[1,"text-left","text-sm","font-medium","text-primary","hover:underline",3,"click"],[1,"text-sm","font-medium","text-slate-700","dark:text-slate-300"],[1,"rounded","bg-slate-200","px-1.5","py-0.5","dark:bg-slate-800"],[1,"py-12","text-center"],[1,"material-symbols-outlined","text-6xl","text-slate-300","dark:text-slate-700"],[1,"mt-4","text-slate-500","dark:text-slate-400"],[1,"material-symbols-outlined","animate-spin"],[1,"flex","h-screen","items-center","justify-center"],["size","large","message","Loading chat..."]],template:function(t,r){t&1&&P(0,VA,31,9,"div",1)(1,jA,2,0,"div",2),t&2&&(b("ngIf",!r.isLoading&&r.notebook),g(),b("ngIf",r.isLoading))},dependencies:[ee,Zn,Qt,ye,St,Kt,lt,It,Yt,ht,hn,Ae,We,wh,Es],styles:[".line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.transition-transform[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.6,1) infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}"]})};var cE=[{path:"",component:mo},{path:"list-notebooks",component:mo},{path:"edit-notebook/:id",component:tu},{path:"edit-notebook/:id/add-text-source",component:yu},{path:"edit-notebook/:id/add-url-source",component:bu},{path:"edit-notebook/:id/add-pdf-source",component:_u},{path:"edit-notebook/:id/sync",component:wu},{path:"edit-notebook/:id/new-blog-post",component:Eu},{path:"edit-notebook/:id/new-mindmap",component:Ru},{path:"edit-notebook/:id/outputs",component:Du},{path:"edit-notebook/:id/outputs/:outputId",component:Nu},{path:"edit-notebook/:id/chat",component:Pu},{path:"new-notebook",component:vu}];var uE=class e{httpClient=y(at);searchArticles(n){return this.httpClient.post("articles/search",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var dE=(e,n)=>n.id,BA=(e,n)=>n.chunk_index;function $A(e,n){if(e&1&&(Q(0,"div",3),p(1),j()),e&2){let t=w();g(),Xl(" Created: ",t.createdNotebook().name," (",t.createdNotebook().id,") ")}}function UA(e,n){e&1&&(Q(0,"div",5),p(1,"Loading..."),j())}function HA(e,n){if(e&1&&(Q(0,"div",13)(1,"strong"),p(2),j(),Q(3,"span",14),p(4),j()()),e&2){let t=n.$implicit;g(2),q(t.name),g(2),q(t.source_type)}}function zA(e,n){if(e&1&&(Q(0,"div",12)(1,"h5"),p(2),j(),eo(3,HA,5,2,"div",13,dE),j()),e&2){let t=w().$implicit;g(2),A("Sources (",t.sources.length,")"),g(),to(t.sources)}}function GA(e,n){if(e&1){let t=K();Q(0,"div",7)(1,"h4"),p(2),j(),Q(3,"p"),p(4),j(),Q(5,"div",10)(6,"span"),p(7),j(),Q(8,"span"),p(9),j(),Q(10,"span"),p(11),j()(),Q(12,"div",11)(13,"button",2),yr("click",function(){let o=k(t).$implicit,i=w();return T(i.loadNotebookSources(o.id))}),p(14," Load Sources "),j(),Q(15,"button",2),yr("click",function(){let o=k(t).$implicit,i=w();return T(i.askQuestion(o.id))}),p(16," Ask Question "),j(),Q(17,"button",2),yr("click",function(){let o=k(t).$implicit,i=w();return T(i.deleteNotebook(o.id))}),p(18," Delete "),j()(),qn(19,zA,5,1,"div",12),j()}if(e&2){let t=n.$implicit;g(2),q(t.name),g(2),q(t.description),g(3),A("Sources: ",t.source_count),g(2),A("Outputs: ",t.output_count),g(2),A("Tags: ",t.tags.join(", ")),g(8),Wn(t.sources?19:-1)}}function qA(e,n){if(e&1&&(Q(0,"div",16)(1,"p"),p(2),j(),Q(3,"small"),p(4),j()()),e&2){let t=n.$implicit;g(2),A("",t.text.substring(0,100),"..."),g(2),A("Relevance: ",t.relevance_score)}}function WA(e,n){if(e&1&&(Q(0,"section",8)(1,"h3"),p(2,"QA Answer"),j(),Q(3,"div",15)(4,"p")(5,"strong"),p(6,"Question:"),j(),p(7),j(),Q(8,"p")(9,"strong"),p(10,"Answer:"),j(),p(11),j(),Q(12,"p")(13,"strong"),p(14,"Confidence:"),j(),p(15),j(),Q(16,"div",12)(17,"h4"),p(18,"Sources Used:"),j(),eo(19,qA,5,2,"div",16,BA),j()()()),e&2){let t=w();g(7),A(" ",t.qaAnswer().question),g(4),A(" ",t.qaAnswer().answer),g(4),A(" ",t.qaAnswer().confidence_score),g(4),to(t.qaAnswer().sources)}}function QA(e,n){if(e&1&&(Q(0,"div",9),p(1),j()),e&2){let t=w();g(),A(" Error: ",t.error()," ")}}var Fu=class e{notebookApi=y(qe);sourceApi=y(xt);outputApi=y(An);vectorApi=y(vi);notebooks=Ne([]);createdNotebook=Ne(null);qaAnswer=Ne(null);loading=Ne(!1);error=Ne(null);ngOnInit(){this.loadNotebooks()}createExampleNotebook(){let n={name:`Research Notebook ${Date.now()}`,description:"An example notebook created from the demo",tags:["example","demo","clean-architecture"]};this.loading.set(!0),this.error.set(null),this.notebookApi.createNotebook(n).pipe(_e(t=>{this.createdNotebook.set(t),console.log("Created notebook:",t)}),Se(t=>(this.error.set(t.message),L(null)))).subscribe(()=>{this.loading.set(!1),this.loadNotebooks()})}loadNotebooks(){this.loading.set(!0),this.error.set(null),this.notebookApi.listNotebooks({sort_by:"updated_at",sort_order:"desc",limit:10}).pipe(_e(n=>{console.log("Loaded notebooks:",n.total)}),X(n=>n.notebooks),Se(n=>(this.error.set(n.message),L([])))).subscribe(n=>{this.notebooks.set(n),this.loading.set(!1)})}loadNotebookSources(n){this.sourceApi.listSourcesByNotebook({notebook_id:n,sort_by:"created_at",sort_order:"desc"}).pipe(_e(t=>{console.log("Loaded sources:",t.total)}),Se(t=>(this.error.set(t.message),L({sources:[],total:0})))).subscribe(t=>{this.notebooks.update(r=>r.map(o=>o.id===n?B(E({},o),{sources:t.sources}):o))})}askQuestion(n){this.vectorApi.ingestNotebook(n,{chunk_size:1e3,overlap:200,force_reingest:!1}).pipe(_e(t=>{console.log("Ingested chunks:",t.chunks_ingested)}),ut(()=>this.vectorApi.askQuestion(n,{question:"What are the main topics covered in this notebook?",max_sources:5,temperature:.3})),Se(t=>(this.error.set(t.message),L(null)))).subscribe(t=>{t&&(this.qaAnswer.set(t),console.log("QA Answer:",t))})}deleteNotebook(n){confirm("Are you sure you want to delete this notebook?")&&this.notebookApi.deleteNotebook(n,!0).pipe(_e(()=>{console.log("Deleted notebook:",n)}),Se(t=>(this.error.set(t.message),L(null)))).subscribe(()=>{this.notebooks.update(t=>t.filter(r=>r.id!==n))})}addTextSource(n,t,r){this.sourceApi.importTextSource({notebook_id:n,title:t,content:r}).pipe(_e(o=>{console.log("Added text source:",o)}),Se(o=>(this.error.set(o.message),L(null)))).subscribe(()=>{this.loadNotebookSources(n)})}generateBlogPost(n){this.notebookApi.generateBlogPost(n,{title:"Summary Blog Post",target_word_count:550,tone:"informative",include_references:!0}).pipe(_e(t=>{console.log("Generated blog post:",t),console.log("Word count:",t.word_count)}),Se(t=>(this.error.set(t.message),L(null)))).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=W({type:e,selectors:[["app-notebook-example"]],decls:20,vars:5,consts:[[1,"notebook-example"],[1,"create-section"],[3,"click"],[1,"success"],[1,"list-section"],[1,"loading"],[1,"notebook-list"],[1,"notebook-card"],[1,"qa-section"],[1,"error"],[1,"meta"],[1,"actions"],[1,"sources"],[1,"source-item"],[1,"type"],[1,"answer"],[1,"source"]],template:function(t,r){t&1&&(Q(0,"div",0)(1,"h2"),p(2,"Notebook Manager Example"),j(),Q(3,"section",1)(4,"h3"),p(5,"Create Notebook"),j(),Q(6,"button",2),yr("click",function(){return r.createExampleNotebook()}),p(7,"Create Example Notebook"),j(),qn(8,$A,2,2,"div",3),j(),Q(9,"section",4)(10,"h3"),p(11),j(),Q(12,"button",2),yr("click",function(){return r.loadNotebooks()}),p(13,"Refresh List"),j(),qn(14,UA,2,0,"div",5),Q(15,"div",6),eo(16,GA,20,6,"div",7,dE),j()(),qn(18,WA,21,3,"section",8),qn(19,QA,2,1,"div",9),j()),t&2&&(g(8),Wn(r.createdNotebook()?8:-1),g(3),A("Notebooks (",r.notebooks().length,")"),g(3),Wn(r.loading()?14:-1),g(2),to(r.notebooks()),g(2),Wn(r.qaAnswer()?18:-1),g(),Wn(r.error()?19:-1))},dependencies:[ee],styles:[".notebook-example[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}section[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;border:1px solid #ddd;border-radius:8px}.notebook-card[_ngcontent-%COMP%]{padding:15px;margin:10px 0;border:1px solid #eee;border-radius:4px;background:#f9f9f9}.meta[_ngcontent-%COMP%]{display:flex;gap:15px;margin:10px 0;font-size:.9em;color:#666}.actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:10px}button[_ngcontent-%COMP%]{padding:8px 16px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background:#0056b3}.success[_ngcontent-%COMP%]{padding:10px;margin-top:10px;background:#d4edda;color:#155724;border-radius:4px}.error[_ngcontent-%COMP%]{padding:10px;margin-top:10px;background:#f8d7da;color:#721c24;border-radius:4px}.loading[_ngcontent-%COMP%]{padding:10px;color:#666;font-style:italic}.sources[_ngcontent-%COMP%]{margin-top:15px;padding:10px;background:#fff;border-radius:4px}.source-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px;border-bottom:1px solid #eee}.type[_ngcontent-%COMP%]{color:#666;font-size:.9em}.answer[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:4px}.source[_ngcontent-%COMP%]{padding:10px;margin:10px 0;background:#f9f9f9;border-left:3px solid #007bff}"]})};var Lu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=ot({type:e,bootstrap:[Xc]});static \u0275inj=et({imports:[Nh,Ae.forRoot(cE),Fu,mo]})};Th().bootstrapModule(Lu).catch(e=>console.error(e));
